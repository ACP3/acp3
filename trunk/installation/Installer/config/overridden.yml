services:
  core.request:
    class: ACP3\Core\Request
    arguments: ['@core.db', '@core.modules']

  core.router.aliases:
    class: ACP3\Core\Router\Aliases
    arguments: ['@?core.db']

  core.session:
    class: ACP3\Core\Session
    arguments: ['@?core.db']

  core.auth:
    class: ACP3\Core\Auth
    arguments: ['@?core.db', '@core.session', '@core.helpers.secure']

  core.acl:
    class: ACP3\Core\ACL
    arguments: ['@core.auth', '@?core.db']

  core.modules:
    class: ACP3\Core\Modules
    arguments: ['@?core.db', '@core.acl', '@core.lang']

  core.seo:
    class: ACP3\Core\SEO
    arguments: ['@?core.db', '@core.lang', '@core.request', '@core.router.aliases', '@core.view']

  core.breadcrumb:
    class: ACP3\Core\Breadcrumb
    arguments: ['@?core.db', '@core.lang', '@core.request', '@core.router', '@core.view']

  core.functions:
    class: ACP3\Core\Functions
    arguments: ['@core.auth', '@?core.db', '@core.view']

  system.config:
    class: ACP3\Core\Config
    arguments: ['@?core.db', 'system']

  core.modules.abstract.installer:
    abstract: true
    argument: ['@?core.db', '@system.model', '@permissions.model']

  core.validator.rules.router.aliases:
    class: ACP3\Core\Validator\Rules\Router\Aliases
    arguments: ['@?core.db', '@core.validator.rules.router']
