services:
  core.view:
    class: ACP3\Core\View
    arguments:
      - '@core.view.renderer.smarty'

  core.view.renderer.smarty_renderer_factory:
    class: ACP3\Core\View\Renderer\SmartyRendererFactory
    arguments:
      - '@core.environment.application_path'
      - '@core.config'
      - %core.environment%

  core.view.renderer.smarty:
    class: ACP3\Core\View\Renderer\Smarty
    factory: ['@core.view.renderer.smarty_renderer_factory', create]

  core.view.context.template_context:
    class: ACP3\Core\View\Block\Context\TemplateContext
    arguments:
      - '@core.view'
      - '@core.breadcrumb'
      - '@core.breadcrumb.title'

  core.view.context.form_template_context:
    class: ACP3\Core\View\Block\Context\FormTemplateContext
    arguments:
      - '@core.view.context.template_context'
      - '@core.helpers.forms'
      - '@core.helpers.formToken'
