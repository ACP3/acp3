services:
  core.view:
    class: ACP3\Core\View
    arguments:
      - '@core.view.renderer.smarty'

  core.view.renderer.smarty_renderer_factory:
    class: ACP3\Core\View\Renderer\SmartyRendererFactory
    arguments:
      - '@core.environment.application_path'
      - '@core.config'
      - %core.environment%

  core.view.renderer.smarty:
    class: ACP3\Core\View\Renderer\Smarty
    factory: ['@core.view.renderer.smarty_renderer_factory', create]

  core.view.context.form_block_context:
    class: ACP3\Core\View\Block\Context\FormBlockContext
    arguments:
      - '@core.view.context.block_context'
      - '@core.helpers.forms'
      - '@core.helpers.formToken'

  core.view.context.listing_block_context:
    class: ACP3\Core\View\Block\Context\ListingBlockContext
    arguments:
      - '@core.view.context.block_context'
      - '@core.helpers.results_per_page'
      - '@core.pagination'

  core.view.context.block_context:
    class: ACP3\Core\View\Block\Context\BlockContext
    arguments:
      - '@core.view'
      - '@core.breadcrumb'
      - '@core.breadcrumb.title'
