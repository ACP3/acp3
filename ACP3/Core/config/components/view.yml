services:
  core.view:
    class: ACP3\Core\View
    arguments:
      - '@core.view.renderer.smarty'

  core.view.renderer.smarty.smarty_configurator:
    class: ACP3\Core\View\Renderer\Smarty\SmartyConfigurator
    arguments:
      - '@core.environment.application_path'
      - '@core.config'
      - '%core.environment%'

  smarty:
    class: Smarty
    configurator: 'core.view.renderer.smarty.smarty_configurator:configure'

  core.view.renderer.smarty:
    class: ACP3\Core\View\Renderer\Smarty
    arguments:
      - '@smarty'
      - '@core.view.renderer.smarty.plugin_service_locator'

  core.view.renderer.smarty.plugin_service_locator:
    class: Symfony\Component\DependencyInjection\ServiceLocator
    arguments:
      - []
    tags: ['container.service_locator']
