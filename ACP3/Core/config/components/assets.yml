services:
  core.assets:
    class: ACP3\Core\Assets

  core.assets.cache:
    class: ACP3\Core\Assets\Cache
    arguments: ['@core.cache.system']

  core.assets.abstractMinifier:
    class: ACP3\Core\Assets\AbstractMinifier
    arguments: [@core.assets, @core.cache.system, @core.config, @core.modules, @core.assets.themeResolver]
    abstract: true

  core.assets.minifier.css:
    class: ACP3\Core\Assets\Minifier\CSS
    parent: core.assets.abstractMinifier

  core.assets.minifier.javascript:
    class: ACP3\Core\Assets\Minifier\JavaScript
    parent: core.assets.abstractMinifier

  core.assets.themeResolver:
    class: ACP3\Core\Assets\ThemeResolver
    arguments: ['@core.xml', '@core.assets.cache', @core.modules.vendors]

  core.assets.pageCssClasses:
    class: ACP3\Core\Assets\PageCssClasses
    arguments: ['@core.breadcrumb', '@core.request']