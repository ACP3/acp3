imports:
  - { resource: cache.yml }
  - { resource: ../../config.yml }
  - { resource: components/application.yml }
  - { resource: components/assets.yml }
  - { resource: components/authentication.yml }
  - { resource: components/breadcrumb.yml }
  - { resource: components/cache.yml }
  - { resource: components/controller.yml }
  - { resource: components/database.yml }
  - { resource: components/datagrid.yml }
  - { resource: components/date.yml }
  - { resource: components/helpers.yml }
  - { resource: components/http.yml }
  - { resource: components/installer.yml }
  - { resource: components/language.yml }
  - { resource: components/logger.yml }
  - { resource: components/mailer.yml }
  - { resource: components/model.yml }
  - { resource: components/modules.yml }
  - { resource: components/validation.yml }
  - { resource: components/view.yml }
  - { resource: components/wysiwyg.yml }
  - { resource: ../../Modules/ACP3/Permissions/Resources/config/services.yml }
  - { resource: ../../Modules/ACP3/System/Resources/config/services.yml }
  - { resource: ../../Modules/ACP3/Users/Resources/config/services.yml }

services:
  core.acl:
    class: ACP3\Core\ACL
    arguments:
      - '@users.model.user_model'
      - '@core.modules'
      - '@permissions.model.userrolerepository'
      - '@permissions.cache'
    public: false;

  core.config:
    class: ACP3\Core\Settings\Settings
    arguments:
      - '@core.event_dispatcher'
      - '@core.cache.system'
      - '@system.model.modulerepository'
      - '@system.model.settingsrepository'

  core.environment.application_path:
    synthetic: true

  core.image:
    class: ACP3\Core\Picture
    arguments:
      - '@core.http.response'
      - '@core.environment.application_path'
      - '%core.environment%'
    shared: false

  core.pagination:
    class: ACP3\Core\Pagination
    arguments:
      - '@core.breadcrumb.title'
      - '@core.i18n.translator'
      - '@core.http.request'
      - '@core.router'
    public: false

  core.router:
    class: ACP3\Core\Router\Router
    arguments:
      - '@core.http.request'
      - '@core.environment.application_path'
      - '@core.config'
      - '%core.environment%'
    public: false

  core.session:
    class: ACP3\Core\Session\SessionHandler
    arguments:
      - '@core.db'
      - '@core.environment.application_path'
      - '@core.http.request'
      - '@core.http.response'
    public: false

  core.xml:
    class: ACP3\Core\XML
    public: false

  core.event_dispatcher:
    class: Symfony\Component\EventDispatcher\ContainerAwareEventDispatcher
    arguments:
      - '@service_container'
    public: false
