parameters:
  env(ACP3_APPLICATION_MODE): !php/const ACP3\Core\Environment\ApplicationMode::CLI

services:
  symfony_console:
    class: Symfony\Component\Console\Application
    calls:
      - ['setDispatcher', ['@core.event_dispatcher']]
    public: true

  acp3.core.console.command.assets_clear_command:
    class: ACP3\Core\Console\Command\AssetsClearCommand
    arguments:
      - '@core.environment.application_path'
    tags:
      - { name: acp3.console.command }

  acp3.core.console.command.cache_clear_command:
    class: ACP3\Core\Console\Command\CacheClearCommand
    arguments:
      - '@core.environment.application_path'
    tags:
      - { name: acp3.console.command }

  acp3.core.console.command.modules_update_command:
    class: ACP3\Core\Console\Command\ModulesUpdateCommand
    arguments:
    - '@core.installer.model.schema_update_model'
    tags:
    - { name: acp3.console.command }

  acp3.core.console.command.component_paths_command:
    class: ACP3\Core\Console\Command\ComponentPathsCommand
    tags:
      - { name: acp3.console.command }
