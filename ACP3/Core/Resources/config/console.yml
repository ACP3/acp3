parameters:
  env(ACP3_APPLICATION_MODE): !php/const ACP3\Core\Environment\ApplicationMode::CLI

services:
  _defaults:
    autowire: true

  symfony_console:
    class: Symfony\Component\Console\Application
    calls:
      - ["setDispatcher", ["@core.event_dispatcher"]]
    public: true

  ACP3\Core\Console\Command\:
    resource: "../../../src/Console/Command/"
    tags:
      - { name: acp3.console.command }

  acp3.core.console.command.assets_clear_command: '@ACP3\Core\Console\Command\AssetsClearCommand'
  acp3.core.console.command.cache_clear_command: '@ACP3\Core\Console\Command\CacheClearCommand'
  acp3.core.console.command.modules_update_command: '@ACP3\Core\Console\Command\ModulesUpdateCommand'
  acp3.core.console.command.component_paths_command: '@ACP3\Core\Console\Command\ComponentPathsCommand'
