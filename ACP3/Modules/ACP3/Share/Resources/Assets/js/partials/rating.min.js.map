{"version":3,"sources":["ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/rating.js","ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/event-handler.js"],"names":["_$eventHandler_2","_arrayLikeToArray","arr","len","length","i","arr2","Array","element","eventName","selectorOrTargetElement","handler","addEventListener","event","elems","document","querySelectorAll","forEach","elem","contains","target","ratingWrapper","getElementById","delegateEvent","_document$querySelect","_document$querySelect2","querySelector","remove","click","elemIndex","parentElement","children","isArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","TypeError","indexOf","ratingStars","index","item","classList","add"],"mappings":"CAAA,WACA,IAAAA,EAAA,GCIA,SAAAC,EAAAC,EAAAC,IAAA,MAAAA,GAAAA,EAAAD,EAAAE,UAAAD,EAAAD,EAAAE,QAAA,IAAA,IAAAC,EAAA,EAAAC,EAAA,IAAAC,MAAAJ,GAAAE,EAAAF,EAAAE,IAAAC,EAAAD,GAAAH,EAAAG,GAAA,OAAAC,mECOO,SAAuBE,EAASC,EAAWC,EAAyBC,GACzEH,EAAQI,iBAAiBH,GAAW,SAACI,GACnC,GAAuC,iBAA5BH,EAAsC,CAC/C,IAAMI,EAAQC,SAASC,iBAAiBN,GAExC,IAAKI,EACH,OAGFA,EAAMG,SAAQ,SAACC,GACTA,GAAQA,EAAKC,SAASN,EAAMO,SAC9BT,EAAQE,EAAOK,WAGVR,GAA2BA,EAAwBS,SAASN,EAAMO,SAC3ET,EAAQE,EAAOH,ODpBrB,IAAMW,EAAgBN,SAASO,eAAe,mBAAA,EAE9CtB,EAAAuB,eAAcF,EAAe,QAAS,uBAAuB,WAAM,IAAAG,EAAAC,EACjE,QAAAD,EAAAT,SAASW,cAAc,2BAAA,IAAvBF,GAAAA,EAA4CG,SAC5C,QAAAF,EAAAV,SAASW,cAAc,iCAAA,IAAvBD,GAAAA,EAAkDE,SAElDZ,SAASO,eAAe,yBAAyBM,YAAA,EAKnD5B,EAAAuB,eAAcF,EAAe,QAAS,kCAAkC,SAACR,EAAOK,GAC9E,IAdFhB,EAcQ2B,GAdR3B,EAcwBgB,EAAKY,cAAcC,SAd3C,SAAA7B,GAAA,GAAAK,MAAAyB,QAAA9B,GAAA,OAAAD,EAAAC,GAAA,CAAAA,IAAA,SAAA+B,GAAA,GAAA,oBAAAC,QAAA,MAAAD,EAAAC,OAAAC,WAAA,MAAAF,EAAA,cAAA,OAAA1B,MAAA6B,KAAAH,GAAA,CAAA/B,IAAA,SAAAmC,EAAAC,GAAA,GAAAD,EAAA,CAAA,GAAA,iBAAAA,EAAA,OAAApC,EAAAoC,OAAA,GAAA,IAAAE,EAAAC,OAAAC,UAAAC,SAAAC,KAAAN,GAAAO,MAAA,GAAA,GAAA,MAAA,WAAAL,GAAAF,EAAAQ,cAAAN,EAAAF,EAAAQ,YAAAC,MAAA,QAAAP,GAAA,QAAAA,EAAAhC,MAAA6B,KAAAC,GAAA,cAAAE,GAAA,2CAAAQ,KAAAR,GAAAtC,EAAAoC,OAAA,QAAA,GAAA,CAAAnC,IAAA,WAAA,MAAA,IAAA8C,UAAA,wIAAA,IAcqDC,QAAQ/B,GACrDgC,EAAcnC,SAASC,iBAAiB,2BAGxCmC,EAAQD,EAAY9C,OAAS,EAAIyB,EACvCqB,EAAYE,KAAKD,GAAOE,UAAUC,IAAI,wBACtCJ,EAAYE,KAAKD,GAAOvB,WDzB1B","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\nimport { delegateEvent } from \"../../../../../System/Resources/Assets/js/lib/event-handler\";\n\nconst ratingWrapper = document.getElementById(\"rating-wrapper\");\n\ndelegateEvent(ratingWrapper, \"click\", \".rating__star-input\", () => {\n  document.querySelector(\".rating__average\")?.remove();\n  document.querySelector(\".rating__already-rated\")?.remove();\n\n  document.getElementById(\"js-rating-form-submit\").click();\n});\n\n// For touch based devices (i.e. w/o support for the hover event), we have to get a little creative\n// if there are already ratings and the user taps into an area within the average rating.\ndelegateEvent(ratingWrapper, \"click\", \".rating__average .rating__star\", (event, elem) => {\n  const elemIndex = [...elem.parentElement.children].indexOf(elem);\n  const ratingStars = document.querySelectorAll(\".rating > .rating__star\");\n\n  // .rating__average sets the direction back to ltr, so we have to account for this\n  const index = ratingStars.length - 1 - elemIndex;\n  ratingStars.item(index).classList.add(\"rating__star--active\");\n  ratingStars.item(index).click();\n});\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\n/**\n *\n * @param {HTMLElement|Document} element\n * @param {string} eventName\n * @param {string|HTMLElement} selectorOrTargetElement\n * @param {function} handler\n */\nexport function delegateEvent(element, eventName, selectorOrTargetElement, handler) {\n  element.addEventListener(eventName, (event) => {\n    if (typeof selectorOrTargetElement === \"string\") {\n      const elems = document.querySelectorAll(selectorOrTargetElement);\n\n      if (!elems) {\n        return;\n      }\n\n      elems.forEach((elem) => {\n        if (elem && elem.contains(event.target)) {\n          handler(event, elem);\n        }\n      });\n    } else if (selectorOrTargetElement && selectorOrTargetElement.contains(event.target)) {\n      handler(event, selectorOrTargetElement);\n    }\n  });\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1NoYXJlL1Jlc291cmNlcy9Bc3NldHMvanMvcGFydGlhbHMvcmF0aW5nLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvbGliL2V2ZW50LWhhbmRsZXIuanMiXSwibmFtZXMiOlsiXyRldmVudEhhbmRsZXJfMiIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwibGVuZ3RoIiwiaSIsImFycjIiLCJBcnJheSIsImVsZW1lbnQiLCJldmVudE5hbWUiLCJzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJlbGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJyYXRpbmdXcmFwcGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJkZWxlZ2F0ZUV2ZW50IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0MiIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJjbGljayIsImVsZW1JbmRleCIsInBhcmVudEVsZW1lbnQiLCJjaGlsZHJlbiIsImlzQXJyYXkiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwibyIsIm1pbkxlbiIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRlc3QiLCJUeXBlRXJyb3IiLCJpbmRleE9mIiwicmF0aW5nU3RhcnMiLCJpbmRleCIsIml0ZW0iLCJjbGFzc0xpc3QiLCJhZGQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsSUFBQUEsRUFBQSxHQ0lBLFNBQUFDLEVBQUFDLEVBQUFDLElBQUEsTUFBQUEsR0FBQUEsRUFBQUQsRUFBQUUsVUFBQUQsRUFBQUQsRUFBQUUsUUFBQSxJQUFBLElBQUFDLEVBQUEsRUFBQUMsRUFBQSxJQUFBQyxNQUFBSixHQUFBRSxFQUFBRixFQUFBRSxJQUFBQyxFQUFBRCxHQUFBSCxFQUFBRyxHQUFBLE9BQUFDLG1FQ09PLFNBQXVCRSxFQUFTQyxFQUFXQyxFQUF5QkMsR0FDekVILEVBQVFJLGlCQUFpQkgsR0FBVyxTQUFDSSxHQUNuQyxHQUF1QyxpQkFBNUJILEVBQXNDLENBQy9DLElBQU1JLEVBQVFDLFNBQVNDLGlCQUFpQk4sR0FFeEMsSUFBS0ksRUFDSCxPQUdGQSxFQUFNRyxTQUFRLFNBQUNDLEdBQ1RBLEdBQVFBLEVBQUtDLFNBQVNOLEVBQU1PLFNBQzlCVCxFQUFRRSxFQUFPSyxXQUdWUixHQUEyQkEsRUFBd0JTLFNBQVNOLEVBQU1PLFNBQzNFVCxFQUFRRSxFQUFPSCxPRHBCckIsSUFBTVcsRUFBZ0JOLFNBQVNPLGVBQWUsbUJBQUEsRUFFOUN0QixFQUFBdUIsZUFBY0YsRUFBZSxRQUFTLHVCQUF1QixXQUFNLElBQUFHLEVBQUFDLEVBQ2pFLFFBQUFELEVBQUFULFNBQVNXLGNBQWMsMkJBQUEsSUFBdkJGLEdBQUFBLEVBQTRDRyxTQUM1QyxRQUFBRixFQUFBVixTQUFTVyxjQUFjLGlDQUFBLElBQXZCRCxHQUFBQSxFQUFrREUsU0FFbERaLFNBQVNPLGVBQWUseUJBQXlCTSxZQUFBLEVBS25ENUIsRUFBQXVCLGVBQWNGLEVBQWUsUUFBUyxrQ0FBa0MsU0FBQ1IsRUFBT0ssR0FDOUUsSUFkRmhCLEVBY1EyQixHQWRSM0IsRUFjd0JnQixFQUFLWSxjQUFjQyxTQWQzQyxTQUFBN0IsR0FBQSxHQUFBSyxNQUFBeUIsUUFBQTlCLEdBQUEsT0FBQUQsRUFBQUMsR0FBQSxDQUFBQSxJQUFBLFNBQUErQixHQUFBLEdBQUEsb0JBQUFDLFFBQUEsTUFBQUQsRUFBQUMsT0FBQUMsV0FBQSxNQUFBRixFQUFBLGNBQUEsT0FBQTFCLE1BQUE2QixLQUFBSCxHQUFBLENBQUEvQixJQUFBLFNBQUFtQyxFQUFBQyxHQUFBLEdBQUFELEVBQUEsQ0FBQSxHQUFBLGlCQUFBQSxFQUFBLE9BQUFwQyxFQUFBb0MsT0FBQSxHQUFBLElBQUFFLEVBQUFDLE9BQUFDLFVBQUFDLFNBQUFDLEtBQUFOLEdBQUFPLE1BQUEsR0FBQSxHQUFBLE1BQUEsV0FBQUwsR0FBQUYsRUFBQVEsY0FBQU4sRUFBQUYsRUFBQVEsWUFBQUMsTUFBQSxRQUFBUCxHQUFBLFFBQUFBLEVBQUFoQyxNQUFBNkIsS0FBQUMsR0FBQSxjQUFBRSxHQUFBLDJDQUFBUSxLQUFBUixHQUFBdEMsRUFBQW9DLE9BQUEsUUFBQSxHQUFBLENBQUFuQyxJQUFBLFdBQUEsTUFBQSxJQUFBOEMsVUFBQSx3SUFBQSxJQWNxREMsUUFBUS9CLEdBQ3JEZ0MsRUFBY25DLFNBQVNDLGlCQUFpQiwyQkFHeENtQyxFQUFRRCxFQUFZOUMsT0FBUyxFQUFJeUIsRUFDdkNxQixFQUFZRSxLQUFLRCxHQUFPRSxVQUFVQyxJQUFJLHdCQUN0Q0osRUFBWUUsS0FBS0QsR0FBT3ZCLFdEekIxQiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5DRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5jaW5nIGRldGFpbHMuXG4gKi9cblxuaW1wb3J0IHsgZGVsZWdhdGVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9TeXN0ZW0vUmVzb3VyY2VzL0Fzc2V0cy9qcy9saWIvZXZlbnQtaGFuZGxlclwiO1xuXG5jb25zdCByYXRpbmdXcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYXRpbmctd3JhcHBlclwiKTtcblxuZGVsZWdhdGVFdmVudChyYXRpbmdXcmFwcGVyLCBcImNsaWNrXCIsIFwiLnJhdGluZ19fc3Rhci1pbnB1dFwiLCAoKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmF0aW5nX19hdmVyYWdlXCIpPy5yZW1vdmUoKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYXRpbmdfX2FscmVhZHktcmF0ZWRcIik/LnJlbW92ZSgpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwianMtcmF0aW5nLWZvcm0tc3VibWl0XCIpLmNsaWNrKCk7XG59KTtcblxuLy8gRm9yIHRvdWNoIGJhc2VkIGRldmljZXMgKGkuZS4gdy9vIHN1cHBvcnQgZm9yIHRoZSBob3ZlciBldmVudCksIHdlIGhhdmUgdG8gZ2V0IGEgbGl0dGxlIGNyZWF0aXZlXG4vLyBpZiB0aGVyZSBhcmUgYWxyZWFkeSByYXRpbmdzIGFuZCB0aGUgdXNlciB0YXBzIGludG8gYW4gYXJlYSB3aXRoaW4gdGhlIGF2ZXJhZ2UgcmF0aW5nLlxuZGVsZWdhdGVFdmVudChyYXRpbmdXcmFwcGVyLCBcImNsaWNrXCIsIFwiLnJhdGluZ19fYXZlcmFnZSAucmF0aW5nX19zdGFyXCIsIChldmVudCwgZWxlbSkgPT4ge1xuICBjb25zdCBlbGVtSW5kZXggPSBbLi4uZWxlbS5wYXJlbnRFbGVtZW50LmNoaWxkcmVuXS5pbmRleE9mKGVsZW0pO1xuICBjb25zdCByYXRpbmdTdGFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0aW5nID4gLnJhdGluZ19fc3RhclwiKTtcblxuICAvLyAucmF0aW5nX19hdmVyYWdlIHNldHMgdGhlIGRpcmVjdGlvbiBiYWNrIHRvIGx0ciwgc28gd2UgaGF2ZSB0byBhY2NvdW50IGZvciB0aGlzXG4gIGNvbnN0IGluZGV4ID0gcmF0aW5nU3RhcnMubGVuZ3RoIC0gMSAtIGVsZW1JbmRleDtcbiAgcmF0aW5nU3RhcnMuaXRlbShpbmRleCkuY2xhc3NMaXN0LmFkZChcInJhdGluZ19fc3Rhci0tYWN0aXZlXCIpO1xuICByYXRpbmdTdGFycy5pdGVtKGluZGV4KS5jbGljaygpO1xufSk7XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTkNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbmNpbmcgZGV0YWlscy5cbiAqL1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fERvY3VtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gKiBAcGFyYW0ge3N0cmluZ3xIVE1MRWxlbWVudH0gc2VsZWN0b3JPclRhcmdldEVsZW1lbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGVnYXRlRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCBzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCwgaGFuZGxlcikge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCAoZXZlbnQpID0+IHtcbiAgICBpZiAodHlwZW9mIHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JPclRhcmdldEVsZW1lbnQpO1xuXG4gICAgICBpZiAoIWVsZW1zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoZWxlbSAmJiBlbGVtLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICBoYW5kbGVyKGV2ZW50LCBlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCAmJiBzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICBoYW5kbGVyKGV2ZW50LCBzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==","file":"rating.min.js"}