{"version":3,"file":"./ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/rating.min.js","mappings":"yBAYO,SAASA,EAAcC,EAASC,EAAWC,EAAyBC,GACzEH,EAAQI,iBAAiBH,GAAYI,IACnC,GAAuC,iBAA5BH,EAAsC,CAC/C,MAAMI,EAAQC,SAASC,iBAAiBN,GAExC,IAAKI,EACH,OAGFA,EAAMG,SAASC,IACTA,GAAQA,EAAKC,SAASN,EAAMO,SAC9BT,EAAQE,EAAOK,EAChB,GAEJ,MAAUR,GAA2BA,EAAwBS,SAASN,EAAMO,SAC3ET,EAAQE,EAAOH,EAChB,GAEJ,CCvBD,MAAMW,EAAgBN,SAASO,eAAe,kBAE9Cf,EAAcc,EAAe,QAAS,uBAAuB,KAAM,QACjE,UAAAN,SAASQ,cAAc,2BAAvB,SAA4CC,SAC5C,UAAAT,SAASQ,cAAc,iCAAvB,SAAkDC,SAElDT,SAASO,eAAe,yBAAyBG,OAAjD,IAKFlB,EAAcc,EAAe,QAAS,kCAAkC,CAACR,EAAOK,KAC9E,MAAMQ,EAAY,IAAIR,EAAKS,cAAcC,UAAUC,QAAQX,GACrDY,EAAcf,SAASC,iBAAiB,2BAGxCe,EAAQD,EAAYE,OAAS,EAAIN,EACvCI,EAAYG,KAAKF,GAAOG,UAAUC,IAAI,wBACtCL,EAAYG,KAAKF,GAAON,OAAxB,G","sources":["webpack://acp3-cms/./ACP3/Modules/ACP3/System/Resources/Assets/js/lib/event-handler.js","webpack://acp3-cms/./ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/rating.js"],"sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\n/**\n *\n * @param {HTMLElement|Document} element\n * @param {string} eventName\n * @param {string|HTMLElement} selectorOrTargetElement\n * @param {function} handler\n */\nexport function delegateEvent(element, eventName, selectorOrTargetElement, handler) {\n  element.addEventListener(eventName, (event) => {\n    if (typeof selectorOrTargetElement === \"string\") {\n      const elems = document.querySelectorAll(selectorOrTargetElement);\n\n      if (!elems) {\n        return;\n      }\n\n      elems.forEach((elem) => {\n        if (elem && elem.contains(event.target)) {\n          handler(event, elem);\n        }\n      });\n    } else if (selectorOrTargetElement && selectorOrTargetElement.contains(event.target)) {\n      handler(event, selectorOrTargetElement);\n    }\n  });\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\nimport { delegateEvent } from \"../../../../../System/Resources/Assets/js/lib/event-handler\";\n\nconst ratingWrapper = document.getElementById(\"rating-wrapper\");\n\ndelegateEvent(ratingWrapper, \"click\", \".rating__star-input\", () => {\n  document.querySelector(\".rating__average\")?.remove();\n  document.querySelector(\".rating__already-rated\")?.remove();\n\n  document.getElementById(\"js-rating-form-submit\").click();\n});\n\n// For touch based devices (i.e. w/o support for the hover event), we have to get a little creative\n// if there are already ratings and the user taps into an area within the average rating.\ndelegateEvent(ratingWrapper, \"click\", \".rating__average .rating__star\", (event, elem) => {\n  const elemIndex = [...elem.parentElement.children].indexOf(elem);\n  const ratingStars = document.querySelectorAll(\".rating > .rating__star\");\n\n  // .rating__average sets the direction back to ltr, so we have to account for this\n  const index = ratingStars.length - 1 - elemIndex;\n  ratingStars.item(index).classList.add(\"rating__star--active\");\n  ratingStars.item(index).click();\n});\n"],"names":["delegateEvent","element","eventName","selectorOrTargetElement","handler","addEventListener","event","elems","document","querySelectorAll","forEach","elem","contains","target","ratingWrapper","getElementById","querySelector","remove","click","elemIndex","parentElement","children","indexOf","ratingStars","index","length","item","classList","add"],"sourceRoot":""}