{"version":3,"sources":["ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/event-handler.js","ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/rating.js"],"names":["_$eventHandler_2","element","eventName","selectorOrTargetElement","handler","addEventListener","event","elems","document","querySelectorAll","forEach","elem","contains","target","ratingWrapper","getElementById","delegateEvent","_document$querySelect","_document$querySelect2","querySelector","remove","click","elemIndex","parentElement","children","indexOf","ratingStars","index","length","item","classList","add"],"mappings":"CAAA,WACA,IAAAA,EAAA,oECWO,SAAuBC,EAASC,EAAWC,EAAyBC,GACzEH,EAAQI,iBAAiBH,EAAYI,IACnC,GAAuC,iBAA5BH,EAAsC,CAC/C,MAAMI,EAAQC,SAASC,iBAAiBN,GAExC,IAAKI,EACH,OAGFA,EAAMG,QAASC,IACTA,GAAQA,EAAKC,SAASN,EAAMO,SAC9BT,EAAQE,EAAOK,UAGVR,GAA2BA,EAAwBS,SAASN,EAAMO,SAC3ET,EAAQE,EAAOH,MCpBrB,MAAMW,EAAgBN,SAASO,eAAe,mBAAA,EAE9Cf,EAAAgB,eAAcF,EAAe,QAAS,sBAAuB,KAAM,IAAAG,EAAAC,EACjE,QAAAD,EAAAT,SAASW,cAAc,2BAAA,IAAvBF,GAAAA,EAA4CG,SAC5C,QAAAF,EAAAV,SAASW,cAAc,iCAAA,IAAvBD,GAAAA,EAAkDE,SAElDZ,SAASO,eAAe,yBAAyBM,WAAA,EAKnDrB,EAAAgB,eAAcF,EAAe,QAAS,iCAAkC,CAACR,EAAOK,KAC9E,MAAMW,EAAY,IAAIX,EAAKY,cAAcC,UAAUC,QAAQd,GACrDe,EAAclB,SAASC,iBAAiB,2BAGxCkB,EAAQD,EAAYE,OAAS,EAAIN,EACvCI,EAAYG,KAAKF,GAAOG,UAAUC,IAAI,wBACtCL,EAAYG,KAAKF,GAAON,UFzB1B","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\n/**\n *\n * @param {HTMLElement|Document} element\n * @param {string} eventName\n * @param {string|HTMLElement} selectorOrTargetElement\n * @param {function} handler\n */\nexport function delegateEvent(element, eventName, selectorOrTargetElement, handler) {\n  element.addEventListener(eventName, (event) => {\n    if (typeof selectorOrTargetElement === \"string\") {\n      const elems = document.querySelectorAll(selectorOrTargetElement);\n\n      if (!elems) {\n        return;\n      }\n\n      elems.forEach((elem) => {\n        if (elem && elem.contains(event.target)) {\n          handler(event, elem);\n        }\n      });\n    } else if (selectorOrTargetElement && selectorOrTargetElement.contains(event.target)) {\n      handler(event, selectorOrTargetElement);\n    }\n  });\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\nimport { delegateEvent } from \"../../../../../System/Resources/Assets/js/lib/event-handler\";\n\nconst ratingWrapper = document.getElementById(\"rating-wrapper\");\n\ndelegateEvent(ratingWrapper, \"click\", \".rating__star-input\", () => {\n  document.querySelector(\".rating__average\")?.remove();\n  document.querySelector(\".rating__already-rated\")?.remove();\n\n  document.getElementById(\"js-rating-form-submit\").click();\n});\n\n// For touch based devices (i.e. w/o support for the hover event), we have to get a little creative\n// if there are already ratings and the user taps into an area within the average rating.\ndelegateEvent(ratingWrapper, \"click\", \".rating__average .rating__star\", (event, elem) => {\n  const elemIndex = [...elem.parentElement.children].indexOf(elem);\n  const ratingStars = document.querySelectorAll(\".rating > .rating__star\");\n\n  // .rating__average sets the direction back to ltr, so we have to account for this\n  const index = ratingStars.length - 1 - elemIndex;\n  ratingStars.item(index).classList.add(\"rating__star--active\");\n  ratingStars.item(index).click();\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9ldmVudC1oYW5kbGVyLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU2hhcmUvUmVzb3VyY2VzL0Fzc2V0cy9qcy9wYXJ0aWFscy9yYXRpbmcuanMiXSwibmFtZXMiOlsiXyRldmVudEhhbmRsZXJfMiIsImVsZW1lbnQiLCJldmVudE5hbWUiLCJzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJlbGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJyYXRpbmdXcmFwcGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJkZWxlZ2F0ZUV2ZW50IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0MiIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJjbGljayIsImVsZW1JbmRleCIsInBhcmVudEVsZW1lbnQiLCJjaGlsZHJlbiIsImluZGV4T2YiLCJyYXRpbmdTdGFycyIsImluZGV4IiwibGVuZ3RoIiwiaXRlbSIsImNsYXNzTGlzdCIsImFkZCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxJQUFBQSxFQUFBLG9FQ1dPLFNBQXVCQyxFQUFTQyxFQUFXQyxFQUF5QkMsR0FDekVILEVBQVFJLGlCQUFpQkgsRUFBWUksSUFDbkMsR0FBdUMsaUJBQTVCSCxFQUFzQyxDQUMvQyxNQUFNSSxFQUFRQyxTQUFTQyxpQkFBaUJOLEdBRXhDLElBQUtJLEVBQ0gsT0FHRkEsRUFBTUcsUUFBU0MsSUFDVEEsR0FBUUEsRUFBS0MsU0FBU04sRUFBTU8sU0FDOUJULEVBQVFFLEVBQU9LLFVBR1ZSLEdBQTJCQSxFQUF3QlMsU0FBU04sRUFBTU8sU0FDM0VULEVBQVFFLEVBQU9ILE1DcEJyQixNQUFNVyxFQUFnQk4sU0FBU08sZUFBZSxtQkFBQSxFQUU5Q2YsRUFBQWdCLGVBQWNGLEVBQWUsUUFBUyxzQkFBdUIsS0FBTSxJQUFBRyxFQUFBQyxFQUNqRSxRQUFBRCxFQUFBVCxTQUFTVyxjQUFjLDJCQUFBLElBQXZCRixHQUFBQSxFQUE0Q0csU0FDNUMsUUFBQUYsRUFBQVYsU0FBU1csY0FBYyxpQ0FBQSxJQUF2QkQsR0FBQUEsRUFBa0RFLFNBRWxEWixTQUFTTyxlQUFlLHlCQUF5Qk0sV0FBQSxFQUtuRHJCLEVBQUFnQixlQUFjRixFQUFlLFFBQVMsaUNBQWtDLENBQUNSLEVBQU9LLEtBQzlFLE1BQU1XLEVBQVksSUFBSVgsRUFBS1ksY0FBY0MsVUFBVUMsUUFBUWQsR0FDckRlLEVBQWNsQixTQUFTQyxpQkFBaUIsMkJBR3hDa0IsRUFBUUQsRUFBWUUsT0FBUyxFQUFJTixFQUN2Q0ksRUFBWUcsS0FBS0YsR0FBT0csVUFBVUMsSUFBSSx3QkFDdENMLEVBQVlHLEtBQUtGLEdBQU9OLFVGekIxQiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5DRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5jaW5nIGRldGFpbHMuXG4gKi9cblxuLyoqXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudHxEb2N1bWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICogQHBhcmFtIHtzdHJpbmd8SFRNTEVsZW1lbnR9IHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxlZ2F0ZUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQsIGhhbmRsZXIpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGV2ZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50KTtcblxuICAgICAgaWYgKCFlbGVtcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgaGFuZGxlcihldmVudCwgZWxlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0b3JPclRhcmdldEVsZW1lbnQgJiYgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgaGFuZGxlcihldmVudCwgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTkNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbmNpbmcgZGV0YWlscy5cbiAqL1xuXG5pbXBvcnQgeyBkZWxlZ2F0ZUV2ZW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9ldmVudC1oYW5kbGVyXCI7XG5cbmNvbnN0IHJhdGluZ1dyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGluZy13cmFwcGVyXCIpO1xuXG5kZWxlZ2F0ZUV2ZW50KHJhdGluZ1dyYXBwZXIsIFwiY2xpY2tcIiwgXCIucmF0aW5nX19zdGFyLWlucHV0XCIsICgpID0+IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYXRpbmdfX2F2ZXJhZ2VcIik/LnJlbW92ZSgpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhdGluZ19fYWxyZWFkeS1yYXRlZFwiKT8ucmVtb3ZlKCk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJqcy1yYXRpbmctZm9ybS1zdWJtaXRcIikuY2xpY2soKTtcbn0pO1xuXG4vLyBGb3IgdG91Y2ggYmFzZWQgZGV2aWNlcyAoaS5lLiB3L28gc3VwcG9ydCBmb3IgdGhlIGhvdmVyIGV2ZW50KSwgd2UgaGF2ZSB0byBnZXQgYSBsaXR0bGUgY3JlYXRpdmVcbi8vIGlmIHRoZXJlIGFyZSBhbHJlYWR5IHJhdGluZ3MgYW5kIHRoZSB1c2VyIHRhcHMgaW50byBhbiBhcmVhIHdpdGhpbiB0aGUgYXZlcmFnZSByYXRpbmcuXG5kZWxlZ2F0ZUV2ZW50KHJhdGluZ1dyYXBwZXIsIFwiY2xpY2tcIiwgXCIucmF0aW5nX19hdmVyYWdlIC5yYXRpbmdfX3N0YXJcIiwgKGV2ZW50LCBlbGVtKSA9PiB7XG4gIGNvbnN0IGVsZW1JbmRleCA9IFsuLi5lbGVtLnBhcmVudEVsZW1lbnQuY2hpbGRyZW5dLmluZGV4T2YoZWxlbSk7XG4gIGNvbnN0IHJhdGluZ1N0YXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRpbmcgPiAucmF0aW5nX19zdGFyXCIpO1xuXG4gIC8vIC5yYXRpbmdfX2F2ZXJhZ2Ugc2V0cyB0aGUgZGlyZWN0aW9uIGJhY2sgdG8gbHRyLCBzbyB3ZSBoYXZlIHRvIGFjY291bnQgZm9yIHRoaXNcbiAgY29uc3QgaW5kZXggPSByYXRpbmdTdGFycy5sZW5ndGggLSAxIC0gZWxlbUluZGV4O1xuICByYXRpbmdTdGFycy5pdGVtKGluZGV4KS5jbGFzc0xpc3QuYWRkKFwicmF0aW5nX19zdGFyLS1hY3RpdmVcIik7XG4gIHJhdGluZ1N0YXJzLml0ZW0oaW5kZXgpLmNsaWNrKCk7XG59KTtcbiJdfQ==","file":"rating.min.js"}