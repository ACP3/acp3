{"version":3,"sources":["ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/rating.js","ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/event-handler.js"],"names":["_$eventHandler_2","_arrayLikeToArray","arr","len","length","i","arr2","Array","element","eventName","selectorOrTargetElement","handler","addEventListener","event","elems","document","querySelectorAll","forEach","elem","contains","target","ratingWrapper","getElementById","delegateEvent","_document$querySelect","_document$querySelect2","querySelector","remove","closest","dispatchEvent","Event","cancelable","elemIndex","parentElement","children","isArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","TypeError","indexOf","ratingStars","index","item","classList","add","MouseEvent"],"mappings":"CAAA,WACA,IAAAA,EAAA,GCIA,SAAAC,EAAAC,EAAAC,IAAA,MAAAA,GAAAA,EAAAD,EAAAE,UAAAD,EAAAD,EAAAE,QAAA,IAAA,IAAAC,EAAA,EAAAC,EAAA,IAAAC,MAAAJ,GAAAE,EAAAF,EAAAE,IAAAC,EAAAD,GAAAH,EAAAG,GAAA,OAAAC,mECOO,SAAuBE,EAASC,EAAWC,EAAyBC,GACzEH,EAAQI,iBAAiBH,GAAW,SAACI,GACnC,GAAuC,iBAA5BH,EAAsC,CAC/C,IAAMI,EAAQC,SAASC,iBAAiBN,GAExC,IAAKI,EACH,OAGFA,EAAMG,SAAQ,SAACC,GACTA,GAAQA,EAAKC,SAASN,EAAMO,SAC9BT,EAAQE,EAAOK,WAGVR,GAA2BA,EAAwBS,SAASN,EAAMO,SAC3ET,EAAQE,EAAOH,ODpBrB,IAAMW,EAAgBN,SAASO,eAAe,mBAAA,EAE9CtB,EAAAuB,eAAcF,EAAe,QAAS,uBAAuB,SAACR,EAAOK,GAAS,IAAAM,EAAAC,EAC5E,QAAAD,EAAAT,SAASW,cAAc,2BAAA,IAAvBF,GAAAA,EAA4CG,SAC5C,QAAAF,EAAAV,SAASW,cAAc,iCAAA,IAAvBD,GAAAA,EAAkDE,SAElDT,EAAKU,QAAQ,QAAQC,cACnB,IAAIC,MAAM,SAAU,CAClBC,YAAA,SAAY,EAOlB/B,EAAAuB,eAAcF,EAAe,QAAS,kCAAkC,SAACR,EAAOK,GAC9E,IAlBFhB,EAkBQ8B,GAlBR9B,EAkBwBgB,EAAKe,cAAcC,SAlB3C,SAAAhC,GAAA,GAAAK,MAAA4B,QAAAjC,GAAA,OAAAD,EAAAC,GAAA,CAAAA,IAAA,SAAAkC,GAAA,GAAA,oBAAAC,QAAA,MAAAD,EAAAC,OAAAC,WAAA,MAAAF,EAAA,cAAA,OAAA7B,MAAAgC,KAAAH,GAAA,CAAAlC,IAAA,SAAAsC,EAAAC,GAAA,GAAAD,EAAA,CAAA,GAAA,iBAAAA,EAAA,OAAAvC,EAAAuC,OAAA,GAAA,IAAAE,EAAAC,OAAAC,UAAAC,SAAAC,KAAAN,GAAAO,MAAA,GAAA,GAAA,MAAA,WAAAL,GAAAF,EAAAQ,cAAAN,EAAAF,EAAAQ,YAAAC,MAAA,QAAAP,GAAA,QAAAA,EAAAnC,MAAAgC,KAAAC,GAAA,cAAAE,GAAA,2CAAAQ,KAAAR,GAAAzC,EAAAuC,OAAA,QAAA,GAAA,CAAAtC,IAAA,WAAA,MAAA,IAAAiD,UAAA,wIAAA,IAkBqDC,QAAQlC,GACrDmC,EAActC,SAASC,iBAAiB,2BAGxCsC,EAAQD,EAAYjD,OAAS,EAAI4B,EACvCqB,EAAYE,KAAKD,GAAOE,UAAUC,IAAI,wBACtCJ,EAAYE,KAAKD,GAAOzB,cAAc,IAAI6B,WAAW,aD7BvD","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\nimport { delegateEvent } from \"../../../../../System/Resources/Assets/js/lib/event-handler\";\n\nconst ratingWrapper = document.getElementById(\"rating-wrapper\");\n\ndelegateEvent(ratingWrapper, \"click\", \".rating__star-input\", (event, elem) => {\n  document.querySelector(\".rating__average\")?.remove();\n  document.querySelector(\".rating__already-rated\")?.remove();\n\n  elem.closest(\"form\").dispatchEvent(\n    new Event(\"submit\", {\n      cancelable: true,\n    })\n  );\n});\n\n// For touch based devices (i.e. w/o support for the hover event), we have to get a little creative\n// if there are already ratings and the user taps into an area within the average rating.\ndelegateEvent(ratingWrapper, \"click\", \".rating__average .rating__star\", (event, elem) => {\n  const elemIndex = [...elem.parentElement.children].indexOf(elem);\n  const ratingStars = document.querySelectorAll(\".rating > .rating__star\");\n\n  // .rating__average sets the direction back to ltr, so we have to account for this\n  const index = ratingStars.length - 1 - elemIndex;\n  ratingStars.item(index).classList.add(\"rating__star--active\");\n  ratingStars.item(index).dispatchEvent(new MouseEvent(\"click\"));\n});\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\n/**\n *\n * @param {HTMLElement|Document} element\n * @param {string} eventName\n * @param {string|HTMLElement} selectorOrTargetElement\n * @param {function} handler\n */\nexport function delegateEvent(element, eventName, selectorOrTargetElement, handler) {\n  element.addEventListener(eventName, (event) => {\n    if (typeof selectorOrTargetElement === \"string\") {\n      const elems = document.querySelectorAll(selectorOrTargetElement);\n\n      if (!elems) {\n        return;\n      }\n\n      elems.forEach((elem) => {\n        if (elem && elem.contains(event.target)) {\n          handler(event, elem);\n        }\n      });\n    } else if (selectorOrTargetElement && selectorOrTargetElement.contains(event.target)) {\n      handler(event, selectorOrTargetElement);\n    }\n  });\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1NoYXJlL1Jlc291cmNlcy9Bc3NldHMvanMvcGFydGlhbHMvcmF0aW5nLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvbGliL2V2ZW50LWhhbmRsZXIuanMiXSwibmFtZXMiOlsiXyRldmVudEhhbmRsZXJfMiIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwibGVuZ3RoIiwiaSIsImFycjIiLCJBcnJheSIsImVsZW1lbnQiLCJldmVudE5hbWUiLCJzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJlbGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJyYXRpbmdXcmFwcGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJkZWxlZ2F0ZUV2ZW50IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0MiIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJjbG9zZXN0IiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiY2FuY2VsYWJsZSIsImVsZW1JbmRleCIsInBhcmVudEVsZW1lbnQiLCJjaGlsZHJlbiIsImlzQXJyYXkiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwibyIsIm1pbkxlbiIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRlc3QiLCJUeXBlRXJyb3IiLCJpbmRleE9mIiwicmF0aW5nU3RhcnMiLCJpbmRleCIsIml0ZW0iLCJjbGFzc0xpc3QiLCJhZGQiLCJNb3VzZUV2ZW50Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLElBQUFBLEVBQUEsR0NJQSxTQUFBQyxFQUFBQyxFQUFBQyxJQUFBLE1BQUFBLEdBQUFBLEVBQUFELEVBQUFFLFVBQUFELEVBQUFELEVBQUFFLFFBQUEsSUFBQSxJQUFBQyxFQUFBLEVBQUFDLEVBQUEsSUFBQUMsTUFBQUosR0FBQUUsRUFBQUYsRUFBQUUsSUFBQUMsRUFBQUQsR0FBQUgsRUFBQUcsR0FBQSxPQUFBQyxtRUNPTyxTQUF1QkUsRUFBU0MsRUFBV0MsRUFBeUJDLEdBQ3pFSCxFQUFRSSxpQkFBaUJILEdBQVcsU0FBQ0ksR0FDbkMsR0FBdUMsaUJBQTVCSCxFQUFzQyxDQUMvQyxJQUFNSSxFQUFRQyxTQUFTQyxpQkFBaUJOLEdBRXhDLElBQUtJLEVBQ0gsT0FHRkEsRUFBTUcsU0FBUSxTQUFDQyxHQUNUQSxHQUFRQSxFQUFLQyxTQUFTTixFQUFNTyxTQUM5QlQsRUFBUUUsRUFBT0ssV0FHVlIsR0FBMkJBLEVBQXdCUyxTQUFTTixFQUFNTyxTQUMzRVQsRUFBUUUsRUFBT0gsT0RwQnJCLElBQU1XLEVBQWdCTixTQUFTTyxlQUFlLG1CQUFBLEVBRTlDdEIsRUFBQXVCLGVBQWNGLEVBQWUsUUFBUyx1QkFBdUIsU0FBQ1IsRUFBT0ssR0FBUyxJQUFBTSxFQUFBQyxFQUM1RSxRQUFBRCxFQUFBVCxTQUFTVyxjQUFjLDJCQUFBLElBQXZCRixHQUFBQSxFQUE0Q0csU0FDNUMsUUFBQUYsRUFBQVYsU0FBU1csY0FBYyxpQ0FBQSxJQUF2QkQsR0FBQUEsRUFBa0RFLFNBRWxEVCxFQUFLVSxRQUFRLFFBQVFDLGNBQ25CLElBQUlDLE1BQU0sU0FBVSxDQUNsQkMsWUFBQSxTQUFZLEVBT2xCL0IsRUFBQXVCLGVBQWNGLEVBQWUsUUFBUyxrQ0FBa0MsU0FBQ1IsRUFBT0ssR0FDOUUsSUFsQkZoQixFQWtCUThCLEdBbEJSOUIsRUFrQndCZ0IsRUFBS2UsY0FBY0MsU0FsQjNDLFNBQUFoQyxHQUFBLEdBQUFLLE1BQUE0QixRQUFBakMsR0FBQSxPQUFBRCxFQUFBQyxHQUFBLENBQUFBLElBQUEsU0FBQWtDLEdBQUEsR0FBQSxvQkFBQUMsUUFBQSxNQUFBRCxFQUFBQyxPQUFBQyxXQUFBLE1BQUFGLEVBQUEsY0FBQSxPQUFBN0IsTUFBQWdDLEtBQUFILEdBQUEsQ0FBQWxDLElBQUEsU0FBQXNDLEVBQUFDLEdBQUEsR0FBQUQsRUFBQSxDQUFBLEdBQUEsaUJBQUFBLEVBQUEsT0FBQXZDLEVBQUF1QyxPQUFBLEdBQUEsSUFBQUUsRUFBQUMsT0FBQUMsVUFBQUMsU0FBQUMsS0FBQU4sR0FBQU8sTUFBQSxHQUFBLEdBQUEsTUFBQSxXQUFBTCxHQUFBRixFQUFBUSxjQUFBTixFQUFBRixFQUFBUSxZQUFBQyxNQUFBLFFBQUFQLEdBQUEsUUFBQUEsRUFBQW5DLE1BQUFnQyxLQUFBQyxHQUFBLGNBQUFFLEdBQUEsMkNBQUFRLEtBQUFSLEdBQUF6QyxFQUFBdUMsT0FBQSxRQUFBLEdBQUEsQ0FBQXRDLElBQUEsV0FBQSxNQUFBLElBQUFpRCxVQUFBLHdJQUFBLElBa0JxREMsUUFBUWxDLEdBQ3JEbUMsRUFBY3RDLFNBQVNDLGlCQUFpQiwyQkFHeENzQyxFQUFRRCxFQUFZakQsT0FBUyxFQUFJNEIsRUFDdkNxQixFQUFZRSxLQUFLRCxHQUFPRSxVQUFVQyxJQUFJLHdCQUN0Q0osRUFBWUUsS0FBS0QsR0FBT3pCLGNBQWMsSUFBSTZCLFdBQVcsYUQ3QnZEIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTkNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbmNpbmcgZGV0YWlscy5cbiAqL1xuXG5pbXBvcnQgeyBkZWxlZ2F0ZUV2ZW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9ldmVudC1oYW5kbGVyXCI7XG5cbmNvbnN0IHJhdGluZ1dyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGluZy13cmFwcGVyXCIpO1xuXG5kZWxlZ2F0ZUV2ZW50KHJhdGluZ1dyYXBwZXIsIFwiY2xpY2tcIiwgXCIucmF0aW5nX19zdGFyLWlucHV0XCIsIChldmVudCwgZWxlbSkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhdGluZ19fYXZlcmFnZVwiKT8ucmVtb3ZlKCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmF0aW5nX19hbHJlYWR5LXJhdGVkXCIpPy5yZW1vdmUoKTtcblxuICBlbGVtLmNsb3Nlc3QoXCJmb3JtXCIpLmRpc3BhdGNoRXZlbnQoXG4gICAgbmV3IEV2ZW50KFwic3VibWl0XCIsIHtcbiAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgfSlcbiAgKTtcbn0pO1xuXG4vLyBGb3IgdG91Y2ggYmFzZWQgZGV2aWNlcyAoaS5lLiB3L28gc3VwcG9ydCBmb3IgdGhlIGhvdmVyIGV2ZW50KSwgd2UgaGF2ZSB0byBnZXQgYSBsaXR0bGUgY3JlYXRpdmVcbi8vIGlmIHRoZXJlIGFyZSBhbHJlYWR5IHJhdGluZ3MgYW5kIHRoZSB1c2VyIHRhcHMgaW50byBhbiBhcmVhIHdpdGhpbiB0aGUgYXZlcmFnZSByYXRpbmcuXG5kZWxlZ2F0ZUV2ZW50KHJhdGluZ1dyYXBwZXIsIFwiY2xpY2tcIiwgXCIucmF0aW5nX19hdmVyYWdlIC5yYXRpbmdfX3N0YXJcIiwgKGV2ZW50LCBlbGVtKSA9PiB7XG4gIGNvbnN0IGVsZW1JbmRleCA9IFsuLi5lbGVtLnBhcmVudEVsZW1lbnQuY2hpbGRyZW5dLmluZGV4T2YoZWxlbSk7XG4gIGNvbnN0IHJhdGluZ1N0YXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRpbmcgPiAucmF0aW5nX19zdGFyXCIpO1xuXG4gIC8vIC5yYXRpbmdfX2F2ZXJhZ2Ugc2V0cyB0aGUgZGlyZWN0aW9uIGJhY2sgdG8gbHRyLCBzbyB3ZSBoYXZlIHRvIGFjY291bnQgZm9yIHRoaXNcbiAgY29uc3QgaW5kZXggPSByYXRpbmdTdGFycy5sZW5ndGggLSAxIC0gZWxlbUluZGV4O1xuICByYXRpbmdTdGFycy5pdGVtKGluZGV4KS5jbGFzc0xpc3QuYWRkKFwicmF0aW5nX19zdGFyLS1hY3RpdmVcIik7XG4gIHJhdGluZ1N0YXJzLml0ZW0oaW5kZXgpLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKSk7XG59KTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIGJ5IHRoZSBBQ1AzIERldmVsb3BlcnMuXG4gKiBTZWUgdGhlIExJQ0VOQ0UgZmlsZSBhdCB0aGUgdG9wLWxldmVsIG1vZHVsZSBkaXJlY3RvcnkgZm9yIGxpY2VuY2luZyBkZXRhaWxzLlxuICovXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fSBzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudFxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZWdhdGVFdmVudChlbGVtZW50LCBldmVudE5hbWUsIHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50LCBoYW5kbGVyKSB7XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIChldmVudCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VsZWN0b3JPclRhcmdldEVsZW1lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCk7XG5cbiAgICAgIGlmICghZWxlbXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlbGVtcy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmIChlbGVtICYmIGVsZW0uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgIGhhbmRsZXIoZXZlbnQsIGVsZW0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50ICYmIHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIGhhbmRsZXIoZXZlbnQsIHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufVxuIl19","file":"rating.min.js"}