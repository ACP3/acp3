{"version":3,"sources":["ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/rating.js","ACP3/Modules/ACP3/Share/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/event-handler.js"],"names":["_$eventHandler_2","_arrayLikeToArray","arr","len","length","i","arr2","Array","element","eventName","selectorOrTargetElement","handler","addEventListener","event","elems","document","querySelectorAll","forEach","elem","contains","target","ratingWrapper","getElementById","delegateEvent","_document$querySelect","_document$querySelect2","querySelector","remove","click","elemIndex","parentElement","children","isArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","TypeError","indexOf","ratingStars","index","item","classList","add"],"mappings":"CAAA,WACA,IAAAA,EAAA,GCIA,SAAAC,EAAAC,EAAAC,IAAA,MAAAA,GAAAA,EAAAD,EAAAE,UAAAD,EAAAD,EAAAE,QAAA,IAAA,IAAAC,EAAA,EAAAC,EAAA,IAAAC,MAAAJ,GAAAE,EAAAF,EAAAE,IAAAC,EAAAD,GAAAH,EAAAG,GAAA,OAAAC,mECOO,SAAuBE,EAASC,EAAWC,EAAyBC,GACzEH,EAAQI,iBAAiBH,GAAW,SAACI,GACnC,GAAuC,iBAA5BH,EAAsC,CAC/C,IAAMI,EAAQC,SAASC,iBAAiBN,GAExC,IAAKI,EACH,OAGFA,EAAMG,SAAQ,SAACC,GACTA,GAAQA,EAAKC,SAASN,EAAMO,SAC9BT,EAAQE,EAAOK,WAGVR,GAA2BA,EAAwBS,SAASN,EAAMO,SAC3ET,EAAQE,EAAOH,ODpBrB,IAAMW,EAAgBN,SAASO,eAAe,mBAAA,EAE9CtB,EAAAuB,eAAcF,EAAe,QAAS,uBAAuB,WAAM,IAAAG,EAAAC,EACjE,QAAAD,EAAAT,SAASW,cAAc,2BAAA,IAAvBF,GAAAA,EAA4CG,SAC5C,QAAAF,EAAAV,SAASW,cAAc,iCAAA,IAAvBD,GAAAA,EAAkDE,SAElDZ,SAASO,eAAe,yBAAyBM,YAAA,EAKnD5B,EAAAuB,eAAcF,EAAe,QAAS,kCAAkC,SAACR,EAAOK,GAC9E,IAdFhB,EAcQ2B,GAdR3B,EAcwBgB,EAAKY,cAAcC,SAd3C,SAAA7B,GAAA,GAAAK,MAAAyB,QAAA9B,GAAA,OAAAD,EAAAC,GAAA,CAAAA,IAAA,SAAA+B,GAAA,GAAA,oBAAAC,QAAA,MAAAD,EAAAC,OAAAC,WAAA,MAAAF,EAAA,cAAA,OAAA1B,MAAA6B,KAAAH,GAAA,CAAA/B,IAAA,SAAAmC,EAAAC,GAAA,GAAAD,EAAA,CAAA,GAAA,iBAAAA,EAAA,OAAApC,EAAAoC,OAAA,GAAA,IAAAE,EAAAC,OAAAC,UAAAC,SAAAC,KAAAN,GAAAO,MAAA,GAAA,GAAA,MAAA,WAAAL,GAAAF,EAAAQ,cAAAN,EAAAF,EAAAQ,YAAAC,MAAA,QAAAP,GAAA,QAAAA,EAAAhC,MAAA6B,KAAAC,GAAA,cAAAE,GAAA,2CAAAQ,KAAAR,GAAAtC,EAAAoC,OAAA,QAAA,GAAA,CAAAnC,IAAA,WAAA,MAAA,IAAA8C,UAAA,wIAAA,IAcqDC,QAAQ/B,GACrDgC,EAAcnC,SAASC,iBAAiB,2BAGxCmC,EAAQD,EAAY9C,OAAS,EAAIyB,EACvCqB,EAAYE,KAAKD,GAAOE,UAAUC,IAAI,wBACtCJ,EAAYE,KAAKD,GAAOvB,WDzB1B","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\nimport { delegateEvent } from \"../../../../../System/Resources/Assets/js/lib/event-handler\";\n\nconst ratingWrapper = document.getElementById(\"rating-wrapper\");\n\ndelegateEvent(ratingWrapper, \"click\", \".rating__star-input\", () => {\n  document.querySelector(\".rating__average\")?.remove();\n  document.querySelector(\".rating__already-rated\")?.remove();\n\n  document.getElementById('js-rating-form-submit').click();\n});\n\n// For touch based devices (i.e. w/o support for the hover event), we have to get a little creative\n// if there are already ratings and the user taps into an area within the average rating.\ndelegateEvent(ratingWrapper, \"click\", \".rating__average .rating__star\", (event, elem) => {\n  const elemIndex = [...elem.parentElement.children].indexOf(elem);\n  const ratingStars = document.querySelectorAll(\".rating > .rating__star\");\n\n  // .rating__average sets the direction back to ltr, so we have to account for this\n  const index = ratingStars.length - 1 - elemIndex;\n  ratingStars.item(index).classList.add(\"rating__star--active\");\n  ratingStars.item(index).click();\n});\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\n/**\n *\n * @param {HTMLElement|Document} element\n * @param {string} eventName\n * @param {string|HTMLElement} selectorOrTargetElement\n * @param {function} handler\n */\nexport function delegateEvent(element, eventName, selectorOrTargetElement, handler) {\n  element.addEventListener(eventName, (event) => {\n    if (typeof selectorOrTargetElement === \"string\") {\n      const elems = document.querySelectorAll(selectorOrTargetElement);\n\n      if (!elems) {\n        return;\n      }\n\n      elems.forEach((elem) => {\n        if (elem && elem.contains(event.target)) {\n          handler(event, elem);\n        }\n      });\n    } else if (selectorOrTargetElement && selectorOrTargetElement.contains(event.target)) {\n      handler(event, selectorOrTargetElement);\n    }\n  });\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1NoYXJlL1Jlc291cmNlcy9Bc3NldHMvanMvcGFydGlhbHMvcmF0aW5nLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvbGliL2V2ZW50LWhhbmRsZXIuanMiXSwibmFtZXMiOlsiXyRldmVudEhhbmRsZXJfMiIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwibGVuZ3RoIiwiaSIsImFycjIiLCJBcnJheSIsImVsZW1lbnQiLCJldmVudE5hbWUiLCJzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJlbGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJyYXRpbmdXcmFwcGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJkZWxlZ2F0ZUV2ZW50IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0MiIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJjbGljayIsImVsZW1JbmRleCIsInBhcmVudEVsZW1lbnQiLCJjaGlsZHJlbiIsImlzQXJyYXkiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwibyIsIm1pbkxlbiIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRlc3QiLCJUeXBlRXJyb3IiLCJpbmRleE9mIiwicmF0aW5nU3RhcnMiLCJpbmRleCIsIml0ZW0iLCJjbGFzc0xpc3QiLCJhZGQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsSUFBQUEsRUFBQSxHQ0lBLFNBQUFDLEVBQUFDLEVBQUFDLElBQUEsTUFBQUEsR0FBQUEsRUFBQUQsRUFBQUUsVUFBQUQsRUFBQUQsRUFBQUUsUUFBQSxJQUFBLElBQUFDLEVBQUEsRUFBQUMsRUFBQSxJQUFBQyxNQUFBSixHQUFBRSxFQUFBRixFQUFBRSxJQUFBQyxFQUFBRCxHQUFBSCxFQUFBRyxHQUFBLE9BQUFDLG1FQ09PLFNBQXVCRSxFQUFTQyxFQUFXQyxFQUF5QkMsR0FDekVILEVBQVFJLGlCQUFpQkgsR0FBVyxTQUFDSSxHQUNuQyxHQUF1QyxpQkFBNUJILEVBQXNDLENBQy9DLElBQU1JLEVBQVFDLFNBQVNDLGlCQUFpQk4sR0FFeEMsSUFBS0ksRUFDSCxPQUdGQSxFQUFNRyxTQUFRLFNBQUNDLEdBQ1RBLEdBQVFBLEVBQUtDLFNBQVNOLEVBQU1PLFNBQzlCVCxFQUFRRSxFQUFPSyxXQUdWUixHQUEyQkEsRUFBd0JTLFNBQVNOLEVBQU1PLFNBQzNFVCxFQUFRRSxFQUFPSCxPRHBCckIsSUFBTVcsRUFBZ0JOLFNBQVNPLGVBQWUsbUJBQUEsRUFFOUN0QixFQUFBdUIsZUFBY0YsRUFBZSxRQUFTLHVCQUF1QixXQUFNLElBQUFHLEVBQUFDLEVBQ2pFLFFBQUFELEVBQUFULFNBQVNXLGNBQWMsMkJBQUEsSUFBdkJGLEdBQUFBLEVBQTRDRyxTQUM1QyxRQUFBRixFQUFBVixTQUFTVyxjQUFjLGlDQUFBLElBQXZCRCxHQUFBQSxFQUFrREUsU0FFbERaLFNBQVNPLGVBQWUseUJBQXlCTSxZQUFBLEVBS25ENUIsRUFBQXVCLGVBQWNGLEVBQWUsUUFBUyxrQ0FBa0MsU0FBQ1IsRUFBT0ssR0FDOUUsSUFkRmhCLEVBY1EyQixHQWRSM0IsRUFjd0JnQixFQUFLWSxjQUFjQyxTQWQzQyxTQUFBN0IsR0FBQSxHQUFBSyxNQUFBeUIsUUFBQTlCLEdBQUEsT0FBQUQsRUFBQUMsR0FBQSxDQUFBQSxJQUFBLFNBQUErQixHQUFBLEdBQUEsb0JBQUFDLFFBQUEsTUFBQUQsRUFBQUMsT0FBQUMsV0FBQSxNQUFBRixFQUFBLGNBQUEsT0FBQTFCLE1BQUE2QixLQUFBSCxHQUFBLENBQUEvQixJQUFBLFNBQUFtQyxFQUFBQyxHQUFBLEdBQUFELEVBQUEsQ0FBQSxHQUFBLGlCQUFBQSxFQUFBLE9BQUFwQyxFQUFBb0MsT0FBQSxHQUFBLElBQUFFLEVBQUFDLE9BQUFDLFVBQUFDLFNBQUFDLEtBQUFOLEdBQUFPLE1BQUEsR0FBQSxHQUFBLE1BQUEsV0FBQUwsR0FBQUYsRUFBQVEsY0FBQU4sRUFBQUYsRUFBQVEsWUFBQUMsTUFBQSxRQUFBUCxHQUFBLFFBQUFBLEVBQUFoQyxNQUFBNkIsS0FBQUMsR0FBQSxjQUFBRSxHQUFBLDJDQUFBUSxLQUFBUixHQUFBdEMsRUFBQW9DLE9BQUEsUUFBQSxHQUFBLENBQUFuQyxJQUFBLFdBQUEsTUFBQSxJQUFBOEMsVUFBQSx3SUFBQSxJQWNxREMsUUFBUS9CLEdBQ3JEZ0MsRUFBY25DLFNBQVNDLGlCQUFpQiwyQkFHeENtQyxFQUFRRCxFQUFZOUMsT0FBUyxFQUFJeUIsRUFDdkNxQixFQUFZRSxLQUFLRCxHQUFPRSxVQUFVQyxJQUFJLHdCQUN0Q0osRUFBWUUsS0FBS0QsR0FBT3ZCLFdEekIxQiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5DRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5jaW5nIGRldGFpbHMuXG4gKi9cblxuaW1wb3J0IHsgZGVsZWdhdGVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9TeXN0ZW0vUmVzb3VyY2VzL0Fzc2V0cy9qcy9saWIvZXZlbnQtaGFuZGxlclwiO1xuXG5jb25zdCByYXRpbmdXcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYXRpbmctd3JhcHBlclwiKTtcblxuZGVsZWdhdGVFdmVudChyYXRpbmdXcmFwcGVyLCBcImNsaWNrXCIsIFwiLnJhdGluZ19fc3Rhci1pbnB1dFwiLCAoKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmF0aW5nX19hdmVyYWdlXCIpPy5yZW1vdmUoKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYXRpbmdfX2FscmVhZHktcmF0ZWRcIik/LnJlbW92ZSgpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqcy1yYXRpbmctZm9ybS1zdWJtaXQnKS5jbGljaygpO1xufSk7XG5cbi8vIEZvciB0b3VjaCBiYXNlZCBkZXZpY2VzIChpLmUuIHcvbyBzdXBwb3J0IGZvciB0aGUgaG92ZXIgZXZlbnQpLCB3ZSBoYXZlIHRvIGdldCBhIGxpdHRsZSBjcmVhdGl2ZVxuLy8gaWYgdGhlcmUgYXJlIGFscmVhZHkgcmF0aW5ncyBhbmQgdGhlIHVzZXIgdGFwcyBpbnRvIGFuIGFyZWEgd2l0aGluIHRoZSBhdmVyYWdlIHJhdGluZy5cbmRlbGVnYXRlRXZlbnQocmF0aW5nV3JhcHBlciwgXCJjbGlja1wiLCBcIi5yYXRpbmdfX2F2ZXJhZ2UgLnJhdGluZ19fc3RhclwiLCAoZXZlbnQsIGVsZW0pID0+IHtcbiAgY29uc3QgZWxlbUluZGV4ID0gWy4uLmVsZW0ucGFyZW50RWxlbWVudC5jaGlsZHJlbl0uaW5kZXhPZihlbGVtKTtcbiAgY29uc3QgcmF0aW5nU3RhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJhdGluZyA+IC5yYXRpbmdfX3N0YXJcIik7XG5cbiAgLy8gLnJhdGluZ19fYXZlcmFnZSBzZXRzIHRoZSBkaXJlY3Rpb24gYmFjayB0byBsdHIsIHNvIHdlIGhhdmUgdG8gYWNjb3VudCBmb3IgdGhpc1xuICBjb25zdCBpbmRleCA9IHJhdGluZ1N0YXJzLmxlbmd0aCAtIDEgLSBlbGVtSW5kZXg7XG4gIHJhdGluZ1N0YXJzLml0ZW0oaW5kZXgpLmNsYXNzTGlzdC5hZGQoXCJyYXRpbmdfX3N0YXItLWFjdGl2ZVwiKTtcbiAgcmF0aW5nU3RhcnMuaXRlbShpbmRleCkuY2xpY2soKTtcbn0pO1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5DRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5jaW5nIGRldGFpbHMuXG4gKi9cblxuLyoqXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudHxEb2N1bWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICogQHBhcmFtIHtzdHJpbmd8SFRNTEVsZW1lbnR9IHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxlZ2F0ZUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQsIGhhbmRsZXIpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGV2ZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50KTtcblxuICAgICAgaWYgKCFlbGVtcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgaGFuZGxlcihldmVudCwgZWxlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0b3JPclRhcmdldEVsZW1lbnQgJiYgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgaGFuZGxlcihldmVudCwgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=","file":"rating.min.js"}