"use strict";/**
 * Cursorposition in einem Textfeld bestimmen
 *
 * @returns {*}
 */ /**
 * Cursorposition in einem Textfeld an eine bestimme Position setzen
 *
 * @param pos
 * @returns {jQuery.fn}
 */ /**
 *
 * @param textareaId
 */jQuery.fn.getCaretPosition=function(){if(this[0].selectionStart)return this[0].selectionStart;if(document.selection){this[0].focus();var a=document.selection.createRange();if(null==a)return 0;var b=this[0].createTextRange(),c=b.duplicate();return b.moveToBookmark(a.getBookmark()),c.setEndPoint("EndToStart",b),c.text.length}return 0},jQuery.fn.setCaretPosition=function(a){return this.each(function(b,c){if(c.setSelectionRange)c.setSelectionRange(a,a);else if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveEnd("character",a),d.moveStart("character",a),d.select()}}),this},jQuery.fn.insertEmoticon=function(a){var b=0,c=$(a),d=$(this);// Aktuelle Cursorposition speichern
d.click(function(a){a.preventDefault();var d=c.val(),e=d.substr(0,b),f=d.substr(b);b+=$(this).attr("title").length+2,c.val(e+" "+$(this).attr("title")+" "+f).focus().setCaretPosition(b)}),c.blur(function(){b=c.getCaretPosition()})},jQuery(document).ready(function(a){a(".icons a").insertEmoticon(a(".icons").data("emoticons-input"))});