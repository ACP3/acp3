{"version":3,"sources":["ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/partials/ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/libs/insert-emoticon.js","ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/partials/ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/partials/emoticons.js"],"names":["_$insertEmoticon_1","emoticonElement","textarea","caretPosition","addEventListener","event","preventDefault","currentValue","value","textBeforeSelection","substr","textAfterSelection","emoticonCode","concat","title","length","focus","setSelectionRange","selectionStart","document","querySelector","dataset","emoticonsInput","querySelectorAll","forEach","emoticonElem","insertEmoticon"],"mappings":"CAAA,WACA,IAAAA,EAAA,qECSO,SAAwBC,EAAiBC,GAC9C,IAAIC,EAAgB,EAEpBF,EAAgBG,iBAAiB,SAAS,SAACC,GACzCA,EAAMC,iBAEN,IAAMC,EAAeL,EAASM,MACxBC,EAAsBF,EAAaG,OAAO,EAAGP,GAC7CQ,EAAqBJ,EAAaG,OAAOP,GAGzCS,EAAY,IAAAC,OAAOZ,EAAgBa,MAAvB,KAElBX,GAAiBS,EAAaG,OAE9Bb,EAASM,MAAQC,EAAsBG,EAAeD,EACtDT,EAASc,QAETd,EAASe,kBAAkBd,EAAeA,MAM5CD,EAASE,iBAAiB,QAAQ,WAChCD,EAAgBD,EAASgB,mBCnC7B,IAAAhB,EAKiBiB,SAASC,cAAcD,SAASC,cAAc,UAAUC,QAAQC,gBACjFH,SAASI,iBAAiB,YAAYC,SAAQ,SAACC,IAAA,EAC7CzB,EAAA0B,gBAAeD,EAAcvB,MFP/B","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\n/**\n *\n * @param {Element} emoticonElement\n * @param {HTMLTextAreaElement} textarea\n */\nexport function insertEmoticon(emoticonElement, textarea) {\n  let caretPosition = 0;\n\n  emoticonElement.addEventListener(\"click\", (event) => {\n    event.preventDefault();\n\n    const currentValue = textarea.value;\n    const textBeforeSelection = currentValue.substr(0, caretPosition);\n    const textAfterSelection = currentValue.substr(caretPosition);\n\n    // Add leading and trailing spaces to the to be inserted emoticon, so that we aren't getting into overflow problems, etc.\n    const emoticonCode = ` ${emoticonElement.title} `;\n\n    caretPosition += emoticonCode.length;\n\n    textarea.value = textBeforeSelection + emoticonCode + textAfterSelection;\n    textarea.focus();\n\n    textarea.setSelectionRange(caretPosition, caretPosition);\n  });\n\n  // When clicking on one of the emoticons, the textarea's blur event gets triggered.\n  // We can use this to save the last known caret position, so that the emoticon can be inserted into the correct\n  // position\n  textarea.addEventListener(\"blur\", () => {\n    caretPosition = textarea.selectionStart;\n  });\n}\n","import { insertEmoticon } from \"../libs/insert-emoticon\";\n\n/**\n * @type {HTMLTextAreaElement}\n */\nconst textarea = document.querySelector(document.querySelector(\".icons\").dataset.emoticonsInput);\ndocument.querySelectorAll(\".icons a\").forEach((emoticonElem) => {\n  insertEmoticon(emoticonElem, textarea);\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrLWZsYXRcXF9wcmVsdWRlIiwiQUNQMy9Nb2R1bGVzL0FDUDMvRW1vdGljb25zL1Jlc291cmNlcy9Bc3NldHMvanMvbGlicy9pbnNlcnQtZW1vdGljb24uanMiLCJBQ1AzL01vZHVsZXMvQUNQMy9FbW90aWNvbnMvUmVzb3VyY2VzL0Fzc2V0cy9qcy9wYXJ0aWFscy9lbW90aWNvbnMuanMiXSwibmFtZXMiOlsiXyRpbnNlcnRFbW90aWNvbl8xIiwiZW1vdGljb25FbGVtZW50IiwidGV4dGFyZWEiLCJjYXJldFBvc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50VmFsdWUiLCJ2YWx1ZSIsInRleHRCZWZvcmVTZWxlY3Rpb24iLCJzdWJzdHIiLCJ0ZXh0QWZ0ZXJTZWxlY3Rpb24iLCJlbW90aWNvbkNvZGUiLCJjb25jYXQiLCJ0aXRsZSIsImxlbmd0aCIsImZvY3VzIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJzZWxlY3Rpb25TdGFydCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImRhdGFzZXQiLCJlbW90aWNvbnNJbnB1dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZW1vdGljb25FbGVtIiwiaW5zZXJ0RW1vdGljb24iXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsSUFBQUEsRUFBQSxxRUNTTyxTQUF3QkMsRUFBaUJDLEdBQzlDLElBQUlDLEVBQWdCLEVBRXBCRixFQUFnQkcsaUJBQWlCLFNBQVMsU0FBQ0MsR0FDekNBLEVBQU1DLGlCQUVOLElBQU1DLEVBQWVMLEVBQVNNLE1BQ3hCQyxFQUFzQkYsRUFBYUcsT0FBTyxFQUFHUCxHQUM3Q1EsRUFBcUJKLEVBQWFHLE9BQU9QLEdBR3pDUyxFQUFZLElBQUFDLE9BQU9aLEVBQWdCYSxNQUF2QixLQUVsQlgsR0FBaUJTLEVBQWFHLE9BRTlCYixFQUFTTSxNQUFRQyxFQUFzQkcsRUFBZUQsRUFDdERULEVBQVNjLFFBRVRkLEVBQVNlLGtCQUFrQmQsRUFBZUEsTUFNNUNELEVBQVNFLGlCQUFpQixRQUFRLFdBQ2hDRCxFQUFnQkQsRUFBU2dCLG1CQ25DN0IsSUFBQWhCLEVBS2lCaUIsU0FBU0MsY0FBY0QsU0FBU0MsY0FBYyxVQUFVQyxRQUFRQyxnQkFDakZILFNBQVNJLGlCQUFpQixZQUFZQyxTQUFRLFNBQUNDLElBQUEsRUFDN0N6QixFQUFBMEIsZ0JBQWVELEVBQWN2QixNRlAvQiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5zaW5nIGRldGFpbHMuXG4gKi9cblxuLyoqXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbW90aWNvbkVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTFRleHRBcmVhRWxlbWVudH0gdGV4dGFyZWFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEVtb3RpY29uKGVtb3RpY29uRWxlbWVudCwgdGV4dGFyZWEpIHtcbiAgbGV0IGNhcmV0UG9zaXRpb24gPSAwO1xuXG4gIGVtb3RpY29uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRleHRhcmVhLnZhbHVlO1xuICAgIGNvbnN0IHRleHRCZWZvcmVTZWxlY3Rpb24gPSBjdXJyZW50VmFsdWUuc3Vic3RyKDAsIGNhcmV0UG9zaXRpb24pO1xuICAgIGNvbnN0IHRleHRBZnRlclNlbGVjdGlvbiA9IGN1cnJlbnRWYWx1ZS5zdWJzdHIoY2FyZXRQb3NpdGlvbik7XG5cbiAgICAvLyBBZGQgbGVhZGluZyBhbmQgdHJhaWxpbmcgc3BhY2VzIHRvIHRoZSB0byBiZSBpbnNlcnRlZCBlbW90aWNvbiwgc28gdGhhdCB3ZSBhcmVuJ3QgZ2V0dGluZyBpbnRvIG92ZXJmbG93IHByb2JsZW1zLCBldGMuXG4gICAgY29uc3QgZW1vdGljb25Db2RlID0gYCAke2Vtb3RpY29uRWxlbWVudC50aXRsZX0gYDtcblxuICAgIGNhcmV0UG9zaXRpb24gKz0gZW1vdGljb25Db2RlLmxlbmd0aDtcblxuICAgIHRleHRhcmVhLnZhbHVlID0gdGV4dEJlZm9yZVNlbGVjdGlvbiArIGVtb3RpY29uQ29kZSArIHRleHRBZnRlclNlbGVjdGlvbjtcbiAgICB0ZXh0YXJlYS5mb2N1cygpO1xuXG4gICAgdGV4dGFyZWEuc2V0U2VsZWN0aW9uUmFuZ2UoY2FyZXRQb3NpdGlvbiwgY2FyZXRQb3NpdGlvbik7XG4gIH0pO1xuXG4gIC8vIFdoZW4gY2xpY2tpbmcgb24gb25lIG9mIHRoZSBlbW90aWNvbnMsIHRoZSB0ZXh0YXJlYSdzIGJsdXIgZXZlbnQgZ2V0cyB0cmlnZ2VyZWQuXG4gIC8vIFdlIGNhbiB1c2UgdGhpcyB0byBzYXZlIHRoZSBsYXN0IGtub3duIGNhcmV0IHBvc2l0aW9uLCBzbyB0aGF0IHRoZSBlbW90aWNvbiBjYW4gYmUgaW5zZXJ0ZWQgaW50byB0aGUgY29ycmVjdFxuICAvLyBwb3NpdGlvblxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoKSA9PiB7XG4gICAgY2FyZXRQb3NpdGlvbiA9IHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0O1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGluc2VydEVtb3RpY29uIH0gZnJvbSBcIi4uL2xpYnMvaW5zZXJ0LWVtb3RpY29uXCI7XG5cbi8qKlxuICogQHR5cGUge0hUTUxUZXh0QXJlYUVsZW1lbnR9XG4gKi9cbmNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmljb25zXCIpLmRhdGFzZXQuZW1vdGljb25zSW5wdXQpO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pY29ucyBhXCIpLmZvckVhY2goKGVtb3RpY29uRWxlbSkgPT4ge1xuICBpbnNlcnRFbW90aWNvbihlbW90aWNvbkVsZW0sIHRleHRhcmVhKTtcbn0pO1xuIl19","file":"emoticons.min.js"}