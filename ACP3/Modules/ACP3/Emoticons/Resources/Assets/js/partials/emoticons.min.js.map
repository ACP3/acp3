{"version":3,"sources":["ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/partials/ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/libs/insert-emoticon.js","ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/partials/ACP3/Modules/ACP3/Emoticons/Resources/Assets/js/partials/emoticons.js"],"names":["_$insertEmoticon_1","emoticonElement","textarea","caretPosition","addEventListener","event","preventDefault","currentValue","value","textBeforeSelection","substr","textAfterSelection","emoticonCode","concat","title","length","focus","setSelectionRange","selectionStart","document","querySelector","dataset","emoticonsInput","querySelectorAll","forEach","emoticonElem","insertEmoticon"],"mappings":"CAAA,WACA,IAAAA,EAAA,qECSO,SAAwBC,EAAiBC,GAC9C,IAAIC,EAAgB,EAEpBF,EAAgBG,iBAAiB,QAAUC,IACzCA,EAAMC,iBAEN,MAAMC,EAAeL,EAASM,MACxBC,EAAsBF,EAAaG,OAAO,EAAGP,GAC7CQ,EAAqBJ,EAAaG,OAAOP,GAGzCS,EAAY,IAAAC,OAAOZ,EAAgBa,MAAvB,KAElBX,GAAiBS,EAAaG,OAE9Bb,EAASM,MAAQC,EAAsBG,EAAeD,EACtDT,EAASc,QAETd,EAASe,kBAAkBd,EAAeA,KAM5CD,EAASE,iBAAiB,OAAQ,KAChCD,EAAgBD,EAASgB,kBC9B7B,MAAMhB,EAAWiB,SAASC,cAAcD,SAASC,cAAc,UAAUC,QAAQC,gBACjFH,SAASI,iBAAiB,YAAYC,QAASC,KAAA,EAC7CzB,EAAA0B,gBAAeD,EAAcvB,KFP/B","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\n/**\n *\n * @param {Element} emoticonElement\n * @param {HTMLTextAreaElement} textarea\n */\nexport function insertEmoticon(emoticonElement, textarea) {\n  let caretPosition = 0;\n\n  emoticonElement.addEventListener(\"click\", (event) => {\n    event.preventDefault();\n\n    const currentValue = textarea.value;\n    const textBeforeSelection = currentValue.substr(0, caretPosition);\n    const textAfterSelection = currentValue.substr(caretPosition);\n\n    // Add leading and trailing spaces to the to be inserted emoticon, so that we aren't getting into overflow problems, etc.\n    const emoticonCode = ` ${emoticonElement.title} `;\n\n    caretPosition += emoticonCode.length;\n\n    textarea.value = textBeforeSelection + emoticonCode + textAfterSelection;\n    textarea.focus();\n\n    textarea.setSelectionRange(caretPosition, caretPosition);\n  });\n\n  // When clicking on one of the emoticons, the textarea's blur event gets triggered.\n  // We can use this to save the last known caret position, so that the emoticon can be inserted into the correct\n  // position\n  textarea.addEventListener(\"blur\", () => {\n    caretPosition = textarea.selectionStart;\n  });\n}\n","import { insertEmoticon } from \"../libs/insert-emoticon\";\n\n/**\n * @type {HTMLTextAreaElement}\n */\nconst textarea = document.querySelector(document.querySelector(\".icons\").dataset.emoticonsInput);\ndocument.querySelectorAll(\".icons a\").forEach((emoticonElem) => {\n  insertEmoticon(emoticonElem, textarea);\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL0Vtb3RpY29ucy9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYnMvaW5zZXJ0LWVtb3RpY29uLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvRW1vdGljb25zL1Jlc291cmNlcy9Bc3NldHMvanMvcGFydGlhbHMvZW1vdGljb25zLmpzIl0sIm5hbWVzIjpbIl8kaW5zZXJ0RW1vdGljb25fMSIsImVtb3RpY29uRWxlbWVudCIsInRleHRhcmVhIiwiY2FyZXRQb3NpdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFZhbHVlIiwidmFsdWUiLCJ0ZXh0QmVmb3JlU2VsZWN0aW9uIiwic3Vic3RyIiwidGV4dEFmdGVyU2VsZWN0aW9uIiwiZW1vdGljb25Db2RlIiwiY29uY2F0IiwidGl0bGUiLCJsZW5ndGgiLCJmb2N1cyIsInNldFNlbGVjdGlvblJhbmdlIiwic2VsZWN0aW9uU3RhcnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkYXRhc2V0IiwiZW1vdGljb25zSW5wdXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVtb3RpY29uRWxlbSIsImluc2VydEVtb3RpY29uIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLElBQUFBLEVBQUEscUVDU08sU0FBd0JDLEVBQWlCQyxHQUM5QyxJQUFJQyxFQUFnQixFQUVwQkYsRUFBZ0JHLGlCQUFpQixRQUFVQyxJQUN6Q0EsRUFBTUMsaUJBRU4sTUFBTUMsRUFBZUwsRUFBU00sTUFDeEJDLEVBQXNCRixFQUFhRyxPQUFPLEVBQUdQLEdBQzdDUSxFQUFxQkosRUFBYUcsT0FBT1AsR0FHekNTLEVBQVksSUFBQUMsT0FBT1osRUFBZ0JhLE1BQXZCLEtBRWxCWCxHQUFpQlMsRUFBYUcsT0FFOUJiLEVBQVNNLE1BQVFDLEVBQXNCRyxFQUFlRCxFQUN0RFQsRUFBU2MsUUFFVGQsRUFBU2Usa0JBQWtCZCxFQUFlQSxLQU01Q0QsRUFBU0UsaUJBQWlCLE9BQVEsS0FDaENELEVBQWdCRCxFQUFTZ0Isa0JDOUI3QixNQUFNaEIsRUFBV2lCLFNBQVNDLGNBQWNELFNBQVNDLGNBQWMsVUFBVUMsUUFBUUMsZ0JBQ2pGSCxTQUFTSSxpQkFBaUIsWUFBWUMsUUFBU0MsS0FBQSxFQUM3Q3pCLEVBQUEwQixnQkFBZUQsRUFBY3ZCLEtGUC9CIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbnNpbmcgZGV0YWlscy5cbiAqL1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVtb3RpY29uRWxlbWVudFxuICogQHBhcmFtIHtIVE1MVGV4dEFyZWFFbGVtZW50fSB0ZXh0YXJlYVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0RW1vdGljb24oZW1vdGljb25FbGVtZW50LCB0ZXh0YXJlYSkge1xuICBsZXQgY2FyZXRQb3NpdGlvbiA9IDA7XG5cbiAgZW1vdGljb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGV4dGFyZWEudmFsdWU7XG4gICAgY29uc3QgdGV4dEJlZm9yZVNlbGVjdGlvbiA9IGN1cnJlbnRWYWx1ZS5zdWJzdHIoMCwgY2FyZXRQb3NpdGlvbik7XG4gICAgY29uc3QgdGV4dEFmdGVyU2VsZWN0aW9uID0gY3VycmVudFZhbHVlLnN1YnN0cihjYXJldFBvc2l0aW9uKTtcblxuICAgIC8vIEFkZCBsZWFkaW5nIGFuZCB0cmFpbGluZyBzcGFjZXMgdG8gdGhlIHRvIGJlIGluc2VydGVkIGVtb3RpY29uLCBzbyB0aGF0IHdlIGFyZW4ndCBnZXR0aW5nIGludG8gb3ZlcmZsb3cgcHJvYmxlbXMsIGV0Yy5cbiAgICBjb25zdCBlbW90aWNvbkNvZGUgPSBgICR7ZW1vdGljb25FbGVtZW50LnRpdGxlfSBgO1xuXG4gICAgY2FyZXRQb3NpdGlvbiArPSBlbW90aWNvbkNvZGUubGVuZ3RoO1xuXG4gICAgdGV4dGFyZWEudmFsdWUgPSB0ZXh0QmVmb3JlU2VsZWN0aW9uICsgZW1vdGljb25Db2RlICsgdGV4dEFmdGVyU2VsZWN0aW9uO1xuICAgIHRleHRhcmVhLmZvY3VzKCk7XG5cbiAgICB0ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZShjYXJldFBvc2l0aW9uLCBjYXJldFBvc2l0aW9uKTtcbiAgfSk7XG5cbiAgLy8gV2hlbiBjbGlja2luZyBvbiBvbmUgb2YgdGhlIGVtb3RpY29ucywgdGhlIHRleHRhcmVhJ3MgYmx1ciBldmVudCBnZXRzIHRyaWdnZXJlZC5cbiAgLy8gV2UgY2FuIHVzZSB0aGlzIHRvIHNhdmUgdGhlIGxhc3Qga25vd24gY2FyZXQgcG9zaXRpb24sIHNvIHRoYXQgdGhlIGVtb3RpY29uIGNhbiBiZSBpbnNlcnRlZCBpbnRvIHRoZSBjb3JyZWN0XG4gIC8vIHBvc2l0aW9uXG4gIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICgpID0+IHtcbiAgICBjYXJldFBvc2l0aW9uID0gdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQ7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgaW5zZXJ0RW1vdGljb24gfSBmcm9tIFwiLi4vbGlicy9pbnNlcnQtZW1vdGljb25cIjtcblxuLyoqXG4gKiBAdHlwZSB7SFRNTFRleHRBcmVhRWxlbWVudH1cbiAqL1xuY29uc3QgdGV4dGFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaWNvbnNcIikuZGF0YXNldC5lbW90aWNvbnNJbnB1dCk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmljb25zIGFcIikuZm9yRWFjaCgoZW1vdGljb25FbGVtKSA9PiB7XG4gIGluc2VydEVtb3RpY29uKGVtb3RpY29uRWxlbSwgdGV4dGFyZWEpO1xufSk7XG4iXX0=","file":"emoticons.min.js"}