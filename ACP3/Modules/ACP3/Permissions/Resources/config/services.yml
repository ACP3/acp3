imports:
  - { resource: controllers.yml }
  - { resource: validation.yml }

parameters:
  permissions.cache.fqdn: 'ACP3\Modules\ACP3\Permissions\Cache'
  permissions.helpers.fqdn: 'ACP3\Modules\ACP3\Permissions\Helpers'
  permissions.model.rolerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\RoleRepository'
  permissions.model.resourcerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\ResourceRepository'
  permissions.model.privilegerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\PrivilegeRepository'
  permissions.model.rulerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\RuleRepository'
  permissions.model.userrolerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\UserRoleRepository'
  permissions.installer.schema.fqdn: 'ACP3\Modules\ACP3\Permissions\Installer\Schema'
  permissions.installer.migration.fqdn: 'ACP3\Modules\ACP3\Permissions\Installer\Migration'

services:
  permissions.cache:
    class: %permissions.cache.fqdn%
    arguments:
      - '@core.cache.system'
      - '@permissions.model.rolerepository'
      - '@permissions.model.resourcerepository'
      - '@permissions.model.rulerepository'

  permissions.helpers:
    class: %permissions.helpers.fqdn%
    arguments:
      - '@permissions.model.rolerepository'
      - '@permissions.model.userrolerepository'

  permissions.model.rolerepository:
    class: %permissions.model.rolerepository.fqdn%
    arguments:
      - '@core.db'

  permissions.model.rulerepository:
    class: %permissions.model.rulerepository.fqdn%
    arguments:
      - '@core.db'

  permissions.model.resourcerepository:
    class: %permissions.model.resourcerepository.fqdn%
    arguments:
      - '@core.db'

  permissions.model.privilegerepository:
    class: %permissions.model.privilegerepository.fqdn%
    arguments:
      - '@core.db'

  permissions.model.userrolerepository:
    class: %permissions.model.userrolerepository.fqdn%
    arguments:
      - '@core.db'

  permissions.installer.schema:
    class: %permissions.installer.schema.fqdn%

  permissions.installer.migration:
    class: %permissions.installer.migration.fqdn%
