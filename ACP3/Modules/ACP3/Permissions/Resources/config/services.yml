parameters:
  permissions.controller.admin.index.fqdn: 'ACP3\Modules\ACP3\Permissions\Controller\Admin\Index'
  permissions.controller.admin.resources.fqdn: 'ACP3\Modules\ACP3\Permissions\Controller\Admin\Resources'
  permissions.cache.fqdn: 'ACP3\Modules\ACP3\Permissions\Cache'
  permissions.helpers.fqdn: 'ACP3\Modules\ACP3\Permissions\Helpers'
  permissions.model.rolerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\RoleRepository'
  permissions.model.resourcerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\ResourceRepository'
  permissions.model.privilegerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\PrivilegeRepository'
  permissions.model.rulerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\RuleRepository'
  permissions.model.userrolerepository.fqdn: 'ACP3\Modules\ACP3\Permissions\Model\UserRoleRepository'
  permissions.validator.role.fqdn: 'ACP3\Modules\ACP3\Permissions\Validation\RoleFormValidation'
  permissions.validator.resource.fqdn: 'ACP3\Modules\ACP3\Permissions\Validation\ResourceFormValidation'
  permissions.validation.validation_rules.privilege_exists_validation_rule.fqdn: 'ACP3\Modules\ACP3\Permissions\Validation\ValidationRules\PrivilegeExistsValidationRule'
  permissions.validation.validation_rules.privileges_exist_validation_rule.fqdn: 'ACP3\Modules\ACP3\Permissions\Validation\ValidationRules\PrivilegesExistValidationRule'
  permissions.validation.validation_rules.role_not_exists_validation_rule.fqdn: 'ACP3\Modules\ACP3\Permissions\Validation\ValidationRules\RoleNotExistsValidationRule'
  permissions.validation.validation_rules.roles_exist_validation_rule.fqdn: 'ACP3\Modules\ACP3\Permissions\Validation\ValidationRules\RolesExistValidationRule'
  permissions.installer.schema.fqdn: 'ACP3\Modules\ACP3\Permissions\Installer\Schema'
  permissions.installer.migration.fqdn: 'ACP3\Modules\ACP3\Permissions\Installer\Migration'

services:
  permissions.controller.admin.index:
    class: %permissions.controller.admin.index.fqdn%
    arguments: ['@core.context.admin', @core.nested_set, '@core.helpers.formToken', '@permissions.model.rolerepository', @permissions.model.userrolerepository, @permissions.model.rulerepository, '@permissions.cache', '@permissions.validator.role']

  permissions.controller.admin.resources:
    class: %permissions.controller.admin.resources.fqdn%
    arguments: ['@core.context.admin', '@core.helpers.formToken', '@permissions.model.resourcerepository', '@permissions.cache', '@permissions.validator.resource']

  permissions.cache:
    class: %permissions.cache.fqdn%
    arguments: ['@core.cache.system', '@permissions.model.rolerepository', @permissions.model.resourcerepository, @permissions.model.rulerepository]

  permissions.helpers:
    class: %permissions.helpers.fqdn%
    arguments: ['@permissions.model.rolerepository', @permissions.model.userrolerepository]

  permissions.model.rolerepository:
    class: %permissions.model.rolerepository.fqdn%
    arguments: ['@core.db']

  permissions.model.rulerepository:
    class: %permissions.model.rulerepository.fqdn%
    arguments: ['@core.db']

  permissions.model.resourcerepository:
    class: %permissions.model.resourcerepository.fqdn%
    arguments: ['@core.db']

  permissions.model.privilegerepository:
    class: %permissions.model.privilegerepository.fqdn%
    arguments: ['@core.db']

  permissions.model.userrolerepository:
    class: %permissions.model.userrolerepository.fqdn%
    arguments: ['@core.db']

  permissions.validator.role:
    class: %permissions.validator.role.fqdn%
    parent: core.validator.abstract

  permissions.validator.resource:
    class: %permissions.validator.resource.fqdn%
    parent: core.validator.abstract

  permissions.validation.validation_rules.privilege_exists_validation_rule:
    class: %permissions.validation.validation_rules.privilege_exists_validation_rule.fqdn%
    arguments: [@permissions.model.privilegerepository]
    tags:
      - { name: core.validation.validation_rule }

  permissions.validation.validation_rules.privileges_exist_validation_rule:
    class: %permissions.validation.validation_rules.privileges_exist_validation_rule.fqdn%
    arguments: [@core.acl]
    tags:
      - { name: core.validation.validation_rule }

  permissions.validation.validation_rules.role_not_exists_validation_rule:
    class: %permissions.validation.validation_rules.role_not_exists_validation_rule.fqdn%
    arguments: [@permissions.model.rolerepository]
    tags:
      - { name: core.validation.validation_rule }

  permissions.validation.validation_rules.roles_exist_validation_rule:
    class: %permissions.validation.validation_rules.roles_exist_validation_rule.fqdn%
    arguments: [@core.acl]
    tags:
      - { name: core.validation.validation_rule }

  permissions.installer.schema:
    class: %permissions.installer.schema.fqdn%

  permissions.installer.migration:
    class: %permissions.installer.migration.fqdn%
