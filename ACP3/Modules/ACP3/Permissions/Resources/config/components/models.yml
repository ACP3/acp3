services:
  permissions.model.repsitory.acl_roles_repository:
    class: ACP3\Modules\ACP3\Permissions\Model\Repository\RoleRepository
    arguments:
      - '@core.db'

  permissions.model.repository.acl_rules_repository:
    class: ACP3\Modules\ACP3\Permissions\Model\Repository\RuleRepository
    arguments:
      - '@core.db'

  permissions.model.repository.acl_resources_repository:
    class: ACP3\Modules\ACP3\Permissions\Model\Repository\ResourceRepository
    arguments:
      - '@core.db'

  permissions.model.repository.acl_privileges_repository:
    class: ACP3\Modules\ACP3\Permissions\Model\Repository\PrivilegeRepository
    arguments:
      - '@core.db'

  permissions.model.repository.acl_user_roles_repository:
    class: ACP3\Modules\ACP3\Permissions\Model\Repository\UserRoleRepository
    arguments:
      - '@core.db'

  permissions.model.resources_model:
    class: ACP3\Modules\ACP3\Permissions\Model\ResourcesModel
    arguments:
      - '@core.event_dispatcher'
      - '@core.model.data_processor'
      - '@permissions.model.repository.acl_resources_repository'

  permissions.model.roles_model:
    class: ACP3\Modules\ACP3\Permissions\Model\RolesModel
    arguments:
      - '@core.event_dispatcher'
      - '@core.model.data_processor'
      - '@permissions.model.repsitory.acl_roles_repository'
      - '@permissions.nested_set.operation.insert'
      - '@permissions.nested_set.operation.edit'
      - '@permissions.nested_set.operation.delete'

  permissions.model.rules_model:
    class: ACP3\Modules\ACP3\Permissions\Model\RulesModel
    arguments:
      - '@core.event_dispatcher'
      - '@core.model.data_processor'
      - '@permissions.model.repository.acl_rules_repository'
      - '@permissions.cache'
