services:
  _defaults:
    autowire: true

  ACP3\Modules\ACP3\Menus\Event\Listener\OnMenusModelBeforeDeleteListener:
    arguments:
      $menuItemsModel: "@menus.model.menu_items_model"
    tags:
      - { name: core.eventListener, event: menus.model.menus.before_delete }

  ACP3\Modules\ACP3\Menus\Event\Listener\ManageMenuItemOnModelSaveAfterListener:
    tags:
      - { name: core.eventListener, event: core.model.after_save }

  ACP3\Modules\ACP3\Menus\Event\Listener\UpdateMenusCacheOnModelAfterSaveListener:
    tags:
      - { name: core.eventListener, event: menus.model.menus.after_save }
      - { name: core.eventListener, event: menus.model.menu_items.after_save }
      - { name: core.eventListener, event: menus.model.menu_items.after_delete }

  ACP3\Modules\ACP3\Menus\Event\Listener\RenderMenuItemManagementFormFieldsListener:
    tags:
      - { name: core.eventSubscriber }

  ACP3\Modules\ACP3\Menus\Event\Listener\ValidateMenuItemFormFieldsListener:
    tags:
      - { name: core.eventSubscriber }
