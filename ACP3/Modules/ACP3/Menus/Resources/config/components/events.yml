services:
  menus.event.on_menus_model_before_delete_listener:
    class: ACP3\Modules\ACP3\Menus\Event\Listener\OnMenusModelBeforeDeleteListener
    arguments:
      - '@menus.cache'
      - '@menus.nested_set.operation.delete'
      - '@menus.model.menurepository'
      - '@menus.model.menuitemrepository'
    tags:
      - { name: core.eventListener, event: menus.model.menus.before_delete, method: execute }

  menus.event.update_menus_cache_on_model_after_save_listener:
    class: ACP3\Modules\ACP3\Menus\Event\Listener\UpdateMenusCacheOnModelAfterSaveListener
    arguments:
      - '@menus.cache'
    tags:
      - { name: core.eventListener, event: menus.model.menus.after_save, method: execute }
