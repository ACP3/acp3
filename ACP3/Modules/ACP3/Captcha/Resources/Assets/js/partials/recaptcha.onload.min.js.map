{"version":3,"sources":["ACP3/Modules/ACP3/Captcha/Resources/Assets/js/partials/ACP3/Modules/ACP3/Captcha/Resources/Assets/js/partials/recaptcha.onload.js"],"names":["jQuery","document","on","each","this","children","length","widgetId","grecaptcha","render","id","sitekey","dataset","size","data","event","ajaxForm","$reCaptchaPlaceholder","element","find","reset"],"mappings":"AAmBAA,OAAOC,UAAUC,GAAG,0BAA0B,WAZ5CF,OAAO,0BAA0BG,MAAK,WACpC,GAAuC,IAAnCH,OAAOI,MAAMC,WAAWC,OAAc,CACxC,IAAMC,EAAWC,WAAWC,OAAOL,KAAKM,GAAI,CAC1CC,QAASP,KAAKQ,QAAQD,QACtBE,KAAMT,KAAKQ,QAAQC,OAGrBb,OAAOI,MAAMU,KAAK,cAAeP,UASvCP,OAAOC,UAAUC,GAAG,6BAA6B,SAACa,EAAOC,GACvD,IAAMC,EAAwBjB,OAAOgB,EAASE,SAASC,KAAK,0BAExDF,GAAyBA,EAAsBX,OAAS,GAC1DE,WAAWY,MAAMH,EAAsBH,KAAK","sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\n/* global onloadCallback:true */\nconst onloadCallback = () => {\n  jQuery(\".recaptcha-placeholder\").each(function () {\n    if (jQuery(this).children().length === 0) {\n      const widgetId = grecaptcha.render(this.id, {\n        sitekey: this.dataset.sitekey,\n        size: this.dataset.size,\n      });\n\n      jQuery(this).data(\"recaptchaId\", widgetId);\n    }\n  });\n};\n\njQuery(document).on(\"acp3.ajaxFrom.complete\", () => {\n  onloadCallback();\n});\n\njQuery(document).on(\"acp3.ajaxFrom.submit.fail\", (event, ajaxForm) => {\n  const $reCaptchaPlaceholder = jQuery(ajaxForm.element).find(\".recaptcha-placeholder\");\n\n  if ($reCaptchaPlaceholder && $reCaptchaPlaceholder.length > 0) {\n    grecaptcha.reset($reCaptchaPlaceholder.data(\"recaptchaId\"));\n  }\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFDUDMvTW9kdWxlcy9BQ1AzL0NhcHRjaGEvUmVzb3VyY2VzL0Fzc2V0cy9qcy9wYXJ0aWFscy9yZWNhcHRjaGEub25sb2FkLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsImRvY3VtZW50Iiwib24iLCJlYWNoIiwidGhpcyIsImNoaWxkcmVuIiwibGVuZ3RoIiwid2lkZ2V0SWQiLCJncmVjYXB0Y2hhIiwicmVuZGVyIiwiaWQiLCJzaXRla2V5IiwiZGF0YXNldCIsInNpemUiLCJkYXRhIiwiZXZlbnQiLCJhamF4Rm9ybSIsIiRyZUNhcHRjaGFQbGFjZWhvbGRlciIsImVsZW1lbnQiLCJmaW5kIiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQW1CQUEsT0FBT0MsVUFBVUMsR0FBRywwQkFBMEIsV0FaNUNGLE9BQU8sMEJBQTBCRyxNQUFLLFdBQ3BDLEdBQXVDLElBQW5DSCxPQUFPSSxNQUFNQyxXQUFXQyxPQUFjLENBQ3hDLElBQU1DLEVBQVdDLFdBQVdDLE9BQU9MLEtBQUtNLEdBQUksQ0FDMUNDLFFBQVNQLEtBQUtRLFFBQVFELFFBQ3RCRSxLQUFNVCxLQUFLUSxRQUFRQyxPQUdyQmIsT0FBT0ksTUFBTVUsS0FBSyxjQUFlUCxVQVN2Q1AsT0FBT0MsVUFBVUMsR0FBRyw2QkFBNkIsU0FBQ2EsRUFBT0MsR0FDdkQsSUFBTUMsRUFBd0JqQixPQUFPZ0IsRUFBU0UsU0FBU0MsS0FBSywwQkFFeERGLEdBQXlCQSxFQUFzQlgsT0FBUyxHQUMxREUsV0FBV1ksTUFBTUgsRUFBc0JILEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbmNpbmcgZGV0YWlscy5cbiAqL1xuXG4vKiBnbG9iYWwgb25sb2FkQ2FsbGJhY2s6dHJ1ZSAqL1xuY29uc3Qgb25sb2FkQ2FsbGJhY2sgPSAoKSA9PiB7XG4gIGpRdWVyeShcIi5yZWNhcHRjaGEtcGxhY2Vob2xkZXJcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGpRdWVyeSh0aGlzKS5jaGlsZHJlbigpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3Qgd2lkZ2V0SWQgPSBncmVjYXB0Y2hhLnJlbmRlcih0aGlzLmlkLCB7XG4gICAgICAgIHNpdGVrZXk6IHRoaXMuZGF0YXNldC5zaXRla2V5LFxuICAgICAgICBzaXplOiB0aGlzLmRhdGFzZXQuc2l6ZSxcbiAgICAgIH0pO1xuXG4gICAgICBqUXVlcnkodGhpcykuZGF0YShcInJlY2FwdGNoYUlkXCIsIHdpZGdldElkKTtcbiAgICB9XG4gIH0pO1xufTtcblxualF1ZXJ5KGRvY3VtZW50KS5vbihcImFjcDMuYWpheEZyb20uY29tcGxldGVcIiwgKCkgPT4ge1xuICBvbmxvYWRDYWxsYmFjaygpO1xufSk7XG5cbmpRdWVyeShkb2N1bWVudCkub24oXCJhY3AzLmFqYXhGcm9tLnN1Ym1pdC5mYWlsXCIsIChldmVudCwgYWpheEZvcm0pID0+IHtcbiAgY29uc3QgJHJlQ2FwdGNoYVBsYWNlaG9sZGVyID0galF1ZXJ5KGFqYXhGb3JtLmVsZW1lbnQpLmZpbmQoXCIucmVjYXB0Y2hhLXBsYWNlaG9sZGVyXCIpO1xuXG4gIGlmICgkcmVDYXB0Y2hhUGxhY2Vob2xkZXIgJiYgJHJlQ2FwdGNoYVBsYWNlaG9sZGVyLmxlbmd0aCA+IDApIHtcbiAgICBncmVjYXB0Y2hhLnJlc2V0KCRyZUNhcHRjaGFQbGFjZWhvbGRlci5kYXRhKFwicmVjYXB0Y2hhSWRcIikpO1xuICB9XG59KTtcbiJdfQ==","file":"recaptcha.onload.min.js"}