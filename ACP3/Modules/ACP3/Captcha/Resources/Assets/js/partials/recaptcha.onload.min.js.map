{"version":3,"sources":["ACP3/Modules/ACP3/Captcha/Resources/Assets/js/partials/recaptcha.onload.js"],"names":["onloadCallback","jQuery","each","children","length","widgetId","grecaptcha","render","id","dataset","sitekey","size","data","document","on","event","ajaxForm","$reCaptchaPlaceholder","element","find","reset"],"mappings":"aAAA;AACA;AACA;AACA,G,CAEA,gCACA,GAAMA,CAAAA,cAAc,CAAG,UAAM,CACzBC,MAAM,CAAC,wBAAD,CAAN,CAAiCC,IAAjC,CAAsC,UAAY,CAC9C,GAAuC,CAAnC,GAAAD,MAAM,CAAC,IAAD,CAAN,CAAaE,QAAb,GAAwBC,MAA5B,CAA0C,CACtC,GAAMC,CAAAA,CAAQ,CAAGC,UAAU,CAACC,MAAX,CAAkB,KAAKC,EAAvB,CAA2B,CACxC,QAAW,KAAKC,OAAL,CAAaC,OADgB,CAExC,KAAQ,KAAKD,OAAL,CAAaE,IAFmB,CAA3B,CAAjB,CAKAV,MAAM,CAAC,IAAD,CAAN,CAAaW,IAAb,CAAkB,aAAlB,CAAiCP,CAAjC,CACH,CACJ,CATD,CAUH,CAXD,CAaAJ,MAAM,CAACY,QAAD,CAAN,CAAiBC,EAAjB,CAAoB,wBAApB,CAA8C,UAAM,CAChDd,cAAc,EACjB,CAFD,C,CAIAC,MAAM,CAACY,QAAD,CAAN,CAAiBC,EAAjB,CAAoB,2BAApB,CAAiD,SAACC,CAAD,CAAQC,CAAR,CAAqB,CAClE,GAAMC,CAAAA,CAAqB,CAAGhB,MAAM,CAACe,CAAQ,CAACE,OAAV,CAAN,CAAyBC,IAAzB,CAA8B,wBAA9B,CAA9B,CAEIF,CAAqB,EAAmC,CAA/B,CAAAA,CAAqB,CAACb,MAHe,EAI9DE,UAAU,CAACc,KAAX,CACIH,CAAqB,CAACL,IAAtB,CAA2B,aAA3B,CADJ,CAIP,CARD,C","sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\n/* global onloadCallback:true */\nconst onloadCallback = () => {\n    jQuery('.recaptcha-placeholder').each(function () {\n        if (jQuery(this).children().length === 0) {\n            const widgetId = grecaptcha.render(this.id, {\n                'sitekey': this.dataset.sitekey,\n                'size': this.dataset.size\n            });\n\n            jQuery(this).data('recaptchaId', widgetId);\n        }\n    });\n};\n\njQuery(document).on('acp3.ajaxFrom.complete', () => {\n    onloadCallback();\n});\n\njQuery(document).on('acp3.ajaxFrom.submit.fail', (event, ajaxForm) => {\n    const $reCaptchaPlaceholder = jQuery(ajaxForm.element).find('.recaptcha-placeholder');\n\n    if ($reCaptchaPlaceholder && $reCaptchaPlaceholder.length > 0) {\n        grecaptcha.reset(\n            $reCaptchaPlaceholder.data('recaptchaId')\n        );\n    }\n});\n"],"file":"recaptcha.onload.min.js"}