{"version":3,"sources":["ACP3/Modules/ACP3/Captcha/Resources/Assets/js/partials/ACP3/Modules/ACP3/Captcha/Resources/Assets/js/partials/recaptcha.onload.js"],"names":["onloadCallback","document","querySelectorAll","forEach","elem","children","length","dataset","recaptchaId","grecaptcha","render","id","sitekey","size","addEventListener","event","ajaxForm","reCaptchaPlaceholder","element","querySelector","reset"],"mappings":"AAMAA,eAAA,KACEC,SAASC,iBAAiB,0BAA0BC,QAASC,IAC9B,IAAzBA,EAAKC,SAASC,SAChBF,EAAKG,QAAQC,YAAcC,WAAWC,OAAON,EAAKO,GAAI,CACpDC,QAASR,EAAKG,QAAQK,QACtBC,KAAMT,EAAKG,QAAQM,WAM3BZ,SAASa,iBAAiB,yBAA0B,KAClDd,mBAGFC,SAASa,iBAAiB,4BAA6B,CAACC,EAAOC,KAC7D,MAAMC,EAAuBD,EAASE,QAAQC,cAAc,2BAExD,MAAAF,OAAA,EAAAA,EAAsBX,QAAS,GACjCG,WAAWW,MAAMH,EAAqBV,QAAQC","sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\n/* global onloadCallback:true */\nonloadCallback = () => {\n  document.querySelectorAll(\".recaptcha-placeholder\").forEach((elem) => {\n    if (elem.children.length === 0) {\n      elem.dataset.recaptchaId = grecaptcha.render(elem.id, {\n        sitekey: elem.dataset.sitekey,\n        size: elem.dataset.size,\n      });\n    }\n  });\n};\n\ndocument.addEventListener(\"acp3.ajaxFrom.complete\", () => {\n  onloadCallback();\n});\n\ndocument.addEventListener(\"acp3.ajaxFrom.submit.fail\", (event, ajaxForm) => {\n  const reCaptchaPlaceholder = ajaxForm.element.querySelector(\".recaptcha-placeholder\");\n\n  if (reCaptchaPlaceholder?.length > 0) {\n    grecaptcha.reset(reCaptchaPlaceholder.dataset.recaptchaId);\n  }\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFDUDMvTW9kdWxlcy9BQ1AzL0NhcHRjaGEvUmVzb3VyY2VzL0Fzc2V0cy9qcy9wYXJ0aWFscy9yZWNhcHRjaGEub25sb2FkLmpzIl0sIm5hbWVzIjpbIm9ubG9hZENhbGxiYWNrIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsZW0iLCJjaGlsZHJlbiIsImxlbmd0aCIsImRhdGFzZXQiLCJyZWNhcHRjaGFJZCIsImdyZWNhcHRjaGEiLCJyZW5kZXIiLCJpZCIsInNpdGVrZXkiLCJzaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiYWpheEZvcm0iLCJyZUNhcHRjaGFQbGFjZWhvbGRlciIsImVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQU1BQSxlQUFBLEtBQ0VDLFNBQVNDLGlCQUFpQiwwQkFBMEJDLFFBQVNDLElBQzlCLElBQXpCQSxFQUFLQyxTQUFTQyxTQUNoQkYsRUFBS0csUUFBUUMsWUFBY0MsV0FBV0MsT0FBT04sRUFBS08sR0FBSSxDQUNwREMsUUFBU1IsRUFBS0csUUFBUUssUUFDdEJDLEtBQU1ULEVBQUtHLFFBQVFNLFdBTTNCWixTQUFTYSxpQkFBaUIseUJBQTBCLEtBQ2xEZCxtQkFHRkMsU0FBU2EsaUJBQWlCLDRCQUE2QixDQUFDQyxFQUFPQyxLQUM3RCxNQUFNQyxFQUF1QkQsRUFBU0UsUUFBUUMsY0FBYywyQkFFeEQsTUFBQUYsT0FBQSxFQUFBQSxFQUFzQlgsUUFBUyxHQUNqQ0csV0FBV1csTUFBTUgsRUFBcUJWLFFBQVFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5jaW5nIGRldGFpbHMuXG4gKi9cblxuLyogZ2xvYmFsIG9ubG9hZENhbGxiYWNrOnRydWUgKi9cbm9ubG9hZENhbGxiYWNrID0gKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlY2FwdGNoYS1wbGFjZWhvbGRlclwiKS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgaWYgKGVsZW0uY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICBlbGVtLmRhdGFzZXQucmVjYXB0Y2hhSWQgPSBncmVjYXB0Y2hhLnJlbmRlcihlbGVtLmlkLCB7XG4gICAgICAgIHNpdGVrZXk6IGVsZW0uZGF0YXNldC5zaXRla2V5LFxuICAgICAgICBzaXplOiBlbGVtLmRhdGFzZXQuc2l6ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiYWNwMy5hamF4RnJvbS5jb21wbGV0ZVwiLCAoKSA9PiB7XG4gIG9ubG9hZENhbGxiYWNrKCk7XG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImFjcDMuYWpheEZyb20uc3VibWl0LmZhaWxcIiwgKGV2ZW50LCBhamF4Rm9ybSkgPT4ge1xuICBjb25zdCByZUNhcHRjaGFQbGFjZWhvbGRlciA9IGFqYXhGb3JtLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZWNhcHRjaGEtcGxhY2Vob2xkZXJcIik7XG5cbiAgaWYgKHJlQ2FwdGNoYVBsYWNlaG9sZGVyPy5sZW5ndGggPiAwKSB7XG4gICAgZ3JlY2FwdGNoYS5yZXNldChyZUNhcHRjaGFQbGFjZWhvbGRlci5kYXRhc2V0LnJlY2FwdGNoYUlkKTtcbiAgfVxufSk7XG4iXX0=","file":"recaptcha.onload.min.js"}