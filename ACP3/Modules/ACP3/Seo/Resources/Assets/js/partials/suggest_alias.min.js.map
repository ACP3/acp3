{"version":3,"sources":["ACP3/Modules/ACP3/Seo/Resources/Assets/js/partials/suggest_alias.js"],"names":["$","Plugin","element","options","settings","extend","defaults","_defaults","_name","init","prefix","slugBaseElement","aliasElement","prototype","that","on","e","preventDefault","performAjaxRequest","canPerformAjaxRequest","ajax","url","href","type","data","title","val","beforeSend","addClass","success","responseData","alias","length","err","console","error","message","removeClass","fn","each","jQuery","suggestAlias"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\n(($) => {\n    'use strict';\n\n    const pluginName = 'suggestAlias',\n        defaults = {\n            prefix: '',\n            slugBaseElement: null,\n            aliasElement: null\n        };\n\n    function Plugin(element, options) {\n        this.element = element;\n\n        this.settings = $.extend({}, defaults, options);\n        this._defaults = defaults;\n        this._name = pluginName;\n        this.init();\n    }\n\n    $.extend(Plugin.prototype, {\n        init: function () {\n            const that = this;\n\n            $(this.element).on('click', function (e) {\n                e.preventDefault();\n\n                that.performAjaxRequest();\n            });\n        },\n        performAjaxRequest: function () {\n            if (this.canPerformAjaxRequest()) {\n                const that = this;\n\n                $.ajax({\n                    url: that.element.href,\n                    type: 'post',\n                    data: {\n                        prefix: that.settings.prefix,\n                        title: that.settings.slugBaseElement.val()\n                    },\n                    beforeSend: function () {\n                        $(that.element).addClass('disabled');\n                    },\n                    success: function (responseData) {\n                        try {\n                            if (typeof responseData.alias !== 'undefined' && responseData.alias.length > 0) {\n                                $(that.settings.aliasElement).val(responseData.alias);\n                            }\n                        } catch (err) {\n                            console.error(err.message);\n                        } finally {\n                            $(that.element).removeClass('disabled');\n                        }\n                    }\n                });\n            }\n        },\n        /**\n         * @returns {boolean}\n         */\n        canPerformAjaxRequest: function () {\n            return this.settings.slugBaseElement !== null\n                && this.settings.aliasElement !== null\n                && this.settings.slugBaseElement.val() !== '';\n        }\n    });\n\n    $.fn[pluginName] = function (options) {\n        return this.each(function () {\n            if (!$.data(this, 'plugin_' + pluginName)) {\n                $.data(this, 'plugin_' + pluginName, new Plugin(this, options));\n            }\n        });\n    };\n})(jQuery);\n\n(($) => {\n    $('#seo-alias-suggestion').suggestAlias({\n        prefix: $('[data-seo-slug-prefix]').data('seo-slug-prefix'),\n        slugBaseElement: $('[data-seo-slug-base=\"true\"]'),\n        aliasElement: $('#alias')\n    });\n})(jQuery);\n"],"file":"ACP3\\Modules\\ACP3\\Seo\\Resources\\Assets\\js\\partials\\suggest_alias.min.js"}