!function(){"use strict";function e(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var t=0;function s(e){return"__private_"+t+++"_"+e}var i=s("element"),a=s("settings"),n=s("init"),l=s("performAjaxRequest"),r=s("canPerformAjaxRequest");class o{constructor(t,s){Object.defineProperty(this,r,{value:d}),Object.defineProperty(this,l,{value:c}),Object.defineProperty(this,n,{value:u}),Object.defineProperty(this,i,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),e(this,i)[i]=t,e(this,a)[a]=function(e,t,s){const i={...e,...t};if(!s)return i;for(let[e,t]of Object.entries(s)){const s=(a=e.replace("ajaxForm","")).charAt(0).toLowerCase()+a.slice(1);if(s.length>0&&void 0!==i[s])try{i[s]=JSON.parse(t)}catch{i[s]=t}}var a;return i}({prefix:"",slugBaseElement:null,aliasElement:null},s),e(this,n)[n]()}}function u(){e(this,i)[i].addEventListener("click",(async t=>{t.preventDefault(),await e(this,l)[l]()}))}async function c(){if(e(this,r)[r]())try{e(this,i)[i].classList.add("disabled");const s=new FormData;s.append("prefix",e(this,a)[a].prefix),s.append("title",e(this,a)[a].slugBaseElement.value);const n=await fetch(e(this,i)[i].href,{method:"POST",body:s,headers:{"X-Requested-With":"XMLHttpRequest"}});if(n.ok){var t;const s=await n.json();(null==s||null===(t=s.alias)||void 0===t?void 0:t.length)>0&&(e(this,a)[a].aliasElement.value=s.alias)}}catch(e){console.error(e.message)}finally{e(this,i)[i].classList.remove("disabled")}}function d(){return null!==e(this,a)[a].slugBaseElement&&null!==e(this,a)[a].aliasElement&&""!==e(this,a)[a].slugBaseElement.value}(e=>{var t,s;new o(e.getElementById("seo-alias-suggestion"),{prefix:null!==(t=null===(s=e.querySelector("[data-seo-slug-prefix]"))||void 0===s?void 0:s.dataset.seoSlugPrefix)&&void 0!==t?t:"",slugBaseElement:e.querySelector('[data-seo-slug-base="true"]'),aliasElement:e.getElementById("alias")})})(document)}();
//# sourceMappingURL=suggest_alias.min.js.map