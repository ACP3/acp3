{"version":3,"sources":["ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/tinymce.js"],"names":["$","initializeTinyMCEInstances","jQuery","each","index","element","config","data","fileManagerConfig","tinyMCEFileBrowserCallback","file_browser_callback","finalConfig","_objectSpread","existingInstance","tinymce","get","id","remove","init","document","on","triggerSave"],"mappings":"CAAA,ksBCQA,IAyBEA,EAzBIC,EAA6B,WACjCC,OAAO,oBAAoBC,MAAK,SAACC,EAAOC,GACtC,IAAMC,EAASJ,OAAOG,GAASE,KAAK,iBAChCC,EAAoB,GAEkB,oBAA/BC,6BACTD,EAAoB,CAClBE,sBAAuBD,6BAI3B,IAAME,EAAWC,EAAAA,EAAA,GACZN,GACAE,GAECK,EAAmBC,QAAQC,IAAIV,EAAQW,IAEzCH,GACFA,EAAiBI,SAGnBH,QAAQI,KAAKP,QAIfX,EAYCE,QAXCiB,UAAUC,GAAG,+BAA+B,WACrB,oBAAZN,SACTA,QAAQO,iBAIZrB,EAAEmB,UAAUC,GAAG,0BAA0B,WACvCnB,OAGFA,ID5CF","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\n/* global tinymce */\n/* global tinyMCEFileBrowserCallback */\n\nconst initializeTinyMCEInstances = () => {\n  jQuery(\".wysiwyg-tinymce\").each((index, element) => {\n    const config = jQuery(element).data(\"wysiwygConfig\");\n    let fileManagerConfig = {};\n\n    if (typeof tinyMCEFileBrowserCallback !== \"undefined\") {\n      fileManagerConfig = {\n        file_browser_callback: tinyMCEFileBrowserCallback,\n      };\n    }\n\n    const finalConfig = {\n      ...config,\n      ...fileManagerConfig,\n    };\n    const existingInstance = tinymce.get(element.id);\n\n    if (existingInstance) {\n      existingInstance.remove();\n    }\n\n    tinymce.init(finalConfig);\n  });\n};\n\n(($) => {\n  $(document).on(\"acp3.ajaxFrom.submit.before\", () => {\n    if (typeof tinymce !== \"undefined\") {\n      tinymce.triggerSave();\n    }\n  });\n\n  $(document).on(\"acp3.ajaxFrom.complete\", () => {\n    initializeTinyMCEInstances();\n  });\n\n  initializeTinyMCEInstances();\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrLWZsYXRcXF9wcmVsdWRlIiwiQUNQMy9Nb2R1bGVzL0FDUDMvV3lzaXd5Z3RpbnltY2UvUmVzb3VyY2VzL0Fzc2V0cy9qcy9wYXJ0aWFscy90aW55bWNlLmpzIl0sIm5hbWVzIjpbIiQiLCJpbml0aWFsaXplVGlueU1DRUluc3RhbmNlcyIsImpRdWVyeSIsImVhY2giLCJpbmRleCIsImVsZW1lbnQiLCJjb25maWciLCJkYXRhIiwiZmlsZU1hbmFnZXJDb25maWciLCJ0aW55TUNFRmlsZUJyb3dzZXJDYWxsYmFjayIsImZpbGVfYnJvd3Nlcl9jYWxsYmFjayIsImZpbmFsQ29uZmlnIiwiX29iamVjdFNwcmVhZCIsImV4aXN0aW5nSW5zdGFuY2UiLCJ0aW55bWNlIiwiZ2V0IiwiaWQiLCJyZW1vdmUiLCJpbml0IiwiZG9jdW1lbnQiLCJvbiIsInRyaWdnZXJTYXZlIl0sIm1hcHBpbmdzIjoiQ0FBQSxrc0JDUUEsSUF5QkVBLEVBekJJQyxFQUE2QixXQUNqQ0MsT0FBTyxvQkFBb0JDLE1BQUssU0FBQ0MsRUFBT0MsR0FDdEMsSUFBTUMsRUFBU0osT0FBT0csR0FBU0UsS0FBSyxpQkFDaENDLEVBQW9CLEdBRWtCLG9CQUEvQkMsNkJBQ1RELEVBQW9CLENBQ2xCRSxzQkFBdUJELDZCQUkzQixJQUFNRSxFQUFXQyxFQUFBQSxFQUFBLEdBQ1pOLEdBQ0FFLEdBRUNLLEVBQW1CQyxRQUFRQyxJQUFJVixFQUFRVyxJQUV6Q0gsR0FDRkEsRUFBaUJJLFNBR25CSCxRQUFRSSxLQUFLUCxRQUlmWCxFQVlDRSxRQVhDaUIsVUFBVUMsR0FBRywrQkFBK0IsV0FDckIsb0JBQVpOLFNBQ1RBLFFBQVFPLGlCQUlackIsRUFBRW1CLFVBQVVDLEdBQUcsMEJBQTBCLFdBQ3ZDbkIsT0FHRkEsSUQ1Q0YiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIGJ5IHRoZSBBQ1AzIERldmVsb3BlcnMuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBhdCB0aGUgdG9wLWxldmVsIG1vZHVsZSBkaXJlY3RvcnkgZm9yIGxpY2Vuc2luZyBkZXRhaWxzLlxuICovXG5cbi8qIGdsb2JhbCB0aW55bWNlICovXG4vKiBnbG9iYWwgdGlueU1DRUZpbGVCcm93c2VyQ2FsbGJhY2sgKi9cblxuY29uc3QgaW5pdGlhbGl6ZVRpbnlNQ0VJbnN0YW5jZXMgPSAoKSA9PiB7XG4gIGpRdWVyeShcIi53eXNpd3lnLXRpbnltY2VcIikuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBjb25maWcgPSBqUXVlcnkoZWxlbWVudCkuZGF0YShcInd5c2l3eWdDb25maWdcIik7XG4gICAgbGV0IGZpbGVNYW5hZ2VyQ29uZmlnID0ge307XG5cbiAgICBpZiAodHlwZW9mIHRpbnlNQ0VGaWxlQnJvd3NlckNhbGxiYWNrICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBmaWxlTWFuYWdlckNvbmZpZyA9IHtcbiAgICAgICAgZmlsZV9icm93c2VyX2NhbGxiYWNrOiB0aW55TUNFRmlsZUJyb3dzZXJDYWxsYmFjayxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgZmluYWxDb25maWcgPSB7XG4gICAgICAuLi5jb25maWcsXG4gICAgICAuLi5maWxlTWFuYWdlckNvbmZpZyxcbiAgICB9O1xuICAgIGNvbnN0IGV4aXN0aW5nSW5zdGFuY2UgPSB0aW55bWNlLmdldChlbGVtZW50LmlkKTtcblxuICAgIGlmIChleGlzdGluZ0luc3RhbmNlKSB7XG4gICAgICBleGlzdGluZ0luc3RhbmNlLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRpbnltY2UuaW5pdChmaW5hbENvbmZpZyk7XG4gIH0pO1xufTtcblxuKCgkKSA9PiB7XG4gICQoZG9jdW1lbnQpLm9uKFwiYWNwMy5hamF4RnJvbS5zdWJtaXQuYmVmb3JlXCIsICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHRpbnltY2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRpbnltY2UudHJpZ2dlclNhdmUoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKFwiYWNwMy5hamF4RnJvbS5jb21wbGV0ZVwiLCAoKSA9PiB7XG4gICAgaW5pdGlhbGl6ZVRpbnlNQ0VJbnN0YW5jZXMoKTtcbiAgfSk7XG5cbiAgaW5pdGlhbGl6ZVRpbnlNQ0VJbnN0YW5jZXMoKTtcbn0pKGpRdWVyeSk7XG4iXX0=","file":"tinymce.min.js"}