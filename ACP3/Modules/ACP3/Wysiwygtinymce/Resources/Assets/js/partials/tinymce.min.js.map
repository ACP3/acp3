{"version":3,"sources":["ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/tinymce.js"],"names":["$","initializeTinyMCEInstances","jQuery","each","index","element","config","data","fileManagerConfig","tinyMCEFileBrowserCallback","file_browser_callback","finalConfig","_objectSpread","existingInstance","tinymce","get","id","remove","init","document","on","triggerSave"],"mappings":"CAAA,ksBCQA,IAyBEA,EAzBIC,EAA6B,WACjCC,OAAO,oBAAoBC,MAAK,SAACC,EAAOC,GACtC,IAAMC,EAASJ,OAAOG,GAASE,KAAK,iBAChCC,EAAoB,GAEkB,oBAA/BC,6BACTD,EAAoB,CAClBE,sBAAuBD,6BAI3B,IAAME,EAAWC,EAAAA,EAAA,GACZN,GACAE,GAECK,EAAmBC,QAAQC,IAAIV,EAAQW,IAEzCH,GACFA,EAAiBI,SAGnBH,QAAQI,KAAKP,QAIfX,EAYCE,QAXCiB,UAAUC,GAAG,+BAA+B,WACrB,oBAAZN,SACTA,QAAQO,iBAIZrB,EAAEmB,UAAUC,GAAG,0BAA0B,WACvCnB,OAGFA,ID5CF","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\n/* global tinymce */\n/* global tinyMCEFileBrowserCallback */\n\nconst initializeTinyMCEInstances = () => {\n  jQuery(\".wysiwyg-tinymce\").each((index, element) => {\n    const config = jQuery(element).data(\"wysiwygConfig\");\n    let fileManagerConfig = {};\n\n    if (typeof tinyMCEFileBrowserCallback !== \"undefined\") {\n      fileManagerConfig = {\n        file_browser_callback: tinyMCEFileBrowserCallback,\n      };\n    }\n\n    const finalConfig = {\n      ...config,\n      ...fileManagerConfig,\n    };\n    const existingInstance = tinymce.get(element.id);\n\n    if (existingInstance) {\n      existingInstance.remove();\n    }\n\n    tinymce.init(finalConfig);\n  });\n};\n\n(($) => {\n  $(document).on(\"acp3.ajaxFrom.submit.before\", () => {\n    if (typeof tinymce !== \"undefined\") {\n      tinymce.triggerSave();\n    }\n  });\n\n  $(document).on(\"acp3.ajaxFrom.complete\", () => {\n    initializeTinyMCEInstances();\n  });\n\n  initializeTinyMCEInstances();\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1d5c2l3eWd0aW55bWNlL1Jlc291cmNlcy9Bc3NldHMvanMvcGFydGlhbHMvdGlueW1jZS5qcyJdLCJuYW1lcyI6WyIkIiwiaW5pdGlhbGl6ZVRpbnlNQ0VJbnN0YW5jZXMiLCJqUXVlcnkiLCJlYWNoIiwiaW5kZXgiLCJlbGVtZW50IiwiY29uZmlnIiwiZGF0YSIsImZpbGVNYW5hZ2VyQ29uZmlnIiwidGlueU1DRUZpbGVCcm93c2VyQ2FsbGJhY2siLCJmaWxlX2Jyb3dzZXJfY2FsbGJhY2siLCJmaW5hbENvbmZpZyIsIl9vYmplY3RTcHJlYWQiLCJleGlzdGluZ0luc3RhbmNlIiwidGlueW1jZSIsImdldCIsImlkIiwicmVtb3ZlIiwiaW5pdCIsImRvY3VtZW50Iiwib24iLCJ0cmlnZ2VyU2F2ZSJdLCJtYXBwaW5ncyI6IkNBQUEsa3NCQ1FBLElBeUJFQSxFQXpCSUMsRUFBNkIsV0FDakNDLE9BQU8sb0JBQW9CQyxNQUFLLFNBQUNDLEVBQU9DLEdBQ3RDLElBQU1DLEVBQVNKLE9BQU9HLEdBQVNFLEtBQUssaUJBQ2hDQyxFQUFvQixHQUVrQixvQkFBL0JDLDZCQUNURCxFQUFvQixDQUNsQkUsc0JBQXVCRCw2QkFJM0IsSUFBTUUsRUFBV0MsRUFBQUEsRUFBQSxHQUNaTixHQUNBRSxHQUVDSyxFQUFtQkMsUUFBUUMsSUFBSVYsRUFBUVcsSUFFekNILEdBQ0ZBLEVBQWlCSSxTQUduQkgsUUFBUUksS0FBS1AsUUFJZlgsRUFZQ0UsUUFYQ2lCLFVBQVVDLEdBQUcsK0JBQStCLFdBQ3JCLG9CQUFaTixTQUNUQSxRQUFRTyxpQkFJWnJCLEVBQUVtQixVQUFVQyxHQUFHLDBCQUEwQixXQUN2Q25CLE9BR0ZBLElENUNGIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbnNpbmcgZGV0YWlscy5cbiAqL1xuXG4vKiBnbG9iYWwgdGlueW1jZSAqL1xuLyogZ2xvYmFsIHRpbnlNQ0VGaWxlQnJvd3NlckNhbGxiYWNrICovXG5cbmNvbnN0IGluaXRpYWxpemVUaW55TUNFSW5zdGFuY2VzID0gKCkgPT4ge1xuICBqUXVlcnkoXCIud3lzaXd5Zy10aW55bWNlXCIpLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0galF1ZXJ5KGVsZW1lbnQpLmRhdGEoXCJ3eXNpd3lnQ29uZmlnXCIpO1xuICAgIGxldCBmaWxlTWFuYWdlckNvbmZpZyA9IHt9O1xuXG4gICAgaWYgKHR5cGVvZiB0aW55TUNFRmlsZUJyb3dzZXJDYWxsYmFjayAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgZmlsZU1hbmFnZXJDb25maWcgPSB7XG4gICAgICAgIGZpbGVfYnJvd3Nlcl9jYWxsYmFjazogdGlueU1DRUZpbGVCcm93c2VyQ2FsbGJhY2ssXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGZpbmFsQ29uZmlnID0ge1xuICAgICAgLi4uY29uZmlnLFxuICAgICAgLi4uZmlsZU1hbmFnZXJDb25maWcsXG4gICAgfTtcbiAgICBjb25zdCBleGlzdGluZ0luc3RhbmNlID0gdGlueW1jZS5nZXQoZWxlbWVudC5pZCk7XG5cbiAgICBpZiAoZXhpc3RpbmdJbnN0YW5jZSkge1xuICAgICAgZXhpc3RpbmdJbnN0YW5jZS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aW55bWNlLmluaXQoZmluYWxDb25maWcpO1xuICB9KTtcbn07XG5cbigoJCkgPT4ge1xuICAkKGRvY3VtZW50KS5vbihcImFjcDMuYWpheEZyb20uc3VibWl0LmJlZm9yZVwiLCAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0aW55bWNlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aW55bWNlLnRyaWdnZXJTYXZlKCk7XG4gICAgfVxuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbihcImFjcDMuYWpheEZyb20uY29tcGxldGVcIiwgKCkgPT4ge1xuICAgIGluaXRpYWxpemVUaW55TUNFSW5zdGFuY2VzKCk7XG4gIH0pO1xuXG4gIGluaXRpYWxpemVUaW55TUNFSW5zdGFuY2VzKCk7XG59KShqUXVlcnkpO1xuIl19","file":"tinymce.min.js"}