{"version":3,"sources":["ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/tinymce.js"],"names":["initializeTinyMCEInstances","jQuery","each","index","element","config","data","fileManagerConfig","tinyMCEFileBrowserCallback","file_browser_callback","finalConfig","Object","assign","existingInstance","tinymce","get","id","remove","init","$","document","on","triggerSave"],"mappings":"aAAA;AACA;AACA;AACA,G,CAEA,oB,CACA,uCAEA,GAAMA,CAAAA,0BAA0B,CAAG,UAAM,CACrCC,MAAM,CAAC,kBAAD,CAAN,CAA2BC,IAA3B,CAAgC,SAACC,CAAD,CAAQC,CAAR,CAAoB,IAC1CC,CAAAA,CAAM,CAAGJ,MAAM,CAACG,CAAD,CAAN,CAAgBE,IAAhB,CAAqB,eAArB,CADiC,CAE5CC,CAAiB,CAAG,EAFwB,CAIN,WAAtC,QAAOC,CAAAA,0BAJqC,GAK5CD,CAAiB,CAAG,CAChBE,qBAAqB,CAAED,0BADP,CALwB,KAU1CE,CAAAA,CAAW,CAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBP,CAAlB,CAA0BE,CAA1B,CAV4B,CAW1CM,CAAgB,CAAGC,OAAO,CAACC,GAAR,CAAYX,CAAO,CAACY,EAApB,CAXuB,CAa5CH,CAb4C,EAc5CA,CAAgB,CAACI,MAAjB,EAd4C,CAiBhDH,OAAO,CAACI,IAAR,CAAaR,CAAb,CACH,CAlBD,CAmBH,CApBD,CAsBA,CAAC,SAACS,CAAD,CAAO,CACJA,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,6BAAf,CAA8C,UAAM,CACzB,WAAnB,QAAOP,CAAAA,OADqC,EAE5CA,OAAO,CAACQ,WAAR,EAEP,CAJD,CADI,CAOJH,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,wBAAf,CAAyC,UAAM,CAC3CrB,0BAA0B,EAC7B,CAFD,CAPI,CAWJA,0BAA0B,EAC7B,CAZD,EAYGC,MAZH,C","sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\n/* global tinymce */\n/* global tinyMCEFileBrowserCallback */\n\nconst initializeTinyMCEInstances = () => {\n    jQuery('.wysiwyg-tinymce').each((index, element) => {\n        const config = jQuery(element).data('wysiwygConfig');\n        let fileManagerConfig = {};\n\n        if (typeof tinyMCEFileBrowserCallback !== 'undefined') {\n            fileManagerConfig = {\n                file_browser_callback: tinyMCEFileBrowserCallback\n            };\n        }\n\n        const finalConfig = Object.assign({}, config, fileManagerConfig);\n        const existingInstance = tinymce.get(element.id);\n\n        if (existingInstance) {\n            existingInstance.remove();\n        }\n\n        tinymce.init(finalConfig);\n    });\n};\n\n(($) => {\n    $(document).on('acp3.ajaxFrom.submit.before', () => {\n        if (typeof tinymce !== 'undefined') {\n            tinymce.triggerSave();\n        }\n    });\n\n    $(document).on('acp3.ajaxFrom.complete', () => {\n        initializeTinyMCEInstances();\n    });\n\n    initializeTinyMCEInstances();\n})(jQuery);\n"],"file":"tinymce.min.js"}