{"version":3,"sources":["ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/tinymce.js"],"names":["initializeTinyMCEInstances","document","querySelectorAll","forEach","element","config","JSON","parse","dataset","wysiwygConfig","fileManagerConfig","tinyMCEFileBrowserCallback","file_browser_callback","finalConfig","_objectSpread","existingInstance","tinymce","get","id","remove","init","addEventListener","triggerSave"],"mappings":"CAAA,ksBCQA,IAAMA,EAA6B,WACjCC,SAASC,iBAAiB,oBAAoBC,SAAQ,SAACC,GACrD,IAAMC,EAASC,KAAKC,MAAMH,EAAQI,QAAQC,eACtCC,EAAoB,GAEkB,oBAA/BC,6BACTD,EAAoB,CAClBE,sBAAuBD,6BAI3B,IAAME,EAAWC,EAAAA,EAAA,GACZT,GACAK,GAECK,EAAmBC,QAAQC,IAAIb,EAAQc,IAEzCH,GACFA,EAAiBI,SAGnBH,QAAQI,KAAKP,QAIjB,SAAEZ,GACAA,EAASoB,iBAAiB,+BAA+B,WAChC,oBAAZL,SACTA,QAAQM,iBAIZrB,EAASoB,iBAAiB,0BAA0B,WAClDrB,OAGFA,IAXF,CAYGC,UD7CH","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\n/* global tinymce */\n/* global tinyMCEFileBrowserCallback */\n\nconst initializeTinyMCEInstances = () => {\n  document.querySelectorAll(\".wysiwyg-tinymce\").forEach((element) => {\n    const config = JSON.parse(element.dataset.wysiwygConfig);\n    let fileManagerConfig = {};\n\n    if (typeof tinyMCEFileBrowserCallback !== \"undefined\") {\n      fileManagerConfig = {\n        file_browser_callback: tinyMCEFileBrowserCallback,\n      };\n    }\n\n    const finalConfig = {\n      ...config,\n      ...fileManagerConfig,\n    };\n    const existingInstance = tinymce.get(element.id);\n\n    if (existingInstance) {\n      existingInstance.remove();\n    }\n\n    tinymce.init(finalConfig);\n  });\n};\n\n((document) => {\n  document.addEventListener(\"acp3.ajaxFrom.submit.before\", () => {\n    if (typeof tinymce !== \"undefined\") {\n      tinymce.triggerSave();\n    }\n  });\n\n  document.addEventListener(\"acp3.ajaxFrom.complete\", () => {\n    initializeTinyMCEInstances();\n  });\n\n  initializeTinyMCEInstances();\n})(document);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1d5c2l3eWd0aW55bWNlL1Jlc291cmNlcy9Bc3NldHMvanMvcGFydGlhbHMvdGlueW1jZS5qcyJdLCJuYW1lcyI6WyJpbml0aWFsaXplVGlueU1DRUluc3RhbmNlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtZW50IiwiY29uZmlnIiwiSlNPTiIsInBhcnNlIiwiZGF0YXNldCIsInd5c2l3eWdDb25maWciLCJmaWxlTWFuYWdlckNvbmZpZyIsInRpbnlNQ0VGaWxlQnJvd3NlckNhbGxiYWNrIiwiZmlsZV9icm93c2VyX2NhbGxiYWNrIiwiZmluYWxDb25maWciLCJfb2JqZWN0U3ByZWFkIiwiZXhpc3RpbmdJbnN0YW5jZSIsInRpbnltY2UiLCJnZXQiLCJpZCIsInJlbW92ZSIsImluaXQiLCJhZGRFdmVudExpc3RlbmVyIiwidHJpZ2dlclNhdmUiXSwibWFwcGluZ3MiOiJDQUFBLGtzQkNRQSxJQUFNQSxFQUE2QixXQUNqQ0MsU0FBU0MsaUJBQWlCLG9CQUFvQkMsU0FBUSxTQUFDQyxHQUNyRCxJQUFNQyxFQUFTQyxLQUFLQyxNQUFNSCxFQUFRSSxRQUFRQyxlQUN0Q0MsRUFBb0IsR0FFa0Isb0JBQS9CQyw2QkFDVEQsRUFBb0IsQ0FDbEJFLHNCQUF1QkQsNkJBSTNCLElBQU1FLEVBQVdDLEVBQUFBLEVBQUEsR0FDWlQsR0FDQUssR0FFQ0ssRUFBbUJDLFFBQVFDLElBQUliLEVBQVFjLElBRXpDSCxHQUNGQSxFQUFpQkksU0FHbkJILFFBQVFJLEtBQUtQLFFBSWpCLFNBQUVaLEdBQ0FBLEVBQVNvQixpQkFBaUIsK0JBQStCLFdBQ2hDLG9CQUFaTCxTQUNUQSxRQUFRTSxpQkFJWnJCLEVBQVNvQixpQkFBaUIsMEJBQTBCLFdBQ2xEckIsT0FHRkEsSUFYRixDQVlHQyxVRDdDSCIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5zaW5nIGRldGFpbHMuXG4gKi9cblxuLyogZ2xvYmFsIHRpbnltY2UgKi9cbi8qIGdsb2JhbCB0aW55TUNFRmlsZUJyb3dzZXJDYWxsYmFjayAqL1xuXG5jb25zdCBpbml0aWFsaXplVGlueU1DRUluc3RhbmNlcyA9ICgpID0+IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi53eXNpd3lnLXRpbnltY2VcIikuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGNvbmZpZyA9IEpTT04ucGFyc2UoZWxlbWVudC5kYXRhc2V0Lnd5c2l3eWdDb25maWcpO1xuICAgIGxldCBmaWxlTWFuYWdlckNvbmZpZyA9IHt9O1xuXG4gICAgaWYgKHR5cGVvZiB0aW55TUNFRmlsZUJyb3dzZXJDYWxsYmFjayAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgZmlsZU1hbmFnZXJDb25maWcgPSB7XG4gICAgICAgIGZpbGVfYnJvd3Nlcl9jYWxsYmFjazogdGlueU1DRUZpbGVCcm93c2VyQ2FsbGJhY2ssXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGZpbmFsQ29uZmlnID0ge1xuICAgICAgLi4uY29uZmlnLFxuICAgICAgLi4uZmlsZU1hbmFnZXJDb25maWcsXG4gICAgfTtcbiAgICBjb25zdCBleGlzdGluZ0luc3RhbmNlID0gdGlueW1jZS5nZXQoZWxlbWVudC5pZCk7XG5cbiAgICBpZiAoZXhpc3RpbmdJbnN0YW5jZSkge1xuICAgICAgZXhpc3RpbmdJbnN0YW5jZS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aW55bWNlLmluaXQoZmluYWxDb25maWcpO1xuICB9KTtcbn07XG5cbigoZG9jdW1lbnQpID0+IHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImFjcDMuYWpheEZyb20uc3VibWl0LmJlZm9yZVwiLCAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0aW55bWNlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aW55bWNlLnRyaWdnZXJTYXZlKCk7XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiYWNwMy5hamF4RnJvbS5jb21wbGV0ZVwiLCAoKSA9PiB7XG4gICAgaW5pdGlhbGl6ZVRpbnlNQ0VJbnN0YW5jZXMoKTtcbiAgfSk7XG5cbiAgaW5pdGlhbGl6ZVRpbnlNQ0VJbnN0YW5jZXMoKTtcbn0pKGRvY3VtZW50KTtcbiJdfQ==","file":"tinymce.min.js"}