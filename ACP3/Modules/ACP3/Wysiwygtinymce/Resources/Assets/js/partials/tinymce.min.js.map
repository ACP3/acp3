{"version":3,"file":"./ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/tinymce.min.js","mappings":"MAQA,MAAMA,EAA6B,KACjCC,SAASC,iBAAiB,oBAAoBC,SAASC,IACrD,MAAMC,EAASC,KAAKC,MAAMH,EAAQI,QAAQC,eAC1C,IAAIC,EAAoB,CAAC,EAEiB,oBAA/BC,6BACTD,EAAoB,CAClBE,sBAAuBD,6BAI3B,MAAME,EAAc,IACfR,KACAK,GAECI,EAAmBC,QAAQC,IAAIZ,EAAQa,IAEzCH,GACFA,EAAiBI,SAGnBH,QAAQI,KAAKN,EAAb,GApBF,EAwBF,CAAEZ,IACAA,EAASmB,iBAAiB,+BAA+B,KAChC,oBAAZL,SACTA,QAAQM,aACT,IAGHpB,EAASmB,iBAAiB,0BAA0B,KAClDpB,GAA4B,IAG9BA,GAXF,GAYGC,S","sources":["webpack://acp3-cms/./ACP3/Modules/ACP3/Wysiwygtinymce/Resources/Assets/js/partials/tinymce.js"],"sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\n/* global tinymce */\n/* global tinyMCEFileBrowserCallback */\n\nconst initializeTinyMCEInstances = () => {\n  document.querySelectorAll(\".wysiwyg-tinymce\").forEach((element) => {\n    const config = JSON.parse(element.dataset.wysiwygConfig);\n    let fileManagerConfig = {};\n\n    if (typeof tinyMCEFileBrowserCallback !== \"undefined\") {\n      fileManagerConfig = {\n        file_browser_callback: tinyMCEFileBrowserCallback,\n      };\n    }\n\n    const finalConfig = {\n      ...config,\n      ...fileManagerConfig,\n    };\n    const existingInstance = tinymce.get(element.id);\n\n    if (existingInstance) {\n      existingInstance.remove();\n    }\n\n    tinymce.init(finalConfig);\n  });\n};\n\n((document) => {\n  document.addEventListener(\"acp3.ajaxFrom.submit.before\", () => {\n    if (typeof tinymce !== \"undefined\") {\n      tinymce.triggerSave();\n    }\n  });\n\n  document.addEventListener(\"acp3.ajaxFrom.complete\", () => {\n    initializeTinyMCEInstances();\n  });\n\n  initializeTinyMCEInstances();\n})(document);\n"],"names":["initializeTinyMCEInstances","document","querySelectorAll","forEach","element","config","JSON","parse","dataset","wysiwygConfig","fileManagerConfig","tinyMCEFileBrowserCallback","file_browser_callback","finalConfig","existingInstance","tinymce","get","id","remove","init","addEventListener","triggerSave"],"sourceRoot":""}