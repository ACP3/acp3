{"version":3,"sources":["ACP3/Modules/ACP3/System/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/utils.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/ajax-form.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/loading-layer.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/form-validator.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ajax-form.js"],"names":["_$utils_4","defaultSettings","constructorOptions","dataAttributeOptions","mergedSettings","_objectSpread","_i","_Object$entries","Object","entries","length","_Object$entries$_i","arr","Array","isArray","i","Symbol","iterator","_arr","_n","_d","_e","_s","next","done","push","value","err","return","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","key","keyStripped","string","replace","charAt","toLowerCase","___arrayLikeToArray_1","len","arr2","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_classPrivateFieldGet","receiver","privateMap","get","_classPrivateFieldSet","set","_loadingLayer","WeakMap","_formValidator","_defaults","_init","WeakSet","AjaxForm","element","loadingLayer","formValidator","options","instance","Constructor","add","targetElement","loadingOverlay","customFormData","scrollOffsetElement","method","isFormValid","settings","mergeSettings","jQuery","data","privateSet","has","_init2","protoProps","_decodeResponse","_handleSuccessfulResponse","_handleResponseError","_performAjaxRequest","find","click","closest","removeAttr","attr","regeneratorRuntime","mark","_callee","$form","hash","$submitButton","_this$settings$method","_this$settings$method2","response","wrap","_context","prev","showLoadingLayer","disableSubmitButton","fetch","toUpperCase","body","prepareFormData","headers","X-Requested-With","sent","ok","handleResponseError","handleSuccessfulResponse","t0","catch","console","hideLoadingLayer","enableSubmitButton","finish","stop","initialData","FormData","append","_callee2","responseData","_context2","clone","text","status","handleFormErrorMessages","document","trigger","open","write","close","_x","_x2","_callee3","callback","_context3","decodeResponse","window","redirect_url","redirectToNewPage","scrollIntoView","replaceContent","rebindHandlers","location","_x3","_x4","_x5","addLoadingLayer","prop","_callee4","_context4","json","abrupt","_x6","href","reload","offsetTop","offset","top","scrollTop","animate","html","formSubmit","findSubmitButton","_$ajaxForm_1","_this","that","noValidate","on","e","preventDefault","setFormAsValid","preValidateForm","performAjaxRequest","removeAllPreviousErrors","checkFormElementsForErrors","___defineProperties_3","_classPrivateMethodGet","___classPrivateFieldGet_3","_options","_toggleLoadingLayer","LoadingLayer","loadingText","getElementById","$body","appendTo","_toggleLoadingLayer2","_$loadingLayer_3","show","_document$getElementB","classList","toggle","FormValidator","_isElementInViewport","_scrollToFirstFormError","_prettyPrintResponseErrorMessages","_focusTabWithFirstErrorMessage","_addErrorMessageToFormField","_removeErrorMessageFromFormField","_addErrorDecorationToFormGroup","_isFormValid","form","___classPrivateMethodGet_2","_focusTabWithFirstErrorMessage2","_scrollToFirstFormError2","___classPrivateFieldGet_2","removeClass","remove","_step","_iterator","_createForOfIteratorHelper","elements","s","field","nodeName","checkValidity","_addErrorDecorationToFormGroup2","_addErrorMessageToFormField2","validationMessage","___classPrivateFieldSet_2","f","errorMessagesHtml","$errorBox","$modalBody","hide","prependTo","is","fadeIn","_prettyPrintResponseErrorMessages2","___defineProperties_2","_$formValidator_2","$","$elem","addClass","_removeErrorMessageFromFormField2","$element","errorMessage","tabId","tab","focus","each","index","$this","errorClass","filter","$formErrors","_isElementInViewport2","$scrollOffsetElement","height","rect","getBoundingClientRect","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth"],"mappings":"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","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nexport function mergeSettings(defaultSettings, constructorOptions, dataAttributeOptions) {\n  const mergedSettings = { ...defaultSettings, ...constructorOptions };\n\n  for (let [key, value] of Object.entries(dataAttributeOptions)) {\n    const keyStripped = lowerCaseFirstLetter(key.replace(\"ajaxForm\", \"\"));\n\n    if (keyStripped.length > 0 && typeof mergedSettings[keyStripped] !== \"undefined\") {\n      mergedSettings[keyStripped] = value;\n    }\n  }\n\n  return mergedSettings;\n}\n\nfunction lowerCaseFirstLetter(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nimport { mergeSettings } from \"./utils\";\n\nexport class AjaxForm {\n  #loadingLayer;\n  #formValidator;\n  #defaults = {\n    targetElement: \"#content\",\n    loadingOverlay: true,\n    customFormData: null,\n    scrollOffsetElement: null,\n    method: null,\n  };\n\n  /**\n   *\n   * @param {HTMLElement} element\n   * @param {LoadingLayer} loadingLayer\n   * @param {FormValidator} formValidator\n   * @param {object} options\n   */\n  constructor(element, loadingLayer, formValidator, options) {\n    this.element = element;\n    this.isFormValid = true;\n\n    this.#loadingLayer = loadingLayer;\n    this.#formValidator = formValidator;\n\n    this.settings = mergeSettings(this.#defaults, options, jQuery(element).data());\n    this.#init();\n  }\n\n  #init() {\n    const that = this;\n\n    this.findSubmitButton();\n    this.addLoadingLayer();\n    this.element.noValidate = true;\n\n    jQuery(this.element)\n      .on(\"submit\", (e) => {\n        e.preventDefault();\n\n        this.#formValidator.setFormAsValid();\n\n        jQuery(document).trigger(\"acp3.ajaxFrom.submit.before\", [this]);\n\n        if (this.#formValidator.isFormValid && this.#formValidator.preValidateForm(this.element)) {\n          this.performAjaxRequest();\n        }\n      })\n      .on(\"click\", function (e) {\n        if (jQuery(this).prop(\"tagName\") === \"A\") {\n          e.preventDefault();\n\n          that.performAjaxRequest();\n        }\n      })\n      .on(\"change\", () => {\n        if (this.#formValidator.isFormValid === false) {\n          this.#formValidator.removeAllPreviousErrors();\n          this.#formValidator.checkFormElementsForErrors(this.element);\n        }\n      });\n  }\n\n  findSubmitButton() {\n    jQuery(this.element)\n      .find(\":submit\")\n      .click(function () {\n        jQuery(\":submit\", jQuery(this).closest(\"form\")).removeAttr(\"data-clicked\");\n        jQuery(this).attr(\"data-clicked\", \"true\");\n      });\n  }\n\n  async performAjaxRequest() {\n    const $form = jQuery(this.element);\n\n    let hash, $submitButton;\n\n    if ($form.attr(\"method\")) {\n      $submitButton = jQuery(':submit[data-clicked=\"true\"]', $form);\n\n      hash = $submitButton.data(\"hashChange\");\n    } else {\n      hash = $form.data(\"hashChange\");\n    }\n\n    this.#loadingLayer.showLoadingLayer();\n    this.disableSubmitButton($submitButton);\n\n    try {\n      const response = await fetch($form.attr(\"action\") || $form.attr(\"href\"), {\n        method: $form.attr(\"method\")\n          ? $form.attr(\"method\").toUpperCase()\n          : this.settings.method?.toUpperCase() ?? \"GET\",\n        body: this.prepareFormData($form),\n        headers: {\n          \"X-Requested-With\": \"XMLHttpRequest\",\n        },\n      });\n\n      if (!response.ok) {\n        await this.handleResponseError(response, $form);\n      } else {\n        await this.handleSuccessfulResponse(response, $form, hash);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.#loadingLayer.hideLoadingLayer();\n      this.enableSubmitButton($submitButton);\n    }\n  }\n\n  /**\n   *\n   * @param {jQuery} $form\n   * @returns {FormData}\n   */\n  prepareFormData($form) {\n    const initialData = this.settings.customFormData || {};\n    let data;\n\n    if ($form.attr(\"method\")) {\n      const $submitButton = jQuery(':submit[data-clicked=\"true\"]', $form);\n\n      data = new FormData($form[0]);\n\n      if ($submitButton.length) {\n        data.append($submitButton.attr(\"name\"), \"1\");\n      }\n    } else {\n      data = new FormData();\n    }\n\n    for (let [key, value] of Object.entries(initialData)) {\n      data.append(key, value);\n    }\n\n    return data;\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @param {jQuery} $form\n   * @returns {Promise<void>}\n   */\n  async handleResponseError(response, $form) {\n    const responseData = await response.clone().text();\n\n    if (response.status === 400) {\n      this.#formValidator.handleFormErrorMessages($form, responseData);\n\n      jQuery(document).trigger(\"acp3.ajaxFrom.submit.fail\", [this]);\n    } else if (responseData.length > 0) {\n      document.open();\n      document.write(responseData);\n      document.close();\n    }\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @param {jQuery} $form\n   * @param {string} hash\n   * @returns {Promise<void>}\n   */\n  async handleSuccessfulResponse(response, $form, hash) {\n    const responseData = await this.decodeResponse(response);\n\n    let callback = $form.data(\"ajax-form-complete-callback\");\n\n    if (typeof window[callback] === \"function\") {\n      window[callback](responseData);\n    } else if (responseData.redirect_url) {\n      this.redirectToNewPage(hash, responseData);\n    } else {\n      this.scrollIntoView();\n      this.replaceContent(hash, responseData);\n      this.rebindHandlers(hash);\n\n      jQuery(document).trigger(\"acp3.ajaxFrom.complete\");\n\n      if (typeof hash !== \"undefined\") {\n        window.location.hash = hash;\n      }\n    }\n  }\n\n  addLoadingLayer() {\n    if (this.settings.loadingOverlay === false) {\n      return;\n    }\n\n    this.#loadingLayer.addLoadingLayer();\n  }\n\n  disableSubmitButton($submitButton) {\n    if (typeof $submitButton !== \"undefined\") {\n      $submitButton.prop(\"disabled\", true);\n    }\n  }\n\n  enableSubmitButton($submitButton) {\n    if (typeof $submitButton !== \"undefined\") {\n      $submitButton.prop(\"disabled\", false);\n    }\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @returns {Promise<*>}\n   */\n  async decodeResponse(response) {\n    try {\n      return await response.clone().json();\n    } catch (error) {\n      return await response.clone().text();\n    }\n  }\n\n  redirectToNewPage(hash, responseData) {\n    if (typeof hash !== \"undefined\") {\n      window.location.href = responseData.redirect_url + hash;\n      window.location.reload();\n    } else {\n      window.location.href = responseData.redirect_url;\n    }\n  }\n\n  /**\n   * Scroll to the beginning of the content area, if the current viewport is near the bottom\n   */\n  scrollIntoView() {\n    const offsetTop = jQuery(this.settings.targetElement).offset().top;\n\n    if (jQuery(document).scrollTop() > offsetTop) {\n      jQuery(\"html, body\").animate(\n        {\n          scrollTop: offsetTop,\n        },\n        \"fast\"\n      );\n    }\n  }\n\n  replaceContent(hash, responseData) {\n    if (hash && jQuery(hash).length) {\n      jQuery(hash).html(jQuery(responseData).find(hash).html());\n    } else {\n      jQuery(this.settings.targetElement).html(responseData);\n    }\n  }\n\n  rebindHandlers(hash) {\n    const $bindingTarget = hash && jQuery(hash).length ? jQuery(hash) : jQuery(this.settings.targetElement);\n\n    $bindingTarget.find('[data-ajax-form=\"true\"]').formSubmit();\n\n    this.findSubmitButton();\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nimport { mergeSettings } from \"./utils\";\n\nexport class LoadingLayer {\n  #options = {\n    loadingText: \"\",\n  };\n\n  constructor(element, options) {\n    this.#options = mergeSettings(this.#options, options, jQuery(element).data() || {});\n  }\n\n  addLoadingLayer() {\n    if (!document.getElementById(\"loading-layer\")) {\n      const $body = jQuery(\"body\"),\n        html =\n          '<div id=\"loading-layer\" class=\"loading-layer\"><h1><span class=\"fas fa-spinner fa-spin\"></span> ' +\n          this.#options.loadingText +\n          \"</h1></div>\";\n\n      jQuery(html).appendTo($body);\n    }\n  }\n\n  showLoadingLayer() {\n    this.#toggleLoadingLayer(true);\n  }\n\n  hideLoadingLayer() {\n    this.#toggleLoadingLayer(false);\n  }\n\n  #toggleLoadingLayer(show) {\n    document.getElementById(\"loading-layer\")?.classList.toggle(\"loading-layer__active\", show);\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nexport class FormValidator {\n  #isFormValid = true;\n\n  preValidateForm(form) {\n    this.removeAllPreviousErrors();\n    this.checkFormElementsForErrors(form);\n    this.#focusTabWithFirstErrorMessage();\n    this.#scrollToFirstFormError();\n\n    return this.#isFormValid;\n  }\n\n  removeAllPreviousErrors() {\n    jQuery(\"form .form-group.has-error\").removeClass(\"has-error\").find(\".validation-failed\").remove();\n  }\n\n  checkFormElementsForErrors(form) {\n    for (const field of form.elements) {\n      if (field.nodeName !== \"INPUT\" && field.nodeName !== \"TEXTAREA\" && field.nodeName !== \"SELECT\") {\n        continue;\n      }\n\n      if (!field.checkValidity()) {\n        this.#addErrorDecorationToFormGroup(jQuery(field));\n        this.#addErrorMessageToFormField(jQuery(field), field.validationMessage);\n\n        this.#isFormValid = false;\n      }\n    }\n  }\n\n  #addErrorDecorationToFormGroup($elem) {\n    $elem.closest(\".form-group\").addClass(\"has-error\");\n  }\n\n  #removeErrorMessageFromFormField($elem) {\n    $elem.closest(\"div\").find(\".validation-failed\").remove();\n  }\n\n  #addErrorMessageToFormField($element, errorMessage) {\n    this.#removeErrorMessageFromFormField($element);\n\n    $element\n      .closest(\"div:not(.input-group):not(.btn-group)\")\n      .append(\n        '<small class=\"help-block validation-failed\"><i class=\"fas fa-exclamation-circle\"></i> ' +\n          errorMessage +\n          \"</small>\"\n      );\n  }\n\n  #focusTabWithFirstErrorMessage() {\n    if (jQuery(\".tabbable\").length > 0) {\n      let $elem = jQuery(\".tabbable .form-group.has-error:first\"),\n        tabId = $elem.closest(\".tab-pane\").prop(\"id\");\n      jQuery('.tabbable .nav-tabs a[href=\"#' + tabId + '\"]').tab(\"show\");\n\n      $elem.find(\":input\").focus();\n    }\n  }\n\n  get isFormValid() {\n    return this.#isFormValid;\n  }\n\n  setFormAsValid() {\n    this.#isFormValid = true;\n  }\n\n  handleFormErrorMessages($form, errorMessagesHtml) {\n    let $errorBox = jQuery(\"#error-box\");\n    const $modalBody = $form.find(\".modal-body\");\n\n    $errorBox.remove();\n\n    // Place the error messages inside the modal body for a better styling\n    $errorBox = jQuery(errorMessagesHtml);\n\n    $errorBox\n      .hide()\n      .prependTo($modalBody.length > 0 && $modalBody.is(\":visible\") ? $modalBody : $form)\n      .fadeIn();\n\n    this.#prettyPrintResponseErrorMessages($form, $errorBox);\n  }\n\n  #prettyPrintResponseErrorMessages($form, $errorBox) {\n    this.removeAllPreviousErrors();\n\n    // highlight all input fields where the validation has failed\n    $errorBox.find(\"li\").each((index, element) => {\n      let $this = jQuery(element),\n        errorClass = $this.data(\"error\");\n\n      if (errorClass.length > 0) {\n        let $elem =\n          $form.find(\"#\" + errorClass) || $form.find('[id|=\"' + errorClass + '\"]').filter(':not([id$=\"container\"])');\n\n        if ($elem.length > 0) {\n          this.#addErrorDecorationToFormGroup($elem);\n\n          // Move the error message to the responsible input field(s)\n          // and remove the list item from the error box container\n          if ($elem.length === 1) {\n            this.#addErrorMessageToFormField($elem, $this.html());\n            $this.remove();\n          }\n        }\n      }\n    });\n\n    // if all list items have been removed, remove the error box container too\n    if ($errorBox.find(\"li\").length === 0) {\n      $errorBox.remove();\n    }\n\n    this.#focusTabWithFirstErrorMessage();\n    this.#scrollToFirstFormError();\n  }\n\n  #scrollToFirstFormError() {\n    const $form = jQuery(this.element);\n    const $formErrors = $form.find(\".form-group.has-error\");\n\n    if ($form.closest(\".modal\").length > 0) {\n      return;\n    }\n\n    if (!$formErrors || $formErrors.length === 0) {\n      return;\n    }\n\n    if (this.#isElementInViewport($form.find(\".help-block.validation-failed\"))) {\n      return;\n    }\n\n    let offsetTop = $formErrors.offset().top;\n\n    if (this.settings.scrollOffsetElement) {\n      const $scrollOffsetElement = jQuery(this.settings.scrollOffsetElement);\n\n      if ($scrollOffsetElement && $scrollOffsetElement.length > 0) {\n        offsetTop -= $scrollOffsetElement.height();\n      }\n    }\n\n    jQuery(\"html, body\").animate(\n      {\n        scrollTop: offsetTop,\n      },\n      \"fast\"\n    );\n  }\n\n  #isElementInViewport(element) {\n    // special bonus for those using jQuery\n    if (typeof jQuery === \"function\" && element instanceof jQuery) {\n      element = element[0];\n    }\n\n    const $scrollOffsetElement = jQuery(this.settings.scrollOffsetElement);\n    let offsetTop = 0;\n\n    if ($scrollOffsetElement) {\n      offsetTop = $scrollOffsetElement.height();\n    }\n\n    const rect = element.getBoundingClientRect();\n\n    return (\n      rect.top >= offsetTop &&\n      rect.left >= 0 &&\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\nimport { AjaxForm } from \"../lib/ajax-form\";\nimport { LoadingLayer } from \"../lib/loading-layer\";\nimport { FormValidator } from \"../lib/form-validator\";\n\n(($) => {\n  const pluginName = \"formSubmit\";\n\n  $.fn[pluginName] = function (options) {\n    return this.each(function () {\n      if (!$.data(this, \"plugin_\" + pluginName)) {\n        $.data(\n          this,\n          \"plugin_\" + pluginName,\n          new AjaxForm(this, new LoadingLayer(this, options), new FormValidator(), options)\n        );\n      }\n    });\n  };\n\n  $('[data-ajax-form=\"true\"]').formSubmit();\n\n  $(document).on(\"draw.dt\", (e) => {\n    $(e.target).find('[data-ajax-form=\"true\"]').formSubmit();\n  });\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrLWZsYXRcXF9wcmVsdWRlIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvbGliL3V0aWxzLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvbGliL2FqYXgtZm9ybS5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9sb2FkaW5nLWxheWVyLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvbGliL2Zvcm0tdmFsaWRhdG9yLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvcGFydGlhbHMvYWpheC1mb3JtLmpzIl0sIm5hbWVzIjpbIl8kdXRpbHNfNCIsImRlZmF1bHRTZXR0aW5ncyIsImNvbnN0cnVjdG9yT3B0aW9ucyIsImRhdGFBdHRyaWJ1dGVPcHRpb25zIiwibWVyZ2VkU2V0dGluZ3MiLCJfb2JqZWN0U3ByZWFkIiwiX2kiLCJfT2JqZWN0JGVudHJpZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwibGVuZ3RoIiwiX09iamVjdCRlbnRyaWVzJF9pIiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsIlR5cGVFcnJvciIsImtleSIsImtleVN0cmlwcGVkIiwic3RyaW5nIiwicmVwbGFjZSIsImNoYXJBdCIsInRvTG93ZXJDYXNlIiwiX19fYXJyYXlMaWtlVG9BcnJheV8xIiwibGVuIiwiYXJyMiIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImFyZyIsImluZm8iLCJlcnJvciIsIlByb21pc2UiLCJ0aGVuIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJmbiIsInNlbGYiLCJ0aGlzIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsIl9jbGFzc1ByaXZhdGVGaWVsZEdldCIsInJlY2VpdmVyIiwicHJpdmF0ZU1hcCIsImdldCIsIl9jbGFzc1ByaXZhdGVGaWVsZFNldCIsInNldCIsIl9sb2FkaW5nTGF5ZXIiLCJXZWFrTWFwIiwiX2Zvcm1WYWxpZGF0b3IiLCJfZGVmYXVsdHMiLCJfaW5pdCIsIldlYWtTZXQiLCJBamF4Rm9ybSIsImVsZW1lbnQiLCJsb2FkaW5nTGF5ZXIiLCJmb3JtVmFsaWRhdG9yIiwib3B0aW9ucyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJhZGQiLCJ0YXJnZXRFbGVtZW50IiwibG9hZGluZ092ZXJsYXkiLCJjdXN0b21Gb3JtRGF0YSIsInNjcm9sbE9mZnNldEVsZW1lbnQiLCJtZXRob2QiLCJpc0Zvcm1WYWxpZCIsInNldHRpbmdzIiwibWVyZ2VTZXR0aW5ncyIsImpRdWVyeSIsImRhdGEiLCJwcml2YXRlU2V0IiwiaGFzIiwiX2luaXQyIiwicHJvdG9Qcm9wcyIsIl9kZWNvZGVSZXNwb25zZSIsIl9oYW5kbGVTdWNjZXNzZnVsUmVzcG9uc2UiLCJfaGFuZGxlUmVzcG9uc2VFcnJvciIsIl9wZXJmb3JtQWpheFJlcXVlc3QiLCJmaW5kIiwiY2xpY2siLCJjbG9zZXN0IiwicmVtb3ZlQXR0ciIsImF0dHIiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsIiRmb3JtIiwiaGFzaCIsIiRzdWJtaXRCdXR0b24iLCJfdGhpcyRzZXR0aW5ncyRtZXRob2QiLCJfdGhpcyRzZXR0aW5ncyRtZXRob2QyIiwicmVzcG9uc2UiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2Iiwic2hvd0xvYWRpbmdMYXllciIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJmZXRjaCIsInRvVXBwZXJDYXNlIiwiYm9keSIsInByZXBhcmVGb3JtRGF0YSIsImhlYWRlcnMiLCJYLVJlcXVlc3RlZC1XaXRoIiwic2VudCIsIm9rIiwiaGFuZGxlUmVzcG9uc2VFcnJvciIsImhhbmRsZVN1Y2Nlc3NmdWxSZXNwb25zZSIsInQwIiwiY2F0Y2giLCJjb25zb2xlIiwiaGlkZUxvYWRpbmdMYXllciIsImVuYWJsZVN1Ym1pdEJ1dHRvbiIsImZpbmlzaCIsInN0b3AiLCJpbml0aWFsRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiX2NhbGxlZTIiLCJyZXNwb25zZURhdGEiLCJfY29udGV4dDIiLCJjbG9uZSIsInRleHQiLCJzdGF0dXMiLCJoYW5kbGVGb3JtRXJyb3JNZXNzYWdlcyIsImRvY3VtZW50IiwidHJpZ2dlciIsIm9wZW4iLCJ3cml0ZSIsImNsb3NlIiwiX3giLCJfeDIiLCJfY2FsbGVlMyIsImNhbGxiYWNrIiwiX2NvbnRleHQzIiwiZGVjb2RlUmVzcG9uc2UiLCJ3aW5kb3ciLCJyZWRpcmVjdF91cmwiLCJyZWRpcmVjdFRvTmV3UGFnZSIsInNjcm9sbEludG9WaWV3IiwicmVwbGFjZUNvbnRlbnQiLCJyZWJpbmRIYW5kbGVycyIsImxvY2F0aW9uIiwiX3gzIiwiX3g0IiwiX3g1IiwiYWRkTG9hZGluZ0xheWVyIiwicHJvcCIsIl9jYWxsZWU0IiwiX2NvbnRleHQ0IiwianNvbiIsImFicnVwdCIsIl94NiIsImhyZWYiLCJyZWxvYWQiLCJvZmZzZXRUb3AiLCJvZmZzZXQiLCJ0b3AiLCJzY3JvbGxUb3AiLCJhbmltYXRlIiwiaHRtbCIsImZvcm1TdWJtaXQiLCJmaW5kU3VibWl0QnV0dG9uIiwiXyRhamF4Rm9ybV8xIiwiX3RoaXMiLCJ0aGF0Iiwibm9WYWxpZGF0ZSIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2V0Rm9ybUFzVmFsaWQiLCJwcmVWYWxpZGF0ZUZvcm0iLCJwZXJmb3JtQWpheFJlcXVlc3QiLCJyZW1vdmVBbGxQcmV2aW91c0Vycm9ycyIsImNoZWNrRm9ybUVsZW1lbnRzRm9yRXJyb3JzIiwiX19fZGVmaW5lUHJvcGVydGllc18zIiwiX2NsYXNzUHJpdmF0ZU1ldGhvZEdldCIsIl9fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0XzMiLCJfb3B0aW9ucyIsIl90b2dnbGVMb2FkaW5nTGF5ZXIiLCJMb2FkaW5nTGF5ZXIiLCJsb2FkaW5nVGV4dCIsImdldEVsZW1lbnRCeUlkIiwiJGJvZHkiLCJhcHBlbmRUbyIsIl90b2dnbGVMb2FkaW5nTGF5ZXIyIiwiXyRsb2FkaW5nTGF5ZXJfMyIsInNob3ciLCJfZG9jdW1lbnQkZ2V0RWxlbWVudEIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJGb3JtVmFsaWRhdG9yIiwiX2lzRWxlbWVudEluVmlld3BvcnQiLCJfc2Nyb2xsVG9GaXJzdEZvcm1FcnJvciIsIl9wcmV0dHlQcmludFJlc3BvbnNlRXJyb3JNZXNzYWdlcyIsIl9mb2N1c1RhYldpdGhGaXJzdEVycm9yTWVzc2FnZSIsIl9hZGRFcnJvck1lc3NhZ2VUb0Zvcm1GaWVsZCIsIl9yZW1vdmVFcnJvck1lc3NhZ2VGcm9tRm9ybUZpZWxkIiwiX2FkZEVycm9yRGVjb3JhdGlvblRvRm9ybUdyb3VwIiwiX2lzRm9ybVZhbGlkIiwiZm9ybSIsIl9fX2NsYXNzUHJpdmF0ZU1ldGhvZEdldF8yIiwiX2ZvY3VzVGFiV2l0aEZpcnN0RXJyb3JNZXNzYWdlMiIsIl9zY3JvbGxUb0ZpcnN0Rm9ybUVycm9yMiIsIl9fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0XzIiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJlbGVtZW50cyIsInMiLCJmaWVsZCIsIm5vZGVOYW1lIiwiY2hlY2tWYWxpZGl0eSIsIl9hZGRFcnJvckRlY29yYXRpb25Ub0Zvcm1Hcm91cDIiLCJfYWRkRXJyb3JNZXNzYWdlVG9Gb3JtRmllbGQyIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfX19jbGFzc1ByaXZhdGVGaWVsZFNldF8yIiwiZiIsImVycm9yTWVzc2FnZXNIdG1sIiwiJGVycm9yQm94IiwiJG1vZGFsQm9keSIsImhpZGUiLCJwcmVwZW5kVG8iLCJpcyIsImZhZGVJbiIsIl9wcmV0dHlQcmludFJlc3BvbnNlRXJyb3JNZXNzYWdlczIiLCJfX19kZWZpbmVQcm9wZXJ0aWVzXzIiLCJfJGZvcm1WYWxpZGF0b3JfMiIsIiQiLCIkZWxlbSIsImFkZENsYXNzIiwiX3JlbW92ZUVycm9yTWVzc2FnZUZyb21Gb3JtRmllbGQyIiwiJGVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJ0YWJJZCIsInRhYiIsImZvY3VzIiwiZWFjaCIsImluZGV4IiwiJHRoaXMiLCJlcnJvckNsYXNzIiwiZmlsdGVyIiwiJGZvcm1FcnJvcnMiLCJfaXNFbGVtZW50SW5WaWV3cG9ydDIiLCIkc2Nyb2xsT2Zmc2V0RWxlbWVudCIsImhlaWdodCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwiYm90dG9tIiwiaW5uZXJIZWlnaHQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJyaWdodCIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxJQUFBQSxFQUFBLHEyQkNJTyxTQUF1QkMsRUFBaUJDLEVBQW9CQyxHQUdqRSxJQUZBLElBQU1DLEVBQWNDLEVBQUFBLEVBQUEsR0FBUUosR0FBb0JDLEdBRWhESSxFQUFBLEVBQUFDLEVBQXlCQyxPQUFPQyxRQUFRTixHQUF4Q0csRUFBQUMsRUFBQUcsT0FBQUosSUFBK0QsQ0FBQSxJQUFBSyxHQUFBLEVBQUEsU0FBQUMsR0FBQSxHQUFBQyxNQUFBQyxRQUFBRixH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QUFBOUcsU0FBU3hCLEtBQU0sSUFBSTZKLEVBQUFOLGFBQWF2SixLQUFNNEIsR0FBVSxJQUFJNEssRUFBQXRDLGNBQWlCdEksUUFNakY2SyxFQUFFLDJCQUEyQnJFLGFBRTdCcUUsRUFBRXpHLFVBQVUwQyxHQUFHLFdBQVcsU0FBQ0MsR0FDekI4RCxFQUFFOUQsRUFBRXRJLFFBQVE2QyxLQUFLLDJCQUEyQmtGLGdCTDNCaEQiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIGJ5IHRoZSBBQ1AzIERldmVsb3BlcnMuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBhdCB0aGUgdG9wLWxldmVsIG1vZHVsZSBkaXJlY3RvcnkgZm9yIGxpY2Vuc2luZyBkZXRhaWxzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVNldHRpbmdzKGRlZmF1bHRTZXR0aW5ncywgY29uc3RydWN0b3JPcHRpb25zLCBkYXRhQXR0cmlidXRlT3B0aW9ucykge1xuICBjb25zdCBtZXJnZWRTZXR0aW5ncyA9IHsgLi4uZGVmYXVsdFNldHRpbmdzLCAuLi5jb25zdHJ1Y3Rvck9wdGlvbnMgfTtcblxuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YUF0dHJpYnV0ZU9wdGlvbnMpKSB7XG4gICAgY29uc3Qga2V5U3RyaXBwZWQgPSBsb3dlckNhc2VGaXJzdExldHRlcihrZXkucmVwbGFjZShcImFqYXhGb3JtXCIsIFwiXCIpKTtcblxuICAgIGlmIChrZXlTdHJpcHBlZC5sZW5ndGggPiAwICYmIHR5cGVvZiBtZXJnZWRTZXR0aW5nc1trZXlTdHJpcHBlZF0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG1lcmdlZFNldHRpbmdzW2tleVN0cmlwcGVkXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtZXJnZWRTZXR0aW5ncztcbn1cblxuZnVuY3Rpb24gbG93ZXJDYXNlRmlyc3RMZXR0ZXIoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbnNpbmcgZGV0YWlscy5cbiAqL1xuXG5pbXBvcnQgeyBtZXJnZVNldHRpbmdzIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEFqYXhGb3JtIHtcbiAgI2xvYWRpbmdMYXllcjtcbiAgI2Zvcm1WYWxpZGF0b3I7XG4gICNkZWZhdWx0cyA9IHtcbiAgICB0YXJnZXRFbGVtZW50OiBcIiNjb250ZW50XCIsXG4gICAgbG9hZGluZ092ZXJsYXk6IHRydWUsXG4gICAgY3VzdG9tRm9ybURhdGE6IG51bGwsXG4gICAgc2Nyb2xsT2Zmc2V0RWxlbWVudDogbnVsbCxcbiAgICBtZXRob2Q6IG51bGwsXG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtMb2FkaW5nTGF5ZXJ9IGxvYWRpbmdMYXllclxuICAgKiBAcGFyYW0ge0Zvcm1WYWxpZGF0b3J9IGZvcm1WYWxpZGF0b3JcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGxvYWRpbmdMYXllciwgZm9ybVZhbGlkYXRvciwgb3B0aW9ucykge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5pc0Zvcm1WYWxpZCA9IHRydWU7XG5cbiAgICB0aGlzLiNsb2FkaW5nTGF5ZXIgPSBsb2FkaW5nTGF5ZXI7XG4gICAgdGhpcy4jZm9ybVZhbGlkYXRvciA9IGZvcm1WYWxpZGF0b3I7XG5cbiAgICB0aGlzLnNldHRpbmdzID0gbWVyZ2VTZXR0aW5ncyh0aGlzLiNkZWZhdWx0cywgb3B0aW9ucywgalF1ZXJ5KGVsZW1lbnQpLmRhdGEoKSk7XG4gICAgdGhpcy4jaW5pdCgpO1xuICB9XG5cbiAgI2luaXQoKSB7XG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XG5cbiAgICB0aGlzLmZpbmRTdWJtaXRCdXR0b24oKTtcbiAgICB0aGlzLmFkZExvYWRpbmdMYXllcigpO1xuICAgIHRoaXMuZWxlbWVudC5ub1ZhbGlkYXRlID0gdHJ1ZTtcblxuICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpXG4gICAgICAub24oXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMuI2Zvcm1WYWxpZGF0b3Iuc2V0Rm9ybUFzVmFsaWQoKTtcblxuICAgICAgICBqUXVlcnkoZG9jdW1lbnQpLnRyaWdnZXIoXCJhY3AzLmFqYXhGcm9tLnN1Ym1pdC5iZWZvcmVcIiwgW3RoaXNdKTtcblxuICAgICAgICBpZiAodGhpcy4jZm9ybVZhbGlkYXRvci5pc0Zvcm1WYWxpZCAmJiB0aGlzLiNmb3JtVmFsaWRhdG9yLnByZVZhbGlkYXRlRm9ybSh0aGlzLmVsZW1lbnQpKSB7XG4gICAgICAgICAgdGhpcy5wZXJmb3JtQWpheFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChqUXVlcnkodGhpcykucHJvcChcInRhZ05hbWVcIikgPT09IFwiQVwiKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgdGhhdC5wZXJmb3JtQWpheFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5vbihcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLiNmb3JtVmFsaWRhdG9yLmlzRm9ybVZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMuI2Zvcm1WYWxpZGF0b3IucmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMoKTtcbiAgICAgICAgICB0aGlzLiNmb3JtVmFsaWRhdG9yLmNoZWNrRm9ybUVsZW1lbnRzRm9yRXJyb3JzKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgZmluZFN1Ym1pdEJ1dHRvbigpIHtcbiAgICBqUXVlcnkodGhpcy5lbGVtZW50KVxuICAgICAgLmZpbmQoXCI6c3VibWl0XCIpXG4gICAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBqUXVlcnkoXCI6c3VibWl0XCIsIGpRdWVyeSh0aGlzKS5jbG9zZXN0KFwiZm9ybVwiKSkucmVtb3ZlQXR0cihcImRhdGEtY2xpY2tlZFwiKTtcbiAgICAgICAgalF1ZXJ5KHRoaXMpLmF0dHIoXCJkYXRhLWNsaWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyBwZXJmb3JtQWpheFJlcXVlc3QoKSB7XG4gICAgY29uc3QgJGZvcm0gPSBqUXVlcnkodGhpcy5lbGVtZW50KTtcblxuICAgIGxldCBoYXNoLCAkc3VibWl0QnV0dG9uO1xuXG4gICAgaWYgKCRmb3JtLmF0dHIoXCJtZXRob2RcIikpIHtcbiAgICAgICRzdWJtaXRCdXR0b24gPSBqUXVlcnkoJzpzdWJtaXRbZGF0YS1jbGlja2VkPVwidHJ1ZVwiXScsICRmb3JtKTtcblxuICAgICAgaGFzaCA9ICRzdWJtaXRCdXR0b24uZGF0YShcImhhc2hDaGFuZ2VcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhc2ggPSAkZm9ybS5kYXRhKFwiaGFzaENoYW5nZVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLiNsb2FkaW5nTGF5ZXIuc2hvd0xvYWRpbmdMYXllcigpO1xuICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigkc3VibWl0QnV0dG9uKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCRmb3JtLmF0dHIoXCJhY3Rpb25cIikgfHwgJGZvcm0uYXR0cihcImhyZWZcIiksIHtcbiAgICAgICAgbWV0aG9kOiAkZm9ybS5hdHRyKFwibWV0aG9kXCIpXG4gICAgICAgICAgPyAkZm9ybS5hdHRyKFwibWV0aG9kXCIpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICA6IHRoaXMuc2V0dGluZ3MubWV0aG9kPy50b1VwcGVyQ2FzZSgpID8/IFwiR0VUXCIsXG4gICAgICAgIGJvZHk6IHRoaXMucHJlcGFyZUZvcm1EYXRhKCRmb3JtKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiOiBcIlhNTEh0dHBSZXF1ZXN0XCIsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVJlc3BvbnNlRXJyb3IocmVzcG9uc2UsICRmb3JtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlU3VjY2Vzc2Z1bFJlc3BvbnNlKHJlc3BvbnNlLCAkZm9ybSwgaGFzaCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLiNsb2FkaW5nTGF5ZXIuaGlkZUxvYWRpbmdMYXllcigpO1xuICAgICAgdGhpcy5lbmFibGVTdWJtaXRCdXR0b24oJHN1Ym1pdEJ1dHRvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZm9ybVxuICAgKiBAcmV0dXJucyB7Rm9ybURhdGF9XG4gICAqL1xuICBwcmVwYXJlRm9ybURhdGEoJGZvcm0pIHtcbiAgICBjb25zdCBpbml0aWFsRGF0YSA9IHRoaXMuc2V0dGluZ3MuY3VzdG9tRm9ybURhdGEgfHwge307XG4gICAgbGV0IGRhdGE7XG5cbiAgICBpZiAoJGZvcm0uYXR0cihcIm1ldGhvZFwiKSkge1xuICAgICAgY29uc3QgJHN1Ym1pdEJ1dHRvbiA9IGpRdWVyeSgnOnN1Ym1pdFtkYXRhLWNsaWNrZWQ9XCJ0cnVlXCJdJywgJGZvcm0pO1xuXG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKCRmb3JtWzBdKTtcblxuICAgICAgaWYgKCRzdWJtaXRCdXR0b24ubGVuZ3RoKSB7XG4gICAgICAgIGRhdGEuYXBwZW5kKCRzdWJtaXRCdXR0b24uYXR0cihcIm5hbWVcIiksIFwiMVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIH1cblxuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhpbml0aWFsRGF0YSkpIHtcbiAgICAgIGRhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7UmVzcG9uc2V9IHJlc3BvbnNlXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZm9ybVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jIGhhbmRsZVJlc3BvbnNlRXJyb3IocmVzcG9uc2UsICRmb3JtKSB7XG4gICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS50ZXh0KCk7XG5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuI2Zvcm1WYWxpZGF0b3IuaGFuZGxlRm9ybUVycm9yTWVzc2FnZXMoJGZvcm0sIHJlc3BvbnNlRGF0YSk7XG5cbiAgICAgIGpRdWVyeShkb2N1bWVudCkudHJpZ2dlcihcImFjcDMuYWpheEZyb20uc3VibWl0LmZhaWxcIiwgW3RoaXNdKTtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBkb2N1bWVudC5vcGVuKCk7XG4gICAgICBkb2N1bWVudC53cml0ZShyZXNwb25zZURhdGEpO1xuICAgICAgZG9jdW1lbnQuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRmb3JtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgaGFuZGxlU3VjY2Vzc2Z1bFJlc3BvbnNlKHJlc3BvbnNlLCAkZm9ybSwgaGFzaCkge1xuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHRoaXMuZGVjb2RlUmVzcG9uc2UocmVzcG9uc2UpO1xuXG4gICAgbGV0IGNhbGxiYWNrID0gJGZvcm0uZGF0YShcImFqYXgtZm9ybS1jb21wbGV0ZS1jYWxsYmFja1wiKTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93W2NhbGxiYWNrXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB3aW5kb3dbY2FsbGJhY2tdKHJlc3BvbnNlRGF0YSk7XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEucmVkaXJlY3RfdXJsKSB7XG4gICAgICB0aGlzLnJlZGlyZWN0VG9OZXdQYWdlKGhhc2gsIHJlc3BvbnNlRGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgIHRoaXMucmVwbGFjZUNvbnRlbnQoaGFzaCwgcmVzcG9uc2VEYXRhKTtcbiAgICAgIHRoaXMucmViaW5kSGFuZGxlcnMoaGFzaCk7XG5cbiAgICAgIGpRdWVyeShkb2N1bWVudCkudHJpZ2dlcihcImFjcDMuYWpheEZyb20uY29tcGxldGVcIik7XG5cbiAgICAgIGlmICh0eXBlb2YgaGFzaCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGhhc2g7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYWRkTG9hZGluZ0xheWVyKCkge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmxvYWRpbmdPdmVybGF5ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuI2xvYWRpbmdMYXllci5hZGRMb2FkaW5nTGF5ZXIoKTtcbiAgfVxuXG4gIGRpc2FibGVTdWJtaXRCdXR0b24oJHN1Ym1pdEJ1dHRvbikge1xuICAgIGlmICh0eXBlb2YgJHN1Ym1pdEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgJHN1Ym1pdEJ1dHRvbi5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZW5hYmxlU3VibWl0QnV0dG9uKCRzdWJtaXRCdXR0b24pIHtcbiAgICBpZiAodHlwZW9mICRzdWJtaXRCdXR0b24gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICRzdWJtaXRCdXR0b24ucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHJldHVybnMge1Byb21pc2U8Kj59XG4gICAqL1xuICBhc3luYyBkZWNvZGVSZXNwb25zZShyZXNwb25zZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5jbG9uZSgpLnRleHQoKTtcbiAgICB9XG4gIH1cblxuICByZWRpcmVjdFRvTmV3UGFnZShoYXNoLCByZXNwb25zZURhdGEpIHtcbiAgICBpZiAodHlwZW9mIGhhc2ggIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzcG9uc2VEYXRhLnJlZGlyZWN0X3VybCArIGhhc2g7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzcG9uc2VEYXRhLnJlZGlyZWN0X3VybDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGNvbnRlbnQgYXJlYSwgaWYgdGhlIGN1cnJlbnQgdmlld3BvcnQgaXMgbmVhciB0aGUgYm90dG9tXG4gICAqL1xuICBzY3JvbGxJbnRvVmlldygpIHtcbiAgICBjb25zdCBvZmZzZXRUb3AgPSBqUXVlcnkodGhpcy5zZXR0aW5ncy50YXJnZXRFbGVtZW50KS5vZmZzZXQoKS50b3A7XG5cbiAgICBpZiAoalF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IG9mZnNldFRvcCkge1xuICAgICAgalF1ZXJ5KFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxuICAgICAgICB7XG4gICAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXRUb3AsXG4gICAgICAgIH0sXG4gICAgICAgIFwiZmFzdFwiXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlcGxhY2VDb250ZW50KGhhc2gsIHJlc3BvbnNlRGF0YSkge1xuICAgIGlmIChoYXNoICYmIGpRdWVyeShoYXNoKS5sZW5ndGgpIHtcbiAgICAgIGpRdWVyeShoYXNoKS5odG1sKGpRdWVyeShyZXNwb25zZURhdGEpLmZpbmQoaGFzaCkuaHRtbCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgalF1ZXJ5KHRoaXMuc2V0dGluZ3MudGFyZ2V0RWxlbWVudCkuaHRtbChyZXNwb25zZURhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHJlYmluZEhhbmRsZXJzKGhhc2gpIHtcbiAgICBjb25zdCAkYmluZGluZ1RhcmdldCA9IGhhc2ggJiYgalF1ZXJ5KGhhc2gpLmxlbmd0aCA/IGpRdWVyeShoYXNoKSA6IGpRdWVyeSh0aGlzLnNldHRpbmdzLnRhcmdldEVsZW1lbnQpO1xuXG4gICAgJGJpbmRpbmdUYXJnZXQuZmluZCgnW2RhdGEtYWpheC1mb3JtPVwidHJ1ZVwiXScpLmZvcm1TdWJtaXQoKTtcblxuICAgIHRoaXMuZmluZFN1Ym1pdEJ1dHRvbigpO1xuICB9XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbnNpbmcgZGV0YWlscy5cbiAqL1xuXG5pbXBvcnQgeyBtZXJnZVNldHRpbmdzIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIExvYWRpbmdMYXllciB7XG4gICNvcHRpb25zID0ge1xuICAgIGxvYWRpbmdUZXh0OiBcIlwiLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiNvcHRpb25zID0gbWVyZ2VTZXR0aW5ncyh0aGlzLiNvcHRpb25zLCBvcHRpb25zLCBqUXVlcnkoZWxlbWVudCkuZGF0YSgpIHx8IHt9KTtcbiAgfVxuXG4gIGFkZExvYWRpbmdMYXllcigpIHtcbiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZy1sYXllclwiKSkge1xuICAgICAgY29uc3QgJGJvZHkgPSBqUXVlcnkoXCJib2R5XCIpLFxuICAgICAgICBodG1sID1cbiAgICAgICAgICAnPGRpdiBpZD1cImxvYWRpbmctbGF5ZXJcIiBjbGFzcz1cImxvYWRpbmctbGF5ZXJcIj48aDE+PHNwYW4gY2xhc3M9XCJmYXMgZmEtc3Bpbm5lciBmYS1zcGluXCI+PC9zcGFuPiAnICtcbiAgICAgICAgICB0aGlzLiNvcHRpb25zLmxvYWRpbmdUZXh0ICtcbiAgICAgICAgICBcIjwvaDE+PC9kaXY+XCI7XG5cbiAgICAgIGpRdWVyeShodG1sKS5hcHBlbmRUbygkYm9keSk7XG4gICAgfVxuICB9XG5cbiAgc2hvd0xvYWRpbmdMYXllcigpIHtcbiAgICB0aGlzLiN0b2dnbGVMb2FkaW5nTGF5ZXIodHJ1ZSk7XG4gIH1cblxuICBoaWRlTG9hZGluZ0xheWVyKCkge1xuICAgIHRoaXMuI3RvZ2dsZUxvYWRpbmdMYXllcihmYWxzZSk7XG4gIH1cblxuICAjdG9nZ2xlTG9hZGluZ0xheWVyKHNob3cpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmctbGF5ZXJcIik/LmNsYXNzTGlzdC50b2dnbGUoXCJsb2FkaW5nLWxheWVyX19hY3RpdmVcIiwgc2hvdyk7XG4gIH1cbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIGJ5IHRoZSBBQ1AzIERldmVsb3BlcnMuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBhdCB0aGUgdG9wLWxldmVsIG1vZHVsZSBkaXJlY3RvcnkgZm9yIGxpY2Vuc2luZyBkZXRhaWxzLlxuICovXG5cbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgI2lzRm9ybVZhbGlkID0gdHJ1ZTtcblxuICBwcmVWYWxpZGF0ZUZvcm0oZm9ybSkge1xuICAgIHRoaXMucmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMoKTtcbiAgICB0aGlzLmNoZWNrRm9ybUVsZW1lbnRzRm9yRXJyb3JzKGZvcm0pO1xuICAgIHRoaXMuI2ZvY3VzVGFiV2l0aEZpcnN0RXJyb3JNZXNzYWdlKCk7XG4gICAgdGhpcy4jc2Nyb2xsVG9GaXJzdEZvcm1FcnJvcigpO1xuXG4gICAgcmV0dXJuIHRoaXMuI2lzRm9ybVZhbGlkO1xuICB9XG5cbiAgcmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMoKSB7XG4gICAgalF1ZXJ5KFwiZm9ybSAuZm9ybS1ncm91cC5oYXMtZXJyb3JcIikucmVtb3ZlQ2xhc3MoXCJoYXMtZXJyb3JcIikuZmluZChcIi52YWxpZGF0aW9uLWZhaWxlZFwiKS5yZW1vdmUoKTtcbiAgfVxuXG4gIGNoZWNrRm9ybUVsZW1lbnRzRm9yRXJyb3JzKGZvcm0pIHtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZvcm0uZWxlbWVudHMpIHtcbiAgICAgIGlmIChmaWVsZC5ub2RlTmFtZSAhPT0gXCJJTlBVVFwiICYmIGZpZWxkLm5vZGVOYW1lICE9PSBcIlRFWFRBUkVBXCIgJiYgZmllbGQubm9kZU5hbWUgIT09IFwiU0VMRUNUXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghZmllbGQuY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICAgIHRoaXMuI2FkZEVycm9yRGVjb3JhdGlvblRvRm9ybUdyb3VwKGpRdWVyeShmaWVsZCkpO1xuICAgICAgICB0aGlzLiNhZGRFcnJvck1lc3NhZ2VUb0Zvcm1GaWVsZChqUXVlcnkoZmllbGQpLCBmaWVsZC52YWxpZGF0aW9uTWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy4jaXNGb3JtVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAjYWRkRXJyb3JEZWNvcmF0aW9uVG9Gb3JtR3JvdXAoJGVsZW0pIHtcbiAgICAkZWxlbS5jbG9zZXN0KFwiLmZvcm0tZ3JvdXBcIikuYWRkQ2xhc3MoXCJoYXMtZXJyb3JcIik7XG4gIH1cblxuICAjcmVtb3ZlRXJyb3JNZXNzYWdlRnJvbUZvcm1GaWVsZCgkZWxlbSkge1xuICAgICRlbGVtLmNsb3Nlc3QoXCJkaXZcIikuZmluZChcIi52YWxpZGF0aW9uLWZhaWxlZFwiKS5yZW1vdmUoKTtcbiAgfVxuXG4gICNhZGRFcnJvck1lc3NhZ2VUb0Zvcm1GaWVsZCgkZWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgdGhpcy4jcmVtb3ZlRXJyb3JNZXNzYWdlRnJvbUZvcm1GaWVsZCgkZWxlbWVudCk7XG5cbiAgICAkZWxlbWVudFxuICAgICAgLmNsb3Nlc3QoXCJkaXY6bm90KC5pbnB1dC1ncm91cCk6bm90KC5idG4tZ3JvdXApXCIpXG4gICAgICAuYXBwZW5kKFxuICAgICAgICAnPHNtYWxsIGNsYXNzPVwiaGVscC1ibG9jayB2YWxpZGF0aW9uLWZhaWxlZFwiPjxpIGNsYXNzPVwiZmFzIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZVwiPjwvaT4gJyArXG4gICAgICAgICAgZXJyb3JNZXNzYWdlICtcbiAgICAgICAgICBcIjwvc21hbGw+XCJcbiAgICAgICk7XG4gIH1cblxuICAjZm9jdXNUYWJXaXRoRmlyc3RFcnJvck1lc3NhZ2UoKSB7XG4gICAgaWYgKGpRdWVyeShcIi50YWJiYWJsZVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgJGVsZW0gPSBqUXVlcnkoXCIudGFiYmFibGUgLmZvcm0tZ3JvdXAuaGFzLWVycm9yOmZpcnN0XCIpLFxuICAgICAgICB0YWJJZCA9ICRlbGVtLmNsb3Nlc3QoXCIudGFiLXBhbmVcIikucHJvcChcImlkXCIpO1xuICAgICAgalF1ZXJ5KCcudGFiYmFibGUgLm5hdi10YWJzIGFbaHJlZj1cIiMnICsgdGFiSWQgKyAnXCJdJykudGFiKFwic2hvd1wiKTtcblxuICAgICAgJGVsZW0uZmluZChcIjppbnB1dFwiKS5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpc0Zvcm1WYWxpZCgpIHtcbiAgICByZXR1cm4gdGhpcy4jaXNGb3JtVmFsaWQ7XG4gIH1cblxuICBzZXRGb3JtQXNWYWxpZCgpIHtcbiAgICB0aGlzLiNpc0Zvcm1WYWxpZCA9IHRydWU7XG4gIH1cblxuICBoYW5kbGVGb3JtRXJyb3JNZXNzYWdlcygkZm9ybSwgZXJyb3JNZXNzYWdlc0h0bWwpIHtcbiAgICBsZXQgJGVycm9yQm94ID0galF1ZXJ5KFwiI2Vycm9yLWJveFwiKTtcbiAgICBjb25zdCAkbW9kYWxCb2R5ID0gJGZvcm0uZmluZChcIi5tb2RhbC1ib2R5XCIpO1xuXG4gICAgJGVycm9yQm94LnJlbW92ZSgpO1xuXG4gICAgLy8gUGxhY2UgdGhlIGVycm9yIG1lc3NhZ2VzIGluc2lkZSB0aGUgbW9kYWwgYm9keSBmb3IgYSBiZXR0ZXIgc3R5bGluZ1xuICAgICRlcnJvckJveCA9IGpRdWVyeShlcnJvck1lc3NhZ2VzSHRtbCk7XG5cbiAgICAkZXJyb3JCb3hcbiAgICAgIC5oaWRlKClcbiAgICAgIC5wcmVwZW5kVG8oJG1vZGFsQm9keS5sZW5ndGggPiAwICYmICRtb2RhbEJvZHkuaXMoXCI6dmlzaWJsZVwiKSA/ICRtb2RhbEJvZHkgOiAkZm9ybSlcbiAgICAgIC5mYWRlSW4oKTtcblxuICAgIHRoaXMuI3ByZXR0eVByaW50UmVzcG9uc2VFcnJvck1lc3NhZ2VzKCRmb3JtLCAkZXJyb3JCb3gpO1xuICB9XG5cbiAgI3ByZXR0eVByaW50UmVzcG9uc2VFcnJvck1lc3NhZ2VzKCRmb3JtLCAkZXJyb3JCb3gpIHtcbiAgICB0aGlzLnJlbW92ZUFsbFByZXZpb3VzRXJyb3JzKCk7XG5cbiAgICAvLyBoaWdobGlnaHQgYWxsIGlucHV0IGZpZWxkcyB3aGVyZSB0aGUgdmFsaWRhdGlvbiBoYXMgZmFpbGVkXG4gICAgJGVycm9yQm94LmZpbmQoXCJsaVwiKS5lYWNoKChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgbGV0ICR0aGlzID0galF1ZXJ5KGVsZW1lbnQpLFxuICAgICAgICBlcnJvckNsYXNzID0gJHRoaXMuZGF0YShcImVycm9yXCIpO1xuXG4gICAgICBpZiAoZXJyb3JDbGFzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCAkZWxlbSA9XG4gICAgICAgICAgJGZvcm0uZmluZChcIiNcIiArIGVycm9yQ2xhc3MpIHx8ICRmb3JtLmZpbmQoJ1tpZHw9XCInICsgZXJyb3JDbGFzcyArICdcIl0nKS5maWx0ZXIoJzpub3QoW2lkJD1cImNvbnRhaW5lclwiXSknKTtcblxuICAgICAgICBpZiAoJGVsZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuI2FkZEVycm9yRGVjb3JhdGlvblRvRm9ybUdyb3VwKCRlbGVtKTtcblxuICAgICAgICAgIC8vIE1vdmUgdGhlIGVycm9yIG1lc3NhZ2UgdG8gdGhlIHJlc3BvbnNpYmxlIGlucHV0IGZpZWxkKHMpXG4gICAgICAgICAgLy8gYW5kIHJlbW92ZSB0aGUgbGlzdCBpdGVtIGZyb20gdGhlIGVycm9yIGJveCBjb250YWluZXJcbiAgICAgICAgICBpZiAoJGVsZW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLiNhZGRFcnJvck1lc3NhZ2VUb0Zvcm1GaWVsZCgkZWxlbSwgJHRoaXMuaHRtbCgpKTtcbiAgICAgICAgICAgICR0aGlzLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gaWYgYWxsIGxpc3QgaXRlbXMgaGF2ZSBiZWVuIHJlbW92ZWQsIHJlbW92ZSB0aGUgZXJyb3IgYm94IGNvbnRhaW5lciB0b29cbiAgICBpZiAoJGVycm9yQm94LmZpbmQoXCJsaVwiKS5sZW5ndGggPT09IDApIHtcbiAgICAgICRlcnJvckJveC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLiNmb2N1c1RhYldpdGhGaXJzdEVycm9yTWVzc2FnZSgpO1xuICAgIHRoaXMuI3Njcm9sbFRvRmlyc3RGb3JtRXJyb3IoKTtcbiAgfVxuXG4gICNzY3JvbGxUb0ZpcnN0Rm9ybUVycm9yKCkge1xuICAgIGNvbnN0ICRmb3JtID0galF1ZXJ5KHRoaXMuZWxlbWVudCk7XG4gICAgY29uc3QgJGZvcm1FcnJvcnMgPSAkZm9ybS5maW5kKFwiLmZvcm0tZ3JvdXAuaGFzLWVycm9yXCIpO1xuXG4gICAgaWYgKCRmb3JtLmNsb3Nlc3QoXCIubW9kYWxcIikubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghJGZvcm1FcnJvcnMgfHwgJGZvcm1FcnJvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuI2lzRWxlbWVudEluVmlld3BvcnQoJGZvcm0uZmluZChcIi5oZWxwLWJsb2NrLnZhbGlkYXRpb24tZmFpbGVkXCIpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBvZmZzZXRUb3AgPSAkZm9ybUVycm9ycy5vZmZzZXQoKS50b3A7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5zY3JvbGxPZmZzZXRFbGVtZW50KSB7XG4gICAgICBjb25zdCAkc2Nyb2xsT2Zmc2V0RWxlbWVudCA9IGpRdWVyeSh0aGlzLnNldHRpbmdzLnNjcm9sbE9mZnNldEVsZW1lbnQpO1xuXG4gICAgICBpZiAoJHNjcm9sbE9mZnNldEVsZW1lbnQgJiYgJHNjcm9sbE9mZnNldEVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICBvZmZzZXRUb3AgLT0gJHNjcm9sbE9mZnNldEVsZW1lbnQuaGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgalF1ZXJ5KFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxuICAgICAge1xuICAgICAgICBzY3JvbGxUb3A6IG9mZnNldFRvcCxcbiAgICAgIH0sXG4gICAgICBcImZhc3RcIlxuICAgICk7XG4gIH1cblxuICAjaXNFbGVtZW50SW5WaWV3cG9ydChlbGVtZW50KSB7XG4gICAgLy8gc3BlY2lhbCBib251cyBmb3IgdGhvc2UgdXNpbmcgalF1ZXJ5XG4gICAgaWYgKHR5cGVvZiBqUXVlcnkgPT09IFwiZnVuY3Rpb25cIiAmJiBlbGVtZW50IGluc3RhbmNlb2YgalF1ZXJ5KSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICB9XG5cbiAgICBjb25zdCAkc2Nyb2xsT2Zmc2V0RWxlbWVudCA9IGpRdWVyeSh0aGlzLnNldHRpbmdzLnNjcm9sbE9mZnNldEVsZW1lbnQpO1xuICAgIGxldCBvZmZzZXRUb3AgPSAwO1xuXG4gICAgaWYgKCRzY3JvbGxPZmZzZXRFbGVtZW50KSB7XG4gICAgICBvZmZzZXRUb3AgPSAkc2Nyb2xsT2Zmc2V0RWxlbWVudC5oZWlnaHQoKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiAoXG4gICAgICByZWN0LnRvcCA+PSBvZmZzZXRUb3AgJiZcbiAgICAgIHJlY3QubGVmdCA+PSAwICYmXG4gICAgICByZWN0LmJvdHRvbSA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICYmXG4gICAgICByZWN0LnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXG4gICAgKTtcbiAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5jaW5nIGRldGFpbHMuXG4gKi9cblxuaW1wb3J0IHsgQWpheEZvcm0gfSBmcm9tIFwiLi4vbGliL2FqYXgtZm9ybVwiO1xuaW1wb3J0IHsgTG9hZGluZ0xheWVyIH0gZnJvbSBcIi4uL2xpYi9sb2FkaW5nLWxheWVyXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2xpYi9mb3JtLXZhbGlkYXRvclwiO1xuXG4oKCQpID0+IHtcbiAgY29uc3QgcGx1Z2luTmFtZSA9IFwiZm9ybVN1Ym1pdFwiO1xuXG4gICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCEkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSkge1xuICAgICAgICAkLmRhdGEoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsXG4gICAgICAgICAgbmV3IEFqYXhGb3JtKHRoaXMsIG5ldyBMb2FkaW5nTGF5ZXIodGhpcywgb3B0aW9ucyksIG5ldyBGb3JtVmFsaWRhdG9yKCksIG9wdGlvbnMpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgJCgnW2RhdGEtYWpheC1mb3JtPVwidHJ1ZVwiXScpLmZvcm1TdWJtaXQoKTtcblxuICAkKGRvY3VtZW50KS5vbihcImRyYXcuZHRcIiwgKGUpID0+IHtcbiAgICAkKGUudGFyZ2V0KS5maW5kKCdbZGF0YS1hamF4LWZvcm09XCJ0cnVlXCJdJykuZm9ybVN1Ym1pdCgpO1xuICB9KTtcbn0pKGpRdWVyeSk7XG4iXX0=","file":"ajax-form.min.js"}