{"version":3,"sources":["ACP3/Modules/ACP3/System/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/utils.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/ajax-form.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/loading-layer.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/form-validator.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ajax-form.js"],"names":["_$utils_4","defaultSettings","constructorOptions","dataAttributeOptions","mergedSettings","key","value","Object","entries","keyStripped","string","replace","charAt","toLowerCase","slice","length","JSON","parse","_unused","_classPrivateFieldLooseBase","receiver","privateKey","prototype","hasOwnProperty","call","TypeError","id","_classPrivateFieldLooseKey","name","_element","_loadingLayer","_formValidator","_defaults","_settings","_init","_findSubmitButton","_prepareFormData","_handleResponseError","_handleSuccessfulResponse","_addLoadingLayer","_disableSubmitButton","_enableSubmitButton","_decodeResponse","_redirectToNewPage","_scrollIntoView","_replaceContent","_init2","this","nodeName","addEventListener","async","performAjaxRequest","noValidate","e","preventDefault","setFormAsValid","document","dispatchEvent","CustomEvent","detail","isFormValid","preValidateForm","checkFormElementsForErrors","_findSubmitButton2","querySelectorAll","forEach","submitElem","elem","dataset","clicked","_prepareFormData2","submitButton","form","initialData","customFormData","data","getAttribute","FormData","append","_handleResponseError2","response","responseData","clone","text","status","handleFormErrorMessages","open","write","close","_handleSuccessfulResponse2","hash","window","completeCallback","redirect_url","location","_addLoadingLayer2","loadingOverlay","addLoadingLayer","_disableSubmitButton2","disabled","_enableSubmitButton2","_decodeResponse2","json","error","_redirectToNewPage2","href","reload","_scrollIntoView2","setTimeout","targetElement","querySelector","concat","scrollTo","top","getBoundingClientRect","y","behavior","offsetTop","scrollTop","_replaceContent2","doc","DOMParser","parseFromString","innerHTML","_$ajaxForm_1","AjaxForm","[object Object]","element","loadingLayer","formValidator","options","defineProperty","writable","method","mergeSettings","_submitButton","hashChange","showLoadingLayer","_ref","_form$getAttribute$to","_form$getAttribute","_classPrivateFieldLoo","toUpperCase","fetch","body","headers","X-Requested-With","ok","console","hideLoadingLayer","___classPrivateFieldLooseBase_3","__id_3","___classPrivateFieldLooseKey_3","_options","_toggleLoadingLayer","_toggleLoadingLayer2","show","_document$getElementB","getElementById","classList","toggle","_$loadingLayer_3","LoadingLayer","loadingText","loadingLayerHtml","svgIcons","loadingLayerIcon","insertAdjacentHTML","___classPrivateFieldLooseBase_2","__id_2","___classPrivateFieldLooseKey_2","$","_isFormValid","___defaults_2","___settings_2","_formElement","_removeAllPreviousErrors","_removeErrorMessageFromFormField","_addErrorMessageToFormField","_focusTabWithFirstErrorMessage","_prettyPrintResponseErrorMessages","_scrollToFirstFormError","_isElementInViewport","_removeAllPreviousErrors2","invalidFormField","remove","_removeErrorMessageFromFormField2","formField","_formField$closest","_formField$closest$qu","closest","_addErrorMessageToFormField2","errorMessage","add","_focusTabWithFirstErrorMessage2","firstElemWithError","tabId","click","focus","_prettyPrintResponseErrorMessages2","errorBox","errorMessageLine","errorClass","_scrollToFirstFormError2","formErrors","item","scrollOffsetElement","clientHeight","_isElementInViewport2","rect","left","bottom","innerHeight","documentElement","right","innerWidth","clientWidth","_$formValidator_2","FormValidator","formElement","field","elements","checkValidity","validationMessage","errorMessagesHtml","modalBody","jQuery","fn","formSubmit","each","on","target","find"],"mappings":"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","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nexport function mergeSettings(defaultSettings, constructorOptions, dataAttributeOptions) {\n  const mergedSettings = { ...defaultSettings, ...constructorOptions };\n\n  if (!dataAttributeOptions) {\n    return mergedSettings;\n  }\n\n  for (let [key, value] of Object.entries(dataAttributeOptions)) {\n    const keyStripped = lowerCaseFirstLetter(key.replace(\"ajaxForm\", \"\"));\n\n    if (keyStripped.length > 0 && typeof mergedSettings[keyStripped] !== \"undefined\") {\n      try {\n        mergedSettings[keyStripped] = JSON.parse(value);\n      } catch {\n        mergedSettings[keyStripped] = value;\n      }\n    }\n  }\n\n  return mergedSettings;\n}\n\nfunction lowerCaseFirstLetter(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nimport { mergeSettings } from \"./utils\";\n\nexport class AjaxForm {\n  #element;\n  #loadingLayer;\n  #formValidator;\n  #defaults = {\n    completeCallback: null,\n    targetElement: \"#content\",\n    loadingOverlay: true,\n    customFormData: null,\n    method: null,\n  };\n  #settings;\n\n  /**\n   *\n   * @param {HTMLElement} element\n   * @param {LoadingLayer} loadingLayer\n   * @param {FormValidator} formValidator\n   * @param {object} options\n   */\n  constructor(element, loadingLayer, formValidator, options = {}) {\n    this.#element = element;\n    this.isFormValid = true;\n\n    this.#loadingLayer = loadingLayer;\n    this.#formValidator = formValidator;\n\n    this.#settings = mergeSettings(this.#defaults, options, element.dataset);\n    this.#init();\n  }\n\n  #init() {\n    this.#findSubmitButton();\n    this.#addLoadingLayer();\n\n    if (this.#element.nodeName === \"A\") {\n      this.#element.addEventListener(\"click\", async () => {\n        await this.performAjaxRequest();\n      });\n    } else {\n      this.#element.noValidate = true;\n\n      this.#element.addEventListener(\"submit\", async (e) => {\n        e.preventDefault();\n\n        this.#formValidator.setFormAsValid();\n\n        document.dispatchEvent(new CustomEvent(\"acp3.ajaxFrom.submit.before\", { detail: this }));\n\n        if (this.#formValidator.isFormValid && this.#formValidator.preValidateForm()) {\n          await this.performAjaxRequest();\n        }\n      });\n\n      this.#element.addEventListener(\"change\", () => {\n        if (this.#formValidator.isFormValid === false) {\n          this.#formValidator.checkFormElementsForErrors();\n        }\n      });\n    }\n  }\n\n  #findSubmitButton() {\n    this.#element.querySelectorAll(\"[type=submit]\").forEach((submitElem) => {\n      submitElem.addEventListener(\"click\", () => {\n        this.#element.querySelectorAll(\"[type=submit]\").forEach((elem) => {\n          delete elem.dataset[\"clicked\"];\n        });\n        submitElem.dataset.clicked = \"true\";\n      });\n    });\n  }\n\n  async performAjaxRequest() {\n    const form = this.#element;\n\n    let hash, submitButton;\n\n    if (this.#element.getAttribute(\"method\")) {\n      submitButton = this.#element.querySelector('[type=\"submit\"][data-clicked=\"true\"]');\n\n      hash = submitButton?.dataset.hashChange;\n    } else {\n      hash = form.dataset.hashChange;\n    }\n\n    this.#loadingLayer.showLoadingLayer();\n    this.#disableSubmitButton(submitButton);\n\n    try {\n      const method = form.getAttribute(\"method\")?.toUpperCase() ?? this.#settings.method?.toUpperCase() ?? \"GET\";\n\n      const response = await fetch(form.getAttribute(\"action\") || form.getAttribute(\"href\"), {\n        method: method,\n        body: method !== \"GET\" ? this.#prepareFormData(submitButton) : null,\n        headers: {\n          \"X-Requested-With\": \"XMLHttpRequest\",\n        },\n      });\n\n      if (!response.ok) {\n        await this.#handleResponseError(response);\n      } else {\n        await this.#handleSuccessfulResponse(response, hash);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.#loadingLayer.hideLoadingLayer();\n      this.#enableSubmitButton(submitButton);\n    }\n  }\n\n  /**\n   *\n   * @returns {FormData}\n   */\n  #prepareFormData(submitButton) {\n    const form = this.#element;\n\n    const initialData = this.#settings.customFormData || {};\n    let data;\n\n    if (form.getAttribute(\"method\")) {\n      data = new FormData(form);\n\n      if (submitButton) {\n        data.append(submitButton.getAttribute(\"name\"), \"1\");\n      }\n    } else {\n      data = new FormData();\n    }\n\n    for (let [key, value] of Object.entries(initialData)) {\n      data.append(key, value);\n    }\n\n    return data;\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @returns {Promise<void>}\n   */\n  async #handleResponseError(response) {\n    const responseData = await response.clone().text();\n\n    if (response.status === 400) {\n      this.#formValidator.handleFormErrorMessages(this.#element, responseData);\n\n      document.dispatchEvent(new CustomEvent(\"acp3.ajaxFrom.submit.fail\", { detail: this }));\n    } else if (responseData.length > 0) {\n      document.open();\n      document.write(responseData);\n      document.close();\n    }\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @param {string} hash\n   * @returns {Promise<void>}\n   */\n  async #handleSuccessfulResponse(response, hash) {\n    const responseData = await this.#decodeResponse(response);\n\n    if (typeof window[this.#settings.completeCallback] === \"function\") {\n      window[this.#settings.completeCallback](responseData);\n    } else if (responseData.redirect_url) {\n      this.#redirectToNewPage(hash, responseData);\n    } else {\n      this.#replaceContent(hash, responseData);\n      this.#scrollIntoView(hash);\n\n      if (hash !== undefined) {\n        window.location.hash = hash;\n      }\n\n      document.dispatchEvent(new CustomEvent(\"acp3.ajaxFrom.complete\"));\n    }\n  }\n\n  #addLoadingLayer() {\n    if (this.#settings.loadingOverlay === false) {\n      return;\n    }\n\n    this.#loadingLayer.addLoadingLayer();\n  }\n\n  /**\n   *\n   * @param {Element} submitButton\n   */\n  #disableSubmitButton(submitButton) {\n    if (submitButton) {\n      submitButton.disabled = true;\n    }\n  }\n\n  /**\n   *\n   * @param {Element} submitButton\n   */\n  #enableSubmitButton(submitButton) {\n    if (submitButton) {\n      submitButton.disabled = false;\n    }\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @returns {Promise<*>}\n   */\n  async #decodeResponse(response) {\n    try {\n      return await response.clone().json();\n    } catch (error) {\n      return await response.clone().text();\n    }\n  }\n\n  #redirectToNewPage(hash, responseData) {\n    if (hash !== undefined) {\n      window.location.href = responseData.redirect_url + hash;\n      window.location.reload();\n    } else {\n      window.location.href = responseData.redirect_url;\n    }\n  }\n\n  #scrollIntoView(hash) {\n    setTimeout(() => {\n      if (hash) {\n        const targetElement = document.querySelector(`[data-hash-change=\"${hash}\"]`);\n\n        window.scrollTo({ top: targetElement.getBoundingClientRect().y, behavior: \"smooth\" });\n      } else {\n        const targetElement = document.querySelector(this.#settings.targetElement);\n        const offsetTop = targetElement.getBoundingClientRect().y;\n\n        if (document.scrollTop > offsetTop) {\n          window.scrollTo({ top: offsetTop, behavior: \"smooth\" });\n        }\n      }\n    });\n  }\n\n  #replaceContent(hash, responseData) {\n    if (hash && document.querySelector(hash)) {\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(responseData, \"text/html\");\n\n      document.querySelector(hash).innerHTML = doc.querySelector(hash).innerHTML;\n    } else {\n      document.querySelector(this.#settings.targetElement).innerHTML = responseData;\n    }\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nimport { mergeSettings } from \"./utils\";\n\nexport class LoadingLayer {\n  #options = {\n    loadingText: \"\",\n  };\n\n  constructor(element, options = {}) {\n    this.#options = mergeSettings(this.#options, options, element.dataset || {});\n  }\n\n  addLoadingLayer() {\n    if (!document.getElementById(\"loading-layer\")) {\n      const body = document.querySelector(\"body\");\n      const jsSvgIcons = JSON.parse(body.dataset.svgIcons);\n      const loadingLayerHtml =\n        '<div id=\"loading-layer\" class=\"loading-layer\"><h1><svg class=\"svg-icon svg-icon__spinner svg-icon--spin\" fill=\"currentColor\"><use xlink:href=\"' +\n        jsSvgIcons[\"loadingLayerIcon\"] +\n        '\"></use></svg> ' +\n        this.#options.loadingText +\n        \"</h1></div>\";\n\n      body.insertAdjacentHTML(\"beforeend\", loadingLayerHtml);\n    }\n  }\n\n  showLoadingLayer() {\n    this.#toggleLoadingLayer(true);\n  }\n\n  hideLoadingLayer() {\n    this.#toggleLoadingLayer(false);\n  }\n\n  #toggleLoadingLayer(show) {\n    document.getElementById(\"loading-layer\")?.classList.toggle(\"loading-layer__active\", show);\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nimport { mergeSettings } from \"./utils\";\n\nexport class FormValidator {\n  #isFormValid = true;\n  #defaults = {\n    scrollOffsetElement: null,\n  };\n  #settings;\n  #formElement;\n\n  constructor(formElement, options = {}) {\n    this.#settings = mergeSettings(this.#defaults, options, formElement.dataset);\n    this.#formElement = formElement;\n  }\n\n  preValidateForm() {\n    this.checkFormElementsForErrors();\n    this.#focusTabWithFirstErrorMessage();\n    this.#scrollToFirstFormError();\n\n    return this.#isFormValid;\n  }\n\n  checkFormElementsForErrors() {\n    this.#removeAllPreviousErrors();\n\n    for (const field of this.#formElement.elements) {\n      if (field.nodeName !== \"INPUT\" && field.nodeName !== \"TEXTAREA\" && field.nodeName !== \"SELECT\") {\n        continue;\n      }\n\n      if (!field.checkValidity()) {\n        this.#addErrorMessageToFormField(field, field.validationMessage);\n\n        this.#isFormValid = false;\n      }\n    }\n  }\n\n  #removeAllPreviousErrors() {\n    this.#formElement.querySelectorAll(\".is-invalid\").forEach((invalidFormField) => {\n      invalidFormField.classList.remove(\"is-invalid\");\n    });\n  }\n\n  /**\n   *\n   * @param {HTMLElement} formField\n   */\n  #removeErrorMessageFromFormField(formField) {\n    formField.closest(\"div\")?.querySelector(\".invalid-feedback\")?.remove();\n  }\n\n  /**\n   *\n   * @param {HTMLElement} formField\n   * @param {string} errorMessage\n   */\n  #addErrorMessageToFormField(formField, errorMessage) {\n    this.#removeErrorMessageFromFormField(formField);\n\n    formField.classList.add(\"is-invalid\");\n\n    formField\n      .closest(\"div:not(.input-group):not(.btn-group)\")\n      .insertAdjacentHTML(\"beforeend\", `<div class=\"invalid-feedback\">${errorMessage}</div>`);\n  }\n\n  #focusTabWithFirstErrorMessage() {\n    if (!this.#formElement.querySelector(\".nav-tabs\")) {\n      return;\n    }\n\n    const firstElemWithError = this.#formElement.querySelector(\".is-invalid\");\n\n    if (!firstElemWithError) {\n      return;\n    }\n\n    const tabId = firstElemWithError.closest(\".tab-pane\").getAttribute(\"id\");\n\n    this.#formElement.querySelector('.nav-tabs a[href=\"#' + tabId + '\"]').click();\n\n    firstElemWithError.focus();\n  }\n\n  get isFormValid() {\n    return this.#isFormValid;\n  }\n\n  setFormAsValid() {\n    this.#isFormValid = true;\n  }\n\n  /**\n   *\n   * @param {HTMLElement} form\n   * @param {string} errorMessagesHtml\n   */\n  handleFormErrorMessages(form, errorMessagesHtml) {\n    const modalBody = form.querySelector(\".modal-body\");\n\n    // Remove the old - possible existing - error-box\n    document.getElementById(\"error-box\")?.remove();\n\n    // Place the error messages inside the modal body for a better styling\n    if (modalBody) {\n      modalBody.insertAdjacentHTML(\"afterbegin\", errorMessagesHtml);\n    } else {\n      form.insertAdjacentHTML(\"afterbegin\", errorMessagesHtml);\n    }\n\n    this.#prettyPrintResponseErrorMessages(form, document.getElementById(\"error-box\"));\n  }\n\n  /**\n   *\n   * @param {HTMLElement} form\n   * @param {HTMLElement} errorBox\n   */\n  #prettyPrintResponseErrorMessages(form, errorBox) {\n    this.#removeAllPreviousErrors();\n\n    // highlight all input fields where the validation has failed\n    errorBox.querySelectorAll(\"li\").forEach((errorMessageLine) => {\n      let errorClass = errorMessageLine.dataset.element;\n\n      if (errorClass.length > 0) {\n        let elem = document.getElementById(errorClass) || form.querySelector('[id|=\"' + errorClass + '\"]');\n\n        if (elem) {\n          // Move the error message to the responsible input field(s)\n          // and remove the list item from the error box container\n          this.#addErrorMessageToFormField(elem[0], errorMessageLine.innerHTML);\n          errorMessageLine.remove();\n        }\n      }\n    });\n\n    // if all list items have been removed, remove the error box container too\n    if (errorBox.querySelectorAll(\"li\").length === 0) {\n      errorBox.remove();\n    }\n\n    this.#focusTabWithFirstErrorMessage();\n    this.#scrollToFirstFormError();\n  }\n\n  #scrollToFirstFormError() {\n    if (this.#formElement.closest(\".modal\")?.length > 0) {\n      return;\n    }\n\n    const formErrors = this.#formElement.querySelectorAll(\".is-invalid\");\n\n    if (!formErrors || formErrors.length === 0) {\n      return;\n    }\n\n    if (this.#isElementInViewport(this.#formElement.querySelector(\".invalid-feedback\"))) {\n      return;\n    }\n\n    let offsetTop = formErrors.item(0).getBoundingClientRect().top;\n\n    if (this.#settings.scrollOffsetElement) {\n      const scrollOffsetElement = document.querySelector(this.#settings.scrollOffsetElement);\n\n      if (scrollOffsetElement) {\n        offsetTop -= scrollOffsetElement.clientHeight;\n      }\n    }\n\n    window.scrollTo({ top: offsetTop, behavior: \"smooth\" });\n  }\n\n  #isElementInViewport(element) {\n    const scrollOffsetElement = document.querySelector(this.#settings.scrollOffsetElement);\n    let offsetTop = 0;\n\n    if (scrollOffsetElement) {\n      offsetTop = scrollOffsetElement.clientHeight;\n    }\n\n    const rect = element.getBoundingClientRect();\n\n    return (\n      rect.top >= offsetTop &&\n      rect.left >= 0 &&\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\nimport { AjaxForm } from \"../lib/ajax-form\";\nimport { LoadingLayer } from \"../lib/loading-layer\";\nimport { FormValidator } from \"../lib/form-validator\";\n\n// @ToDO: Remove jQuery\n(($) => {\n  const pluginName = \"formSubmit\";\n\n  $.fn[pluginName] = function (options) {\n    return this.each(function () {\n      if (!$.data(this, \"plugin_\" + pluginName)) {\n        $.data(\n          this,\n          \"plugin_\" + pluginName,\n          new AjaxForm(this, new LoadingLayer(this, options), new FormValidator(this, options), options)\n        );\n      }\n    });\n  };\n\n  $('[data-ajax-form=\"true\"]').formSubmit();\n\n  $(document).on(\"draw.dt\", (e) => {\n    $(e.target).find('[data-ajax-form=\"true\"]').formSubmit();\n  });\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi91dGlscy5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9hamF4LWZvcm0uanMiLCJBQ1AzL01vZHVsZXMvQUNQMy9TeXN0ZW0vUmVzb3VyY2VzL0Fzc2V0cy9qcy9saWIvbG9hZGluZy1sYXllci5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9mb3JtLXZhbGlkYXRvci5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL3BhcnRpYWxzL2FqYXgtZm9ybS5qcyJdLCJuYW1lcyI6WyJfJHV0aWxzXzQiLCJkZWZhdWx0U2V0dGluZ3MiLCJjb25zdHJ1Y3Rvck9wdGlvbnMiLCJkYXRhQXR0cmlidXRlT3B0aW9ucyIsIm1lcmdlZFNldHRpbmdzIiwia2V5IiwidmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwia2V5U3RyaXBwZWQiLCJzdHJpbmciLCJyZXBsYWNlIiwiY2hhckF0IiwidG9Mb3dlckNhc2UiLCJzbGljZSIsImxlbmd0aCIsIkpTT04iLCJwYXJzZSIsIl91bnVzZWQiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UiLCJyZWNlaXZlciIsInByaXZhdGVLZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJUeXBlRXJyb3IiLCJpZCIsIl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5IiwibmFtZSIsIl9lbGVtZW50IiwiX2xvYWRpbmdMYXllciIsIl9mb3JtVmFsaWRhdG9yIiwiX2RlZmF1bHRzIiwiX3NldHRpbmdzIiwiX2luaXQiLCJfZmluZFN1Ym1pdEJ1dHRvbiIsIl9wcmVwYXJlRm9ybURhdGEiLCJfaGFuZGxlUmVzcG9uc2VFcnJvciIsIl9oYW5kbGVTdWNjZXNzZnVsUmVzcG9uc2UiLCJfYWRkTG9hZGluZ0xheWVyIiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX2RlY29kZVJlc3BvbnNlIiwiX3JlZGlyZWN0VG9OZXdQYWdlIiwiX3Njcm9sbEludG9WaWV3IiwiX3JlcGxhY2VDb250ZW50IiwiX2luaXQyIiwidGhpcyIsIm5vZGVOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFzeW5jIiwicGVyZm9ybUFqYXhSZXF1ZXN0Iiwibm9WYWxpZGF0ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNldEZvcm1Bc1ZhbGlkIiwiZG9jdW1lbnQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJpc0Zvcm1WYWxpZCIsInByZVZhbGlkYXRlRm9ybSIsImNoZWNrRm9ybUVsZW1lbnRzRm9yRXJyb3JzIiwiX2ZpbmRTdWJtaXRCdXR0b24yIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzdWJtaXRFbGVtIiwiZWxlbSIsImRhdGFzZXQiLCJjbGlja2VkIiwiX3ByZXBhcmVGb3JtRGF0YTIiLCJzdWJtaXRCdXR0b24iLCJmb3JtIiwiaW5pdGlhbERhdGEiLCJjdXN0b21Gb3JtRGF0YSIsImRhdGEiLCJnZXRBdHRyaWJ1dGUiLCJGb3JtRGF0YSIsImFwcGVuZCIsIl9oYW5kbGVSZXNwb25zZUVycm9yMiIsInJlc3BvbnNlIiwicmVzcG9uc2VEYXRhIiwiY2xvbmUiLCJ0ZXh0Iiwic3RhdHVzIiwiaGFuZGxlRm9ybUVycm9yTWVzc2FnZXMiLCJvcGVuIiwid3JpdGUiLCJjbG9zZSIsIl9oYW5kbGVTdWNjZXNzZnVsUmVzcG9uc2UyIiwiaGFzaCIsIndpbmRvdyIsImNvbXBsZXRlQ2FsbGJhY2siLCJyZWRpcmVjdF91cmwiLCJsb2NhdGlvbiIsIl9hZGRMb2FkaW5nTGF5ZXIyIiwibG9hZGluZ092ZXJsYXkiLCJhZGRMb2FkaW5nTGF5ZXIiLCJfZGlzYWJsZVN1Ym1pdEJ1dHRvbjIiLCJkaXNhYmxlZCIsIl9lbmFibGVTdWJtaXRCdXR0b24yIiwiX2RlY29kZVJlc3BvbnNlMiIsImpzb24iLCJlcnJvciIsIl9yZWRpcmVjdFRvTmV3UGFnZTIiLCJocmVmIiwicmVsb2FkIiwiX3Njcm9sbEludG9WaWV3MiIsInNldFRpbWVvdXQiLCJ0YXJnZXRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsInNjcm9sbFRvIiwidG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieSIsImJlaGF2aW9yIiwib2Zmc2V0VG9wIiwic2Nyb2xsVG9wIiwiX3JlcGxhY2VDb250ZW50MiIsImRvYyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImlubmVySFRNTCIsIl8kYWpheEZvcm1fMSIsIkFqYXhGb3JtIiwiW29iamVjdCBPYmplY3RdIiwiZWxlbWVudCIsImxvYWRpbmdMYXllciIsImZvcm1WYWxpZGF0b3IiLCJvcHRpb25zIiwiZGVmaW5lUHJvcGVydHkiLCJ3cml0YWJsZSIsIm1ldGhvZCIsIm1lcmdlU2V0dGluZ3MiLCJfc3VibWl0QnV0dG9uIiwiaGFzaENoYW5nZSIsInNob3dMb2FkaW5nTGF5ZXIiLCJfcmVmIiwiX2Zvcm0kZ2V0QXR0cmlidXRlJHRvIiwiX2Zvcm0kZ2V0QXR0cmlidXRlIiwiX2NsYXNzUHJpdmF0ZUZpZWxkTG9vIiwidG9VcHBlckNhc2UiLCJmZXRjaCIsImJvZHkiLCJoZWFkZXJzIiwiWC1SZXF1ZXN0ZWQtV2l0aCIsIm9rIiwiY29uc29sZSIsImhpZGVMb2FkaW5nTGF5ZXIiLCJfX19jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZV8zIiwiX19pZF8zIiwiX19fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleV8zIiwiX29wdGlvbnMiLCJfdG9nZ2xlTG9hZGluZ0xheWVyIiwiX3RvZ2dsZUxvYWRpbmdMYXllcjIiLCJzaG93IiwiX2RvY3VtZW50JGdldEVsZW1lbnRCIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfJGxvYWRpbmdMYXllcl8zIiwiTG9hZGluZ0xheWVyIiwibG9hZGluZ1RleHQiLCJsb2FkaW5nTGF5ZXJIdG1sIiwic3ZnSWNvbnMiLCJsb2FkaW5nTGF5ZXJJY29uIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiX19fY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2VfMiIsIl9faWRfMiIsIl9fX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXlfMiIsIiQiLCJfaXNGb3JtVmFsaWQiLCJfX19kZWZhdWx0c18yIiwiX19fc2V0dGluZ3NfMiIsIl9mb3JtRWxlbWVudCIsIl9yZW1vdmVBbGxQcmV2aW91c0Vycm9ycyIsIl9yZW1vdmVFcnJvck1lc3NhZ2VGcm9tRm9ybUZpZWxkIiwiX2FkZEVycm9yTWVzc2FnZVRvRm9ybUZpZWxkIiwiX2ZvY3VzVGFiV2l0aEZpcnN0RXJyb3JNZXNzYWdlIiwiX3ByZXR0eVByaW50UmVzcG9uc2VFcnJvck1lc3NhZ2VzIiwiX3Njcm9sbFRvRmlyc3RGb3JtRXJyb3IiLCJfaXNFbGVtZW50SW5WaWV3cG9ydCIsIl9yZW1vdmVBbGxQcmV2aW91c0Vycm9yczIiLCJpbnZhbGlkRm9ybUZpZWxkIiwicmVtb3ZlIiwiX3JlbW92ZUVycm9yTWVzc2FnZUZyb21Gb3JtRmllbGQyIiwiZm9ybUZpZWxkIiwiX2Zvcm1GaWVsZCRjbG9zZXN0IiwiX2Zvcm1GaWVsZCRjbG9zZXN0JHF1IiwiY2xvc2VzdCIsIl9hZGRFcnJvck1lc3NhZ2VUb0Zvcm1GaWVsZDIiLCJlcnJvck1lc3NhZ2UiLCJhZGQiLCJfZm9jdXNUYWJXaXRoRmlyc3RFcnJvck1lc3NhZ2UyIiwiZmlyc3RFbGVtV2l0aEVycm9yIiwidGFiSWQiLCJjbGljayIsImZvY3VzIiwiX3ByZXR0eVByaW50UmVzcG9uc2VFcnJvck1lc3NhZ2VzMiIsImVycm9yQm94IiwiZXJyb3JNZXNzYWdlTGluZSIsImVycm9yQ2xhc3MiLCJfc2Nyb2xsVG9GaXJzdEZvcm1FcnJvcjIiLCJmb3JtRXJyb3JzIiwiaXRlbSIsInNjcm9sbE9mZnNldEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJfaXNFbGVtZW50SW5WaWV3cG9ydDIiLCJyZWN0IiwibGVmdCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwicmlnaHQiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJfJGZvcm1WYWxpZGF0b3JfMiIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsImZpZWxkIiwiZWxlbWVudHMiLCJjaGVja1ZhbGlkaXR5IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvck1lc3NhZ2VzSHRtbCIsIm1vZGFsQm9keSIsImpRdWVyeSIsImZuIiwiZm9ybVN1Ym1pdCIsImVhY2giLCJvbiIsInRhcmdldCIsImZpbmQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsSUFBQUEsRUFBQSxvRUNJTyxTQUF1QkMsRUFBaUJDLEVBQW9CQyxHQUNqRSxNQUFNQyxFQUFpQixJQUFLSCxLQUFvQkMsR0FFaEQsSUFBS0MsRUFDSCxPQUFPQyxFQUdULElBQUssSUFBS0MsRUFBS0MsS0FBVUMsT0FBT0MsUUFBUUwsR0FBdUIsQ0FDN0QsTUFBTU0sR0Fjb0JDLEVBZGVMLEVBQUlNLFFBQVEsV0FBWSxLQWVyREMsT0FBTyxHQUFHQyxjQUFnQkgsRUFBT0ksTUFBTSxHQWJuRCxHQUFJTCxFQUFZTSxPQUFTLFFBQUEsSUFBWVgsRUFBZUssR0FDbEQsSUFDRUwsRUFBZUssR0FBZU8sS0FBS0MsTUFBTVgsR0FDekMsTUFBQVksR0FDQWQsRUFBZUssR0FBZUgsR0FRdEMsSUFBOEJJLEVBSDVCLE9BQU9OLFlDbkJULFNBQUFlLEVBQUFDLEVBQUFDLEdBQUEsSUFBQWQsT0FBQWUsVUFBQUMsZUFBQUMsS0FBQUosRUFBQUMsR0FBQSxNQUFBLElBQUFJLFVBQUEsa0RBQUEsT0FBQUwscUVBQUEsSUFBQU0sRUFBQSxFQUFBLFNBQUFDLEVBQUFDLEdBQUEsTUFBQSxhQUFBRixJQUFBLElBQUFFLEVBQUEsSUFBQUMsRUFBQUYsRUFBQSxXQUFBRyxFQUFBSCxFQUFBLGdC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QUFuQkQsRUFBTTVLLFVBQTJDLGFBQW5CNEssRUFBTTVLLFVBQThDLFdBQW5CNEssRUFBTTVLLFVBSXBFNEssRUFBTUUsa0JBQ1R0RCxFQUFBekgsS0FBQW1JLEdBQUFBLEdBQWlDMEMsRUFBT0EsRUFBTUcsbUJBRTlDdkQsRUFBQXpILEtBQUE2SCxHQUFBQSxJQUFBLEdBb0RTaEgsa0JBQ2IsT0FBQTRHLEVBQU96SCxLQUFQNkgsR0FBQUEsR0FHRjlDLGlCQUNFMEMsRUFBQXpILEtBQUE2SCxHQUFBQSxJQUFBLEVBUUY5Qyx3QkFBd0J0RCxFQUFNd0osR0FBbUIsSUFBQW5FLEVBQy9DLE1BQU1vRSxFQUFZekosRUFBS3NDLGNBQWMsZUFHckMsUUFBQStDLEVBQUFyRyxTQUFTc0csZUFBZSxvQkFBQSxJQUF4QkQsR0FBQUEsRUFBc0M0QixTQUdsQ3dDLEVBQ0ZBLEVBQVUxRCxtQkFBbUIsYUFBY3lELEdBRTNDeEosRUFBSytGLG1CQUFtQixhQUFjeUQsR0FHeEN4RCxFQUFBekgsS0FBQXFJLElBQUFBLElBQXVDNUcsRUFBTWhCLFNBQVNzRyxlQUFlLGlCQzNHdkVhLEVBb0JDdUQsUUFqQkNDLEdBQUZDLFdBQW1CLFNBQVVsRyxHQUMzQixPQUFPbkYsS0FBS3NMLE1BQUssV0FDVjFELEVBQUVoRyxLQUFLNUIsS0FBTSxzQkFDaEI0SCxFQUFFaEcsS0FDQTVCLEtBQ0Esb0JBQ0EsSUFBSTZFLEVBQUFDLFNBQVM5RSxLQUFNLElBQUlrSCxFQUFBQyxhQUFhbkgsS0FBTW1GLEdBQVUsSUFBSXVGLEVBQUFDLGNBQWMzSyxLQUFNbUYsR0FBVUEsUUFNOUZ5QyxFQUFFLDJCQUEyQnlELGFBRTdCekQsRUFBRW5ILFVBQVU4SyxHQUFHLFVBQVlqTCxJQUN6QnNILEVBQUV0SCxFQUFFa0wsUUFBUUMsS0FBSywyQkFBMkJKLGVMNUJoRCIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5zaW5nIGRldGFpbHMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU2V0dGluZ3MoZGVmYXVsdFNldHRpbmdzLCBjb25zdHJ1Y3Rvck9wdGlvbnMsIGRhdGFBdHRyaWJ1dGVPcHRpb25zKSB7XG4gIGNvbnN0IG1lcmdlZFNldHRpbmdzID0geyAuLi5kZWZhdWx0U2V0dGluZ3MsIC4uLmNvbnN0cnVjdG9yT3B0aW9ucyB9O1xuXG4gIGlmICghZGF0YUF0dHJpYnV0ZU9wdGlvbnMpIHtcbiAgICByZXR1cm4gbWVyZ2VkU2V0dGluZ3M7XG4gIH1cblxuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YUF0dHJpYnV0ZU9wdGlvbnMpKSB7XG4gICAgY29uc3Qga2V5U3RyaXBwZWQgPSBsb3dlckNhc2VGaXJzdExldHRlcihrZXkucmVwbGFjZShcImFqYXhGb3JtXCIsIFwiXCIpKTtcblxuICAgIGlmIChrZXlTdHJpcHBlZC5sZW5ndGggPiAwICYmIHR5cGVvZiBtZXJnZWRTZXR0aW5nc1trZXlTdHJpcHBlZF0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG1lcmdlZFNldHRpbmdzW2tleVN0cmlwcGVkXSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIG1lcmdlZFNldHRpbmdzW2tleVN0cmlwcGVkXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtZXJnZWRTZXR0aW5ncztcbn1cblxuZnVuY3Rpb24gbG93ZXJDYXNlRmlyc3RMZXR0ZXIoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbnNpbmcgZGV0YWlscy5cbiAqL1xuXG5pbXBvcnQgeyBtZXJnZVNldHRpbmdzIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEFqYXhGb3JtIHtcbiAgI2VsZW1lbnQ7XG4gICNsb2FkaW5nTGF5ZXI7XG4gICNmb3JtVmFsaWRhdG9yO1xuICAjZGVmYXVsdHMgPSB7XG4gICAgY29tcGxldGVDYWxsYmFjazogbnVsbCxcbiAgICB0YXJnZXRFbGVtZW50OiBcIiNjb250ZW50XCIsXG4gICAgbG9hZGluZ092ZXJsYXk6IHRydWUsXG4gICAgY3VzdG9tRm9ybURhdGE6IG51bGwsXG4gICAgbWV0aG9kOiBudWxsLFxuICB9O1xuICAjc2V0dGluZ3M7XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtMb2FkaW5nTGF5ZXJ9IGxvYWRpbmdMYXllclxuICAgKiBAcGFyYW0ge0Zvcm1WYWxpZGF0b3J9IGZvcm1WYWxpZGF0b3JcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGxvYWRpbmdMYXllciwgZm9ybVZhbGlkYXRvciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy4jZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5pc0Zvcm1WYWxpZCA9IHRydWU7XG5cbiAgICB0aGlzLiNsb2FkaW5nTGF5ZXIgPSBsb2FkaW5nTGF5ZXI7XG4gICAgdGhpcy4jZm9ybVZhbGlkYXRvciA9IGZvcm1WYWxpZGF0b3I7XG5cbiAgICB0aGlzLiNzZXR0aW5ncyA9IG1lcmdlU2V0dGluZ3ModGhpcy4jZGVmYXVsdHMsIG9wdGlvbnMsIGVsZW1lbnQuZGF0YXNldCk7XG4gICAgdGhpcy4jaW5pdCgpO1xuICB9XG5cbiAgI2luaXQoKSB7XG4gICAgdGhpcy4jZmluZFN1Ym1pdEJ1dHRvbigpO1xuICAgIHRoaXMuI2FkZExvYWRpbmdMYXllcigpO1xuXG4gICAgaWYgKHRoaXMuI2VsZW1lbnQubm9kZU5hbWUgPT09IFwiQVwiKSB7XG4gICAgICB0aGlzLiNlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGVyZm9ybUFqYXhSZXF1ZXN0KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jZWxlbWVudC5ub1ZhbGlkYXRlID0gdHJ1ZTtcblxuICAgICAgdGhpcy4jZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLiNmb3JtVmFsaWRhdG9yLnNldEZvcm1Bc1ZhbGlkKCk7XG5cbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJhY3AzLmFqYXhGcm9tLnN1Ym1pdC5iZWZvcmVcIiwgeyBkZXRhaWw6IHRoaXMgfSkpO1xuXG4gICAgICAgIGlmICh0aGlzLiNmb3JtVmFsaWRhdG9yLmlzRm9ybVZhbGlkICYmIHRoaXMuI2Zvcm1WYWxpZGF0b3IucHJlVmFsaWRhdGVGb3JtKCkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBlcmZvcm1BamF4UmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy4jZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuI2Zvcm1WYWxpZGF0b3IuaXNGb3JtVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy4jZm9ybVZhbGlkYXRvci5jaGVja0Zvcm1FbGVtZW50c0ZvckVycm9ycygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAjZmluZFN1Ym1pdEJ1dHRvbigpIHtcbiAgICB0aGlzLiNlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbdHlwZT1zdWJtaXRdXCIpLmZvckVhY2goKHN1Ym1pdEVsZW0pID0+IHtcbiAgICAgIHN1Ym1pdEVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy4jZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW3R5cGU9c3VibWl0XVwiKS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgZGVsZXRlIGVsZW0uZGF0YXNldFtcImNsaWNrZWRcIl07XG4gICAgICAgIH0pO1xuICAgICAgICBzdWJtaXRFbGVtLmRhdGFzZXQuY2xpY2tlZCA9IFwidHJ1ZVwiO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBwZXJmb3JtQWpheFJlcXVlc3QoKSB7XG4gICAgY29uc3QgZm9ybSA9IHRoaXMuI2VsZW1lbnQ7XG5cbiAgICBsZXQgaGFzaCwgc3VibWl0QnV0dG9uO1xuXG4gICAgaWYgKHRoaXMuI2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpKSB7XG4gICAgICBzdWJtaXRCdXR0b24gPSB0aGlzLiNlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdW2RhdGEtY2xpY2tlZD1cInRydWVcIl0nKTtcblxuICAgICAgaGFzaCA9IHN1Ym1pdEJ1dHRvbj8uZGF0YXNldC5oYXNoQ2hhbmdlO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYXNoID0gZm9ybS5kYXRhc2V0Lmhhc2hDaGFuZ2U7XG4gICAgfVxuXG4gICAgdGhpcy4jbG9hZGluZ0xheWVyLnNob3dMb2FkaW5nTGF5ZXIoKTtcbiAgICB0aGlzLiNkaXNhYmxlU3VibWl0QnV0dG9uKHN1Ym1pdEJ1dHRvbik7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbWV0aG9kID0gZm9ybS5nZXRBdHRyaWJ1dGUoXCJtZXRob2RcIik/LnRvVXBwZXJDYXNlKCkgPz8gdGhpcy4jc2V0dGluZ3MubWV0aG9kPy50b1VwcGVyQ2FzZSgpID8/IFwiR0VUXCI7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZm9ybS5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIikgfHwgZm9ybS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBtZXRob2QgIT09IFwiR0VUXCIgPyB0aGlzLiNwcmVwYXJlRm9ybURhdGEoc3VibWl0QnV0dG9uKSA6IG51bGwsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIlgtUmVxdWVzdGVkLVdpdGhcIjogXCJYTUxIdHRwUmVxdWVzdFwiLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLiNoYW5kbGVTdWNjZXNzZnVsUmVzcG9uc2UocmVzcG9uc2UsIGhhc2gpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy4jbG9hZGluZ0xheWVyLmhpZGVMb2FkaW5nTGF5ZXIoKTtcbiAgICAgIHRoaXMuI2VuYWJsZVN1Ym1pdEJ1dHRvbihzdWJtaXRCdXR0b24pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcmV0dXJucyB7Rm9ybURhdGF9XG4gICAqL1xuICAjcHJlcGFyZUZvcm1EYXRhKHN1Ym1pdEJ1dHRvbikge1xuICAgIGNvbnN0IGZvcm0gPSB0aGlzLiNlbGVtZW50O1xuXG4gICAgY29uc3QgaW5pdGlhbERhdGEgPSB0aGlzLiNzZXR0aW5ncy5jdXN0b21Gb3JtRGF0YSB8fCB7fTtcbiAgICBsZXQgZGF0YTtcblxuICAgIGlmIChmb3JtLmdldEF0dHJpYnV0ZShcIm1ldGhvZFwiKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcblxuICAgICAgaWYgKHN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBkYXRhLmFwcGVuZChzdWJtaXRCdXR0b24uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSwgXCIxXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGluaXRpYWxEYXRhKSkge1xuICAgICAgZGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyAjaGFuZGxlUmVzcG9uc2VFcnJvcihyZXNwb25zZSkge1xuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmNsb25lKCkudGV4dCgpO1xuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLiNmb3JtVmFsaWRhdG9yLmhhbmRsZUZvcm1FcnJvck1lc3NhZ2VzKHRoaXMuI2VsZW1lbnQsIHJlc3BvbnNlRGF0YSk7XG5cbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiYWNwMy5hamF4RnJvbS5zdWJtaXQuZmFpbFwiLCB7IGRldGFpbDogdGhpcyB9KSk7XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEubGVuZ3RoID4gMCkge1xuICAgICAgZG9jdW1lbnQub3BlbigpO1xuICAgICAgZG9jdW1lbnQud3JpdGUocmVzcG9uc2VEYXRhKTtcbiAgICAgIGRvY3VtZW50LmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7UmVzcG9uc2V9IHJlc3BvbnNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgI2hhbmRsZVN1Y2Nlc3NmdWxSZXNwb25zZShyZXNwb25zZSwgaGFzaCkge1xuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHRoaXMuI2RlY29kZVJlc3BvbnNlKHJlc3BvbnNlKTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93W3RoaXMuI3NldHRpbmdzLmNvbXBsZXRlQ2FsbGJhY2tdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHdpbmRvd1t0aGlzLiNzZXR0aW5ncy5jb21wbGV0ZUNhbGxiYWNrXShyZXNwb25zZURhdGEpO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEYXRhLnJlZGlyZWN0X3VybCkge1xuICAgICAgdGhpcy4jcmVkaXJlY3RUb05ld1BhZ2UoaGFzaCwgcmVzcG9uc2VEYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jcmVwbGFjZUNvbnRlbnQoaGFzaCwgcmVzcG9uc2VEYXRhKTtcbiAgICAgIHRoaXMuI3Njcm9sbEludG9WaWV3KGhhc2gpO1xuXG4gICAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJhY3AzLmFqYXhGcm9tLmNvbXBsZXRlXCIpKTtcbiAgICB9XG4gIH1cblxuICAjYWRkTG9hZGluZ0xheWVyKCkge1xuICAgIGlmICh0aGlzLiNzZXR0aW5ncy5sb2FkaW5nT3ZlcmxheSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLiNsb2FkaW5nTGF5ZXIuYWRkTG9hZGluZ0xheWVyKCk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBzdWJtaXRCdXR0b25cbiAgICovXG4gICNkaXNhYmxlU3VibWl0QnV0dG9uKHN1Ym1pdEJ1dHRvbikge1xuICAgIGlmIChzdWJtaXRCdXR0b24pIHtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gc3VibWl0QnV0dG9uXG4gICAqL1xuICAjZW5hYmxlU3VibWl0QnV0dG9uKHN1Ym1pdEJ1dHRvbikge1xuICAgIGlmIChzdWJtaXRCdXR0b24pIHtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge1Jlc3BvbnNlfSByZXNwb25zZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTwqPn1cbiAgICovXG4gIGFzeW5jICNkZWNvZGVSZXNwb25zZShyZXNwb25zZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5jbG9uZSgpLnRleHQoKTtcbiAgICB9XG4gIH1cblxuICAjcmVkaXJlY3RUb05ld1BhZ2UoaGFzaCwgcmVzcG9uc2VEYXRhKSB7XG4gICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZURhdGEucmVkaXJlY3RfdXJsICsgaGFzaDtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZURhdGEucmVkaXJlY3RfdXJsO1xuICAgIH1cbiAgfVxuXG4gICNzY3JvbGxJbnRvVmlldyhoYXNoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoaGFzaCkge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaGFzaC1jaGFuZ2U9XCIke2hhc2h9XCJdYCk7XG5cbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiB0YXJnZXRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnksIGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy4jc2V0dGluZ3MudGFyZ2V0RWxlbWVudCk7XG4gICAgICAgIGNvbnN0IG9mZnNldFRvcCA9IHRhcmdldEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTtcblxuICAgICAgICBpZiAoZG9jdW1lbnQuc2Nyb2xsVG9wID4gb2Zmc2V0VG9wKSB7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiBvZmZzZXRUb3AsIGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAjcmVwbGFjZUNvbnRlbnQoaGFzaCwgcmVzcG9uc2VEYXRhKSB7XG4gICAgaWYgKGhhc2ggJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihoYXNoKSkge1xuICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZURhdGEsIFwidGV4dC9odG1sXCIpO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGhhc2gpLmlubmVySFRNTCA9IGRvYy5xdWVyeVNlbGVjdG9yKGhhc2gpLmlubmVySFRNTDtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNzZXR0aW5ncy50YXJnZXRFbGVtZW50KS5pbm5lckhUTUwgPSByZXNwb25zZURhdGE7XG4gICAgfVxuICB9XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbnNpbmcgZGV0YWlscy5cbiAqL1xuXG5pbXBvcnQgeyBtZXJnZVNldHRpbmdzIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIExvYWRpbmdMYXllciB7XG4gICNvcHRpb25zID0ge1xuICAgIGxvYWRpbmdUZXh0OiBcIlwiLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuI29wdGlvbnMgPSBtZXJnZVNldHRpbmdzKHRoaXMuI29wdGlvbnMsIG9wdGlvbnMsIGVsZW1lbnQuZGF0YXNldCB8fCB7fSk7XG4gIH1cblxuICBhZGRMb2FkaW5nTGF5ZXIoKSB7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmctbGF5ZXJcIikpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICAgIGNvbnN0IGpzU3ZnSWNvbnMgPSBKU09OLnBhcnNlKGJvZHkuZGF0YXNldC5zdmdJY29ucyk7XG4gICAgICBjb25zdCBsb2FkaW5nTGF5ZXJIdG1sID1cbiAgICAgICAgJzxkaXYgaWQ9XCJsb2FkaW5nLWxheWVyXCIgY2xhc3M9XCJsb2FkaW5nLWxheWVyXCI+PGgxPjxzdmcgY2xhc3M9XCJzdmctaWNvbiBzdmctaWNvbl9fc3Bpbm5lciBzdmctaWNvbi0tc3BpblwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48dXNlIHhsaW5rOmhyZWY9XCInICtcbiAgICAgICAganNTdmdJY29uc1tcImxvYWRpbmdMYXllckljb25cIl0gK1xuICAgICAgICAnXCI+PC91c2U+PC9zdmc+ICcgK1xuICAgICAgICB0aGlzLiNvcHRpb25zLmxvYWRpbmdUZXh0ICtcbiAgICAgICAgXCI8L2gxPjwvZGl2PlwiO1xuXG4gICAgICBib2R5Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBsb2FkaW5nTGF5ZXJIdG1sKTtcbiAgICB9XG4gIH1cblxuICBzaG93TG9hZGluZ0xheWVyKCkge1xuICAgIHRoaXMuI3RvZ2dsZUxvYWRpbmdMYXllcih0cnVlKTtcbiAgfVxuXG4gIGhpZGVMb2FkaW5nTGF5ZXIoKSB7XG4gICAgdGhpcy4jdG9nZ2xlTG9hZGluZ0xheWVyKGZhbHNlKTtcbiAgfVxuXG4gICN0b2dnbGVMb2FkaW5nTGF5ZXIoc2hvdykge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZy1sYXllclwiKT8uY2xhc3NMaXN0LnRvZ2dsZShcImxvYWRpbmctbGF5ZXJfX2FjdGl2ZVwiLCBzaG93KTtcbiAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5zaW5nIGRldGFpbHMuXG4gKi9cblxuaW1wb3J0IHsgbWVyZ2VTZXR0aW5ncyB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgI2lzRm9ybVZhbGlkID0gdHJ1ZTtcbiAgI2RlZmF1bHRzID0ge1xuICAgIHNjcm9sbE9mZnNldEVsZW1lbnQ6IG51bGwsXG4gIH07XG4gICNzZXR0aW5ncztcbiAgI2Zvcm1FbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLiNzZXR0aW5ncyA9IG1lcmdlU2V0dGluZ3ModGhpcy4jZGVmYXVsdHMsIG9wdGlvbnMsIGZvcm1FbGVtZW50LmRhdGFzZXQpO1xuICAgIHRoaXMuI2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBwcmVWYWxpZGF0ZUZvcm0oKSB7XG4gICAgdGhpcy5jaGVja0Zvcm1FbGVtZW50c0ZvckVycm9ycygpO1xuICAgIHRoaXMuI2ZvY3VzVGFiV2l0aEZpcnN0RXJyb3JNZXNzYWdlKCk7XG4gICAgdGhpcy4jc2Nyb2xsVG9GaXJzdEZvcm1FcnJvcigpO1xuXG4gICAgcmV0dXJuIHRoaXMuI2lzRm9ybVZhbGlkO1xuICB9XG5cbiAgY2hlY2tGb3JtRWxlbWVudHNGb3JFcnJvcnMoKSB7XG4gICAgdGhpcy4jcmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMoKTtcblxuICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy4jZm9ybUVsZW1lbnQuZWxlbWVudHMpIHtcbiAgICAgIGlmIChmaWVsZC5ub2RlTmFtZSAhPT0gXCJJTlBVVFwiICYmIGZpZWxkLm5vZGVOYW1lICE9PSBcIlRFWFRBUkVBXCIgJiYgZmllbGQubm9kZU5hbWUgIT09IFwiU0VMRUNUXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghZmllbGQuY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICAgIHRoaXMuI2FkZEVycm9yTWVzc2FnZVRvRm9ybUZpZWxkKGZpZWxkLCBmaWVsZC52YWxpZGF0aW9uTWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy4jaXNGb3JtVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAjcmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMoKSB7XG4gICAgdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pcy1pbnZhbGlkXCIpLmZvckVhY2goKGludmFsaWRGb3JtRmllbGQpID0+IHtcbiAgICAgIGludmFsaWRGb3JtRmllbGQuY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZm9ybUZpZWxkXG4gICAqL1xuICAjcmVtb3ZlRXJyb3JNZXNzYWdlRnJvbUZvcm1GaWVsZChmb3JtRmllbGQpIHtcbiAgICBmb3JtRmllbGQuY2xvc2VzdChcImRpdlwiKT8ucXVlcnlTZWxlY3RvcihcIi5pbnZhbGlkLWZlZWRiYWNrXCIpPy5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmb3JtRmllbGRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVycm9yTWVzc2FnZVxuICAgKi9cbiAgI2FkZEVycm9yTWVzc2FnZVRvRm9ybUZpZWxkKGZvcm1GaWVsZCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgdGhpcy4jcmVtb3ZlRXJyb3JNZXNzYWdlRnJvbUZvcm1GaWVsZChmb3JtRmllbGQpO1xuXG4gICAgZm9ybUZpZWxkLmNsYXNzTGlzdC5hZGQoXCJpcy1pbnZhbGlkXCIpO1xuXG4gICAgZm9ybUZpZWxkXG4gICAgICAuY2xvc2VzdChcImRpdjpub3QoLmlucHV0LWdyb3VwKTpub3QoLmJ0bi1ncm91cClcIilcbiAgICAgIC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgYDxkaXYgY2xhc3M9XCJpbnZhbGlkLWZlZWRiYWNrXCI+JHtlcnJvck1lc3NhZ2V9PC9kaXY+YCk7XG4gIH1cblxuICAjZm9jdXNUYWJXaXRoRmlyc3RFcnJvck1lc3NhZ2UoKSB7XG4gICAgaWYgKCF0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdi10YWJzXCIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZmlyc3RFbGVtV2l0aEVycm9yID0gdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pcy1pbnZhbGlkXCIpO1xuXG4gICAgaWYgKCFmaXJzdEVsZW1XaXRoRXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0YWJJZCA9IGZpcnN0RWxlbVdpdGhFcnJvci5jbG9zZXN0KFwiLnRhYi1wYW5lXCIpLmdldEF0dHJpYnV0ZShcImlkXCIpO1xuXG4gICAgdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi10YWJzIGFbaHJlZj1cIiMnICsgdGFiSWQgKyAnXCJdJykuY2xpY2soKTtcblxuICAgIGZpcnN0RWxlbVdpdGhFcnJvci5mb2N1cygpO1xuICB9XG5cbiAgZ2V0IGlzRm9ybVZhbGlkKCkge1xuICAgIHJldHVybiB0aGlzLiNpc0Zvcm1WYWxpZDtcbiAgfVxuXG4gIHNldEZvcm1Bc1ZhbGlkKCkge1xuICAgIHRoaXMuI2lzRm9ybVZhbGlkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmb3JtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvck1lc3NhZ2VzSHRtbFxuICAgKi9cbiAgaGFuZGxlRm9ybUVycm9yTWVzc2FnZXMoZm9ybSwgZXJyb3JNZXNzYWdlc0h0bWwpIHtcbiAgICBjb25zdCBtb2RhbEJvZHkgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtYm9keVwiKTtcblxuICAgIC8vIFJlbW92ZSB0aGUgb2xkIC0gcG9zc2libGUgZXhpc3RpbmcgLSBlcnJvci1ib3hcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yLWJveFwiKT8ucmVtb3ZlKCk7XG5cbiAgICAvLyBQbGFjZSB0aGUgZXJyb3IgbWVzc2FnZXMgaW5zaWRlIHRoZSBtb2RhbCBib2R5IGZvciBhIGJldHRlciBzdHlsaW5nXG4gICAgaWYgKG1vZGFsQm9keSkge1xuICAgICAgbW9kYWxCb2R5Lmluc2VydEFkamFjZW50SFRNTChcImFmdGVyYmVnaW5cIiwgZXJyb3JNZXNzYWdlc0h0bWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtLmluc2VydEFkamFjZW50SFRNTChcImFmdGVyYmVnaW5cIiwgZXJyb3JNZXNzYWdlc0h0bWwpO1xuICAgIH1cblxuICAgIHRoaXMuI3ByZXR0eVByaW50UmVzcG9uc2VFcnJvck1lc3NhZ2VzKGZvcm0sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3ItYm94XCIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmb3JtXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVycm9yQm94XG4gICAqL1xuICAjcHJldHR5UHJpbnRSZXNwb25zZUVycm9yTWVzc2FnZXMoZm9ybSwgZXJyb3JCb3gpIHtcbiAgICB0aGlzLiNyZW1vdmVBbGxQcmV2aW91c0Vycm9ycygpO1xuXG4gICAgLy8gaGlnaGxpZ2h0IGFsbCBpbnB1dCBmaWVsZHMgd2hlcmUgdGhlIHZhbGlkYXRpb24gaGFzIGZhaWxlZFxuICAgIGVycm9yQm94LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaVwiKS5mb3JFYWNoKChlcnJvck1lc3NhZ2VMaW5lKSA9PiB7XG4gICAgICBsZXQgZXJyb3JDbGFzcyA9IGVycm9yTWVzc2FnZUxpbmUuZGF0YXNldC5lbGVtZW50O1xuXG4gICAgICBpZiAoZXJyb3JDbGFzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDbGFzcykgfHwgZm9ybS5xdWVyeVNlbGVjdG9yKCdbaWR8PVwiJyArIGVycm9yQ2xhc3MgKyAnXCJdJyk7XG5cbiAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAvLyBNb3ZlIHRoZSBlcnJvciBtZXNzYWdlIHRvIHRoZSByZXNwb25zaWJsZSBpbnB1dCBmaWVsZChzKVxuICAgICAgICAgIC8vIGFuZCByZW1vdmUgdGhlIGxpc3QgaXRlbSBmcm9tIHRoZSBlcnJvciBib3ggY29udGFpbmVyXG4gICAgICAgICAgdGhpcy4jYWRkRXJyb3JNZXNzYWdlVG9Gb3JtRmllbGQoZWxlbVswXSwgZXJyb3JNZXNzYWdlTGluZS5pbm5lckhUTUwpO1xuICAgICAgICAgIGVycm9yTWVzc2FnZUxpbmUucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGlmIGFsbCBsaXN0IGl0ZW1zIGhhdmUgYmVlbiByZW1vdmVkLCByZW1vdmUgdGhlIGVycm9yIGJveCBjb250YWluZXIgdG9vXG4gICAgaWYgKGVycm9yQm94LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaVwiKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGVycm9yQm94LnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuI2ZvY3VzVGFiV2l0aEZpcnN0RXJyb3JNZXNzYWdlKCk7XG4gICAgdGhpcy4jc2Nyb2xsVG9GaXJzdEZvcm1FcnJvcigpO1xuICB9XG5cbiAgI3Njcm9sbFRvRmlyc3RGb3JtRXJyb3IoKSB7XG4gICAgaWYgKHRoaXMuI2Zvcm1FbGVtZW50LmNsb3Nlc3QoXCIubW9kYWxcIik/Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtRXJyb3JzID0gdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pcy1pbnZhbGlkXCIpO1xuXG4gICAgaWYgKCFmb3JtRXJyb3JzIHx8IGZvcm1FcnJvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuI2lzRWxlbWVudEluVmlld3BvcnQodGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnZhbGlkLWZlZWRiYWNrXCIpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBvZmZzZXRUb3AgPSBmb3JtRXJyb3JzLml0ZW0oMCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgaWYgKHRoaXMuI3NldHRpbmdzLnNjcm9sbE9mZnNldEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IHNjcm9sbE9mZnNldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuI3NldHRpbmdzLnNjcm9sbE9mZnNldEVsZW1lbnQpO1xuXG4gICAgICBpZiAoc2Nyb2xsT2Zmc2V0RWxlbWVudCkge1xuICAgICAgICBvZmZzZXRUb3AgLT0gc2Nyb2xsT2Zmc2V0RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiBvZmZzZXRUb3AsIGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICB9XG5cbiAgI2lzRWxlbWVudEluVmlld3BvcnQoZWxlbWVudCkge1xuICAgIGNvbnN0IHNjcm9sbE9mZnNldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuI3NldHRpbmdzLnNjcm9sbE9mZnNldEVsZW1lbnQpO1xuICAgIGxldCBvZmZzZXRUb3AgPSAwO1xuXG4gICAgaWYgKHNjcm9sbE9mZnNldEVsZW1lbnQpIHtcbiAgICAgIG9mZnNldFRvcCA9IHNjcm9sbE9mZnNldEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgIH1cblxuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIHJlY3QudG9wID49IG9mZnNldFRvcCAmJlxuICAgICAgcmVjdC5sZWZ0ID49IDAgJiZcbiAgICAgIHJlY3QuYm90dG9tIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiZcbiAgICAgIHJlY3QucmlnaHQgPD0gKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aClcbiAgICApO1xuICB9XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbmNpbmcgZGV0YWlscy5cbiAqL1xuXG5pbXBvcnQgeyBBamF4Rm9ybSB9IGZyb20gXCIuLi9saWIvYWpheC1mb3JtXCI7XG5pbXBvcnQgeyBMb2FkaW5nTGF5ZXIgfSBmcm9tIFwiLi4vbGliL2xvYWRpbmctbGF5ZXJcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vbGliL2Zvcm0tdmFsaWRhdG9yXCI7XG5cbi8vIEBUb0RPOiBSZW1vdmUgalF1ZXJ5XG4oKCQpID0+IHtcbiAgY29uc3QgcGx1Z2luTmFtZSA9IFwiZm9ybVN1Ym1pdFwiO1xuXG4gICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCEkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSkge1xuICAgICAgICAkLmRhdGEoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsXG4gICAgICAgICAgbmV3IEFqYXhGb3JtKHRoaXMsIG5ldyBMb2FkaW5nTGF5ZXIodGhpcywgb3B0aW9ucyksIG5ldyBGb3JtVmFsaWRhdG9yKHRoaXMsIG9wdGlvbnMpLCBvcHRpb25zKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gICQoJ1tkYXRhLWFqYXgtZm9ybT1cInRydWVcIl0nKS5mb3JtU3VibWl0KCk7XG5cbiAgJChkb2N1bWVudCkub24oXCJkcmF3LmR0XCIsIChlKSA9PiB7XG4gICAgJChlLnRhcmdldCkuZmluZCgnW2RhdGEtYWpheC1mb3JtPVwidHJ1ZVwiXScpLmZvcm1TdWJtaXQoKTtcbiAgfSk7XG59KShqUXVlcnkpO1xuIl19","file":"ajax-form.min.js"}