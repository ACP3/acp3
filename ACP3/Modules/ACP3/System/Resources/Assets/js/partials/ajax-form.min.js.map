{"version":3,"sources":["ACP3/Modules/ACP3/System/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/utils.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/event-handler.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/ajax-form.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/loading-indicator.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/form-validator.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ajax-form.js"],"names":["_$utils_5","elementContainingScriptTags","ajaxScriptElement","getElementsByTagName","scriptElement","document","createElement","src","innerHTML","head","appendChild","mergeSettings","defaultSettings","constructorOptions","dataAttributeOptions","mergedSettings","key","value","Object","entries","keyStripped","string","replace","charAt","toLowerCase","slice","length","JSON","parse","_unused","element","eventName","selectorOrTargetElement","handler","addEventListener","event","elems","querySelectorAll","forEach","elem","contains","target","_classPrivateFieldLooseBase","receiver","privateKey","prototype","hasOwnProperty","call","TypeError","id","_classPrivateFieldLooseKey","name","_loadingIndicator","_formValidator","_defaults","_init","_registerClickedSubmitButton","_prepareFormData","_handleResponseError","_handleSuccessfulResponse","_disableSubmitButton","_enableSubmitButton","_decodeResponse","_redirectToNewPage","_scrollIntoView","_replaceContent","_init2","this","_$eventHandler_2","delegateEvent","async","preventDefault","performAjaxRequest","setFormAsValid","dispatchEvent","CustomEvent","detail","isValid","preValidateForm","checkFormElementsForErrors","_registerClickedSubmitButton2","submitElem","closest","dataset","clicked","_prepareFormData2","formElement","submitButton","initialData","customFormData","data","getAttribute","FormData","append","_handleResponseError2","response","targetElement","responseData","clone","text","status","handleFormErrorMessages","open","write","close","_handleSuccessfulResponse2","hash","window","completeCallback","redirect_url","location","_disableSubmitButton2","disabled","_enableSubmitButton2","_decodeResponse2","json","error","_redirectToNewPage2","href","reload","_scrollIntoView2","setTimeout","querySelector","concat","scrollTo","top","getBoundingClientRect","y","behavior","offsetTop","scrollTop","_replaceContent2","updatedContentData","doc","DOMParser","parseFromString","addScriptsToHead","_$ajaxForm_1","AjaxForm","[object Object]","loadingIndicator","formValidator","defineProperty","writable","loadingOverlay","method","_submitButton","HTMLFormElement","hashChange","addLoadingIndicator","showLoadingIndicator","_ref","_targetElement$getAtt","_targetElement$getAtt2","_mergedSettings$metho","toUpperCase","fetch","body","headers","X-Requested-With","ok","console","hideLoadingIndicator","show","_targetElement$queryS","classList","toggle","_$loadingIndicator_4","LoadingIndicator","_toggleLoadingIndicator","_toggleLoadingIndicator2","jsSvgIcons","svgIcons","insertAdjacentHTML","loadingIndicatorIcon","___classPrivateFieldLooseBase_4","___classPrivateFieldLooseBase_3","__id_3","___classPrivateFieldLooseKey_3","___defaults_3","_settings","_removeAllPreviousErrors","_removeErrorMessageFromFormField","_addErrorMessageToFormField","_focusTabWithFirstErrorMessage","_prettyPrintResponseErrorMessages","_scrollToFirstFormError","_isElementInViewport","_removeAllPreviousErrors2","invalidFormField","remove","_removeErrorMessageFromFormField2","formField","_formField$closest","_formField$closest$qu","_addErrorMessageToFormField2","errorMessage","add","_focusTabWithFirstErrorMessage2","firstElemWithError","tabId","click","focus","_prettyPrintResponseErrorMessages2","errorBox","errorMessageLine","errorClass","getElementById","_scrollToFirstFormError2","_formElement$closest","formErrors","item","scrollOffsetElement","clientHeight","_isElementInViewport2","rect","left","bottom","innerHeight","documentElement","right","innerWidth","clientWidth","_$formValidator_3","FormValidator","options","arguments","field","elements","nodeName","checkValidity","validationMessage","_formElement$formVali","errorMessagesHtml","_document$getElementB","modalBody"],"mappings":"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","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nexport function mergeSettings(defaultSettings, constructorOptions, dataAttributeOptions) {\n  const mergedSettings = { ...defaultSettings, ...constructorOptions };\n\n  if (!dataAttributeOptions) {\n    return mergedSettings;\n  }\n\n  for (let [key, value] of Object.entries(dataAttributeOptions)) {\n    const keyStripped = lowerCaseFirstLetter(key.replace(\"ajaxForm\", \"\"));\n\n    if (keyStripped.length > 0 && typeof mergedSettings[keyStripped] !== \"undefined\") {\n      try {\n        mergedSettings[keyStripped] = JSON.parse(value);\n      } catch {\n        mergedSettings[keyStripped] = value;\n      }\n    }\n  }\n\n  return mergedSettings;\n}\n\nfunction lowerCaseFirstLetter(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\n/**\n * This function add downloads javascript code (e.g. after XHR requests) to the HTML documents <head>, so that the\n * javascript code can actually get executed.\n *\n * @param {HTMLElement} elementContainingScriptTags\n */\nexport function addScriptsToHead(elementContainingScriptTags) {\n  for (const ajaxScriptElement of elementContainingScriptTags.getElementsByTagName(\"script\")) {\n    const scriptElement = document.createElement(\"script\");\n    if (!ajaxScriptElement.src) {\n      scriptElement.innerHTML = ajaxScriptElement.innerHTML;\n    } else {\n      scriptElement.src = ajaxScriptElement.src;\n    }\n    document.head.appendChild(scriptElement);\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENCE file at the top-level module directory for licencing details.\n */\n\n/**\n *\n * @param {HTMLElement|Document} element\n * @param {string} eventName\n * @param {string|HTMLElement} selectorOrTargetElement\n * @param {function} handler\n */\nexport function delegateEvent(element, eventName, selectorOrTargetElement, handler) {\n  element.addEventListener(eventName, (event) => {\n    if (typeof selectorOrTargetElement === \"string\") {\n      const elems = document.querySelectorAll(selectorOrTargetElement);\n\n      if (!elems) {\n        return;\n      }\n\n      elems.forEach((elem) => {\n        if (elem && elem.contains(event.target)) {\n          handler(event, elem);\n        }\n      });\n    } else if (selectorOrTargetElement && selectorOrTargetElement.contains(event.target)) {\n      handler(event, selectorOrTargetElement);\n    }\n  });\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nimport { addScriptsToHead, mergeSettings } from \"./utils\";\nimport { delegateEvent } from \"./event-handler\";\n\nexport class AjaxForm {\n  #loadingIndicator;\n  #formValidator;\n  #defaults = {\n    completeCallback: null,\n    targetElement: \"#content\",\n    loadingOverlay: true,\n    customFormData: null,\n    method: null,\n  };\n\n  /**\n   *\n   * @param {LoadingIndicator} loadingIndicator\n   * @param {FormValidator} formValidator\n   */\n  constructor(loadingIndicator, formValidator) {\n    this.#loadingIndicator = loadingIndicator;\n    this.#formValidator = formValidator;\n\n    this.#init();\n  }\n\n  #init() {\n    this.#registerClickedSubmitButton();\n\n    delegateEvent(document, \"click\", 'a[data-ajax-form=\"true\"]', async (event, elem) => {\n      event.preventDefault();\n\n      await this.performAjaxRequest(elem);\n    });\n\n    delegateEvent(document, \"submit\", 'form[data-ajax-form=\"true\"]', async (event, elem) => {\n      event.preventDefault();\n\n      this.#formValidator.setFormAsValid(elem);\n\n      document.dispatchEvent(new CustomEvent(\"acp3.ajaxFrom.submit.before\", { detail: this }));\n\n      if (this.#formValidator.isValid(elem) && this.#formValidator.preValidateForm(elem)) {\n        await this.performAjaxRequest(elem);\n      }\n    });\n\n    delegateEvent(document, \"change\", 'form[data-ajax-form=\"true\"]', async (event, elem) => {\n      if (this.#formValidator.isValid(elem) === false) {\n        this.#formValidator.checkFormElementsForErrors(elem);\n      }\n    });\n  }\n\n  #registerClickedSubmitButton() {\n    delegateEvent(document, \"click\", 'form[data-ajax-form=\"true\"] [type=\"submit\"]', (event, submitElem) => {\n      submitElem\n        .closest(\"form\")\n        .querySelectorAll(\"[type=submit]\")\n        .forEach((elem) => {\n          delete elem.dataset[\"clicked\"];\n        });\n      submitElem.dataset.clicked = \"true\";\n    });\n  }\n\n  /**\n   *\n   * @param {HTMLElement} targetElement\n   * @returns {Promise<void>}\n   */\n  async performAjaxRequest(targetElement) {\n    const mergedSettings = mergeSettings(this.#defaults, {}, targetElement.dataset);\n    let hash, submitButton;\n\n    if (targetElement instanceof HTMLFormElement) {\n      submitButton = targetElement.querySelector('[type=\"submit\"][data-clicked=\"true\"]');\n\n      hash = submitButton?.dataset.hashChange;\n    } else {\n      hash = targetElement.dataset.hashChange;\n    }\n\n    if (mergedSettings.loadingOverlay) {\n      this.#loadingIndicator.addLoadingIndicator(submitButton || targetElement);\n      this.#loadingIndicator.showLoadingIndicator(submitButton || targetElement);\n    }\n\n    this.#disableSubmitButton(submitButton);\n\n    try {\n      const method =\n        targetElement.getAttribute(\"method\")?.toUpperCase() ?? mergedSettings.method?.toUpperCase() ?? \"GET\";\n\n      const response = await fetch(targetElement.getAttribute(\"action\") || targetElement.getAttribute(\"href\"), {\n        method: method,\n        body: method !== \"GET\" ? this.#prepareFormData(targetElement, submitButton, mergedSettings) : null,\n        headers: {\n          \"X-Requested-With\": \"XMLHttpRequest\",\n        },\n      });\n\n      if (!response.ok) {\n        await this.#handleResponseError(response, targetElement);\n      } else {\n        await this.#handleSuccessfulResponse(response, hash, mergedSettings);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.#loadingIndicator.hideLoadingIndicator(submitButton || targetElement);\n      this.#enableSubmitButton(submitButton);\n    }\n  }\n\n  /**\n   *\n   * @param {HTMLFormElement} formElement\n   * @param {HTMLElement} submitButton\n   * @param {Record<string, any>} mergedSettings\n   * @returns {FormData}\n   */\n  #prepareFormData(formElement, submitButton, mergedSettings) {\n    const initialData = mergedSettings.customFormData || {};\n    let data;\n\n    if (formElement.getAttribute(\"method\")) {\n      data = new FormData(formElement);\n\n      if (submitButton) {\n        data.append(submitButton.getAttribute(\"name\"), \"1\");\n      }\n    } else {\n      data = new FormData();\n    }\n\n    for (let [key, value] of Object.entries(initialData)) {\n      data.append(key, value);\n    }\n\n    return data;\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @param {HTMLElement} targetElement\n   * @returns {Promise<void>}\n   */\n  async #handleResponseError(response, targetElement) {\n    const responseData = await response.clone().text();\n\n    if (response.status === 400) {\n      this.#formValidator.handleFormErrorMessages(targetElement, responseData);\n\n      document.dispatchEvent(new CustomEvent(\"acp3.ajaxFrom.submit.fail\", { detail: this }));\n    } else if (responseData.length > 0) {\n      document.open();\n      document.write(responseData);\n      document.close();\n    }\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @param {string} hash\n   * @param {Record<string, any>} mergedSettings\n   * @returns {Promise<void>}\n   */\n  async #handleSuccessfulResponse(response, hash, mergedSettings) {\n    const responseData = await this.#decodeResponse(response);\n\n    if (typeof window[mergedSettings.completeCallback] === \"function\") {\n      window[mergedSettings.completeCallback](responseData);\n    } else if (responseData.redirect_url) {\n      this.#redirectToNewPage(hash, responseData);\n    } else {\n      this.#replaceContent(hash, responseData, mergedSettings);\n      this.#scrollIntoView(hash, mergedSettings);\n\n      if (hash !== undefined) {\n        window.location.hash = hash;\n      }\n\n      document.dispatchEvent(new CustomEvent(\"acp3.ajaxFrom.complete\"));\n    }\n  }\n\n  /**\n   *\n   * @param {Element} submitButton\n   */\n  #disableSubmitButton(submitButton) {\n    if (submitButton) {\n      submitButton.disabled = true;\n    }\n  }\n\n  /**\n   *\n   * @param {Element} submitButton\n   */\n  #enableSubmitButton(submitButton) {\n    if (submitButton) {\n      submitButton.disabled = false;\n    }\n  }\n\n  /**\n   *\n   * @param {Response} response\n   * @returns {Promise<*>}\n   */\n  async #decodeResponse(response) {\n    try {\n      return await response.clone().json();\n    } catch (error) {\n      return await response.clone().text();\n    }\n  }\n\n  #redirectToNewPage(hash, responseData) {\n    if (hash !== undefined) {\n      window.location.href = responseData.redirect_url + hash;\n      window.location.reload();\n    } else {\n      window.location.href = responseData.redirect_url;\n    }\n  }\n\n  #scrollIntoView(hash, mergedSettings) {\n    setTimeout(() => {\n      if (hash) {\n        const targetElement = document.querySelector(`[data-hash-change=\"${hash}\"]`);\n\n        window.scrollTo({ top: targetElement.getBoundingClientRect().y, behavior: \"smooth\" });\n      } else {\n        const targetElement = document.querySelector(mergedSettings.targetElement);\n        const offsetTop = targetElement.getBoundingClientRect().y;\n\n        if (document.scrollTop > offsetTop) {\n          window.scrollTo({ top: offsetTop, behavior: \"smooth\" });\n        }\n      }\n    });\n  }\n\n  #replaceContent(hash, responseData, mergedSettings) {\n    let targetElement;\n    let updatedContentData;\n\n    if (hash && document.querySelector(hash)) {\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(responseData, \"text/html\");\n\n      targetElement = document.querySelector(hash);\n      updatedContentData = doc.querySelector(hash).innerHTML;\n    } else {\n      targetElement = document.querySelector(mergedSettings.targetElement);\n      updatedContentData = responseData;\n    }\n\n    targetElement.innerHTML = updatedContentData;\n    addScriptsToHead(targetElement);\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nexport class LoadingIndicator {\n  /**\n   *\n   * @param {HTMLElement} targetElement\n   */\n  addLoadingIndicator(targetElement) {\n    if (!targetElement.querySelector(\".loading-indicator\")) {\n      const body = document.querySelector(\"body\");\n      const jsSvgIcons = JSON.parse(body.dataset.svgIcons);\n\n      targetElement.insertAdjacentHTML(\"afterbegin\", jsSvgIcons[\"loadingIndicatorIcon\"]);\n    }\n  }\n\n  /**\n   *\n   * @param {HTMLElement} targetElement\n   */\n  showLoadingIndicator(targetElement) {\n    this.#toggleLoadingIndicator(targetElement, true);\n  }\n\n  /**\n   *\n   * @param {HTMLElement} targetElement\n   */\n  hideLoadingIndicator(targetElement) {\n    this.#toggleLoadingIndicator(targetElement, false);\n  }\n\n  /**\n   *\n   * @param {HTMLElement} targetElement\n   * @param {Boolean} show\n   */\n  #toggleLoadingIndicator(targetElement, show) {\n    targetElement.querySelector(\".loading-indicator\")?.classList.toggle(\"loading-indicator__active\", show);\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nimport { mergeSettings } from \"./utils\";\n\nexport class FormValidator {\n  #defaults = {\n    scrollOffsetElement: null,\n  };\n  #settings;\n\n  constructor(options = {}) {\n    this.#settings = mergeSettings(this.#defaults, options, {});\n  }\n\n  /**\n   *\n   * @param {HTMLFormElement} formElement\n   * @returns {boolean}\n   */\n  preValidateForm(formElement) {\n    this.checkFormElementsForErrors(formElement);\n    this.#focusTabWithFirstErrorMessage(formElement);\n    this.#scrollToFirstFormError(formElement);\n\n    return this.isValid(formElement);\n  }\n\n  /**\n   *\n   * @param {HTMLFormElement} formElement\n   */\n  checkFormElementsForErrors(formElement) {\n    this.#removeAllPreviousErrors(formElement);\n\n    for (const field of formElement.elements) {\n      if (field.nodeName !== \"INPUT\" && field.nodeName !== \"TEXTAREA\" && field.nodeName !== \"SELECT\") {\n        continue;\n      }\n\n      if (!field.checkValidity()) {\n        this.#addErrorMessageToFormField(field, field.validationMessage);\n\n        if (!formElement.formValidator) {\n          formElement.formValidator = {};\n        }\n\n        formElement.formValidator.isValid = false;\n      }\n    }\n  }\n\n  /**\n   * @param {HTMLFormElement} formElement\n   */\n  #removeAllPreviousErrors(formElement) {\n    formElement.querySelectorAll(\".is-invalid\").forEach((invalidFormField) => {\n      invalidFormField.classList.remove(\"is-invalid\");\n    });\n  }\n\n  /**\n   *\n   * @param {HTMLElement} formField\n   */\n  #removeErrorMessageFromFormField(formField) {\n    formField.closest(\"div\")?.querySelector(\".invalid-feedback\")?.remove();\n  }\n\n  /**\n   *\n   * @param {HTMLElement} formField\n   * @param {string} errorMessage\n   */\n  #addErrorMessageToFormField(formField, errorMessage) {\n    this.#removeErrorMessageFromFormField(formField);\n\n    formField.classList.add(\"is-invalid\");\n\n    formField\n      .closest(\"div:not(.input-group):not(.btn-group)\")\n      .insertAdjacentHTML(\"beforeend\", `<div class=\"invalid-feedback\">${errorMessage}</div>`);\n  }\n\n  /**\n   *\n   * @param {HTMLFormElement} formElement\n   */\n  #focusTabWithFirstErrorMessage(formElement) {\n    if (!formElement.querySelector(\".nav-tabs\")) {\n      return;\n    }\n\n    const firstElemWithError = formElement.querySelector(\".is-invalid\");\n\n    if (!firstElemWithError) {\n      return;\n    }\n\n    const tabId = firstElemWithError.closest(\".tab-pane\").getAttribute(\"id\");\n\n    formElement.querySelector('.nav-tabs a[href=\"#' + tabId + '\"]').click();\n\n    firstElemWithError.focus();\n  }\n\n  /**\n   *\n   * @param {HTMLFormElement} formElement\n   * @returns {boolean}\n   */\n  isValid(formElement) {\n    return !!formElement.formValidator?.isValid;\n  }\n\n  /**\n   *\n   * @param {HTMLFormElement} formElement\n   */\n  setFormAsValid(formElement) {\n    formElement.formValidator = {\n      isValid: true,\n    };\n  }\n\n  /**\n   *\n   * @param {HTMLElement} targetElement\n   * @param {string} errorMessagesHtml\n   */\n  handleFormErrorMessages(targetElement, errorMessagesHtml) {\n    if (!(targetElement instanceof HTMLFormElement)) {\n      return;\n    }\n\n    const modalBody = targetElement.querySelector(\".modal-body\");\n\n    // Remove the old - possible existing - error-box\n    document.getElementById(\"error-box\")?.remove();\n\n    // Place the error messages inside the modal body for a better styling\n    if (targetElement.closest(\".modal\") && modalBody) {\n      modalBody.insertAdjacentHTML(\"afterbegin\", errorMessagesHtml);\n    } else {\n      targetElement.insertAdjacentHTML(\"afterbegin\", errorMessagesHtml);\n    }\n\n    this.#prettyPrintResponseErrorMessages(targetElement, document.getElementById(\"error-box\"));\n  }\n\n  /**\n   *\n   * @param {HTMLFormElement} formElement\n   * @param {HTMLElement} errorBox\n   */\n  #prettyPrintResponseErrorMessages(formElement, errorBox) {\n    this.#removeAllPreviousErrors(formElement);\n\n    // highlight all input fields where the validation has failed\n    errorBox.querySelectorAll(\"li\").forEach((errorMessageLine) => {\n      let errorClass = errorMessageLine.dataset.element;\n\n      if (errorClass?.length > 0) {\n        let elem = document.getElementById(errorClass) || formElement.querySelector('[id|=\"' + errorClass + '\"]');\n\n        if (elem) {\n          // Move the error message to the responsible input field(s)\n          // and remove the list item from the error box container\n          this.#addErrorMessageToFormField(elem[0], errorMessageLine.innerHTML);\n          errorMessageLine.remove();\n        }\n      }\n    });\n\n    // if all list items have been removed, remove the error box container too\n    if (errorBox.querySelectorAll(\"li\").length === 0) {\n      errorBox.remove();\n    }\n\n    this.#focusTabWithFirstErrorMessage(formElement);\n    this.#scrollToFirstFormError(formElement);\n  }\n\n  /**\n   * @param {HTMLFormElement} formElement\n   */\n  #scrollToFirstFormError(formElement) {\n    if (formElement.closest(\".modal\")?.length > 0) {\n      return;\n    }\n\n    const formErrors = formElement.querySelectorAll(\".is-invalid\");\n\n    if (!formErrors || formErrors.length === 0) {\n      return;\n    }\n\n    if (this.#isElementInViewport(formElement.querySelector(\".invalid-feedback\"))) {\n      return;\n    }\n\n    let offsetTop = formErrors.item(0).getBoundingClientRect().top;\n\n    if (this.#settings.scrollOffsetElement) {\n      const scrollOffsetElement = document.querySelector(this.#settings.scrollOffsetElement);\n\n      if (scrollOffsetElement) {\n        offsetTop -= scrollOffsetElement.clientHeight;\n      }\n    }\n\n    window.scrollTo({ top: offsetTop, behavior: \"smooth\" });\n  }\n\n  #isElementInViewport(element) {\n    const scrollOffsetElement = document.querySelector(this.#settings.scrollOffsetElement);\n    let offsetTop = 0;\n\n    if (scrollOffsetElement) {\n      offsetTop = scrollOffsetElement.clientHeight;\n    }\n\n    const rect = element.getBoundingClientRect();\n\n    return (\n      rect.top >= offsetTop &&\n      rect.left >= 0 &&\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\nimport { AjaxForm } from \"../lib/ajax-form\";\nimport { LoadingIndicator } from \"../lib/loading-indicator\";\nimport { FormValidator } from \"../lib/form-validator\";\n\n(() => {\n  new AjaxForm(new LoadingIndicator(), new FormValidator());\n})();\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi91dGlscy5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9ldmVudC1oYW5kbGVyLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvbGliL2FqYXgtZm9ybS5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9sb2FkaW5nLWluZGljYXRvci5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9mb3JtLXZhbGlkYXRvci5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL3BhcnRpYWxzL2FqYXgtZm9ybS5qcyJdLCJuYW1lcyI6WyJfJHV0aWxzXzUiLCJlbGVtZW50Q29udGFpbmluZ1NjcmlwdFRhZ3MiLCJhamF4U2NyaXB0RWxlbWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2NyaXB0RWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImlubmVySFRNTCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsIm1lcmdlU2V0dGluZ3MiLCJkZWZhdWx0U2V0dGluZ3MiLCJjb25zdHJ1Y3Rvck9wdGlvbnMiLCJkYXRhQXR0cmlidXRlT3B0aW9ucyIsIm1lcmdlZFNldHRpbmdzIiwia2V5IiwidmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwia2V5U3RyaXBwZWQiLCJzdHJpbmciLCJyZXBsYWNlIiwiY2hhckF0IiwidG9Mb3dlckNhc2UiLCJzbGljZSIsImxlbmd0aCIsIkpTT04iLCJwYXJzZSIsIl91bnVzZWQiLCJlbGVtZW50IiwiZXZlbnROYW1lIiwic2VsZWN0b3JPclRhcmdldEVsZW1lbnQiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZWxlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsZW0iLCJjb250YWlucyIsInRhcmdldCIsIl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSIsInJlY2VpdmVyIiwicHJpdmF0ZUtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlR5cGVFcnJvciIsImlkIiwiX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkiLCJuYW1lIiwiX2xvYWRpbmdJbmRpY2F0b3IiLCJfZm9ybVZhbGlkYXRvciIsIl9kZWZhdWx0cyIsIl9pbml0IiwiX3JlZ2lzdGVyQ2xpY2tlZFN1Ym1pdEJ1dHRvbiIsIl9wcmVwYXJlRm9ybURhdGEiLCJfaGFuZGxlUmVzcG9uc2VFcnJvciIsIl9oYW5kbGVTdWNjZXNzZnVsUmVzcG9uc2UiLCJfZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl9lbmFibGVTdWJtaXRCdXR0b24iLCJfZGVjb2RlUmVzcG9uc2UiLCJfcmVkaXJlY3RUb05ld1BhZ2UiLCJfc2Nyb2xsSW50b1ZpZXciLCJfcmVwbGFjZUNvbnRlbnQiLCJfaW5pdDIiLCJ0aGlzIiwiXyRldmVudEhhbmRsZXJfMiIsImRlbGVnYXRlRXZlbnQiLCJhc3luYyIsInByZXZlbnREZWZhdWx0IiwicGVyZm9ybUFqYXhSZXF1ZXN0Iiwic2V0Rm9ybUFzVmFsaWQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJpc1ZhbGlkIiwicHJlVmFsaWRhdGVGb3JtIiwiY2hlY2tGb3JtRWxlbWVudHNGb3JFcnJvcnMiLCJfcmVnaXN0ZXJDbGlja2VkU3VibWl0QnV0dG9uMiIsInN1Ym1pdEVsZW0iLCJjbG9zZXN0IiwiZGF0YXNldCIsImNsaWNrZWQiLCJfcHJlcGFyZUZvcm1EYXRhMiIsImZvcm1FbGVtZW50Iiwic3VibWl0QnV0dG9uIiwiaW5pdGlhbERhdGEiLCJjdXN0b21Gb3JtRGF0YSIsImRhdGEiLCJnZXRBdHRyaWJ1dGUiLCJGb3JtRGF0YSIsImFwcGVuZCIsIl9oYW5kbGVSZXNwb25zZUVycm9yMiIsInJlc3BvbnNlIiwidGFyZ2V0RWxlbWVudCIsInJlc3BvbnNlRGF0YSIsImNsb25lIiwidGV4dCIsInN0YXR1cyIsImhhbmRsZUZvcm1FcnJvck1lc3NhZ2VzIiwib3BlbiIsIndyaXRlIiwiY2xvc2UiLCJfaGFuZGxlU3VjY2Vzc2Z1bFJlc3BvbnNlMiIsImhhc2giLCJ3aW5kb3ciLCJjb21wbGV0ZUNhbGxiYWNrIiwicmVkaXJlY3RfdXJsIiwibG9jYXRpb24iLCJfZGlzYWJsZVN1Ym1pdEJ1dHRvbjIiLCJkaXNhYmxlZCIsIl9lbmFibGVTdWJtaXRCdXR0b24yIiwiX2RlY29kZVJlc3BvbnNlMiIsImpzb24iLCJlcnJvciIsIl9yZWRpcmVjdFRvTmV3UGFnZTIiLCJocmVmIiwicmVsb2FkIiwiX3Njcm9sbEludG9WaWV3MiIsInNldFRpbWVvdXQiLCJxdWVyeVNlbGVjdG9yIiwiY29uY2F0Iiwic2Nyb2xsVG8iLCJ0b3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ5IiwiYmVoYXZpb3IiLCJvZmZzZXRUb3AiLCJzY3JvbGxUb3AiLCJfcmVwbGFjZUNvbnRlbnQyIiwidXBkYXRlZENvbnRlbnREYXRhIiwiZG9jIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiYWRkU2NyaXB0c1RvSGVhZCIsIl8kYWpheEZvcm1fMSIsIkFqYXhGb3JtIiwiW29iamVjdCBPYmplY3RdIiwibG9hZGluZ0luZGljYXRvciIsImZvcm1WYWxpZGF0b3IiLCJkZWZpbmVQcm9wZXJ0eSIsIndyaXRhYmxlIiwibG9hZGluZ092ZXJsYXkiLCJtZXRob2QiLCJfc3VibWl0QnV0dG9uIiwiSFRNTEZvcm1FbGVtZW50IiwiaGFzaENoYW5nZSIsImFkZExvYWRpbmdJbmRpY2F0b3IiLCJzaG93TG9hZGluZ0luZGljYXRvciIsIl9yZWYiLCJfdGFyZ2V0RWxlbWVudCRnZXRBdHQiLCJfdGFyZ2V0RWxlbWVudCRnZXRBdHQyIiwiX21lcmdlZFNldHRpbmdzJG1ldGhvIiwidG9VcHBlckNhc2UiLCJmZXRjaCIsImJvZHkiLCJoZWFkZXJzIiwiWC1SZXF1ZXN0ZWQtV2l0aCIsIm9rIiwiY29uc29sZSIsImhpZGVMb2FkaW5nSW5kaWNhdG9yIiwic2hvdyIsIl90YXJnZXRFbGVtZW50JHF1ZXJ5UyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl8kbG9hZGluZ0luZGljYXRvcl80IiwiTG9hZGluZ0luZGljYXRvciIsIl90b2dnbGVMb2FkaW5nSW5kaWNhdG9yIiwiX3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IyIiwianNTdmdJY29ucyIsInN2Z0ljb25zIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwibG9hZGluZ0luZGljYXRvckljb24iLCJfX19jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZV80IiwiX19fY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2VfMyIsIl9faWRfMyIsIl9fX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXlfMyIsIl9fX2RlZmF1bHRzXzMiLCJfc2V0dGluZ3MiLCJfcmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMiLCJfcmVtb3ZlRXJyb3JNZXNzYWdlRnJvbUZvcm1GaWVsZCIsIl9hZGRFcnJvck1lc3NhZ2VUb0Zvcm1GaWVsZCIsIl9mb2N1c1RhYldpdGhGaXJzdEVycm9yTWVzc2FnZSIsIl9wcmV0dHlQcmludFJlc3BvbnNlRXJyb3JNZXNzYWdlcyIsIl9zY3JvbGxUb0ZpcnN0Rm9ybUVycm9yIiwiX2lzRWxlbWVudEluVmlld3BvcnQiLCJfcmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMyIiwiaW52YWxpZEZvcm1GaWVsZCIsInJlbW92ZSIsIl9yZW1vdmVFcnJvck1lc3NhZ2VGcm9tRm9ybUZpZWxkMiIsImZvcm1GaWVsZCIsIl9mb3JtRmllbGQkY2xvc2VzdCIsIl9mb3JtRmllbGQkY2xvc2VzdCRxdSIsIl9hZGRFcnJvck1lc3NhZ2VUb0Zvcm1GaWVsZDIiLCJlcnJvck1lc3NhZ2UiLCJhZGQiLCJfZm9jdXNUYWJXaXRoRmlyc3RFcnJvck1lc3NhZ2UyIiwiZmlyc3RFbGVtV2l0aEVycm9yIiwidGFiSWQiLCJjbGljayIsImZvY3VzIiwiX3ByZXR0eVByaW50UmVzcG9uc2VFcnJvck1lc3NhZ2VzMiIsImVycm9yQm94IiwiZXJyb3JNZXNzYWdlTGluZSIsImVycm9yQ2xhc3MiLCJnZXRFbGVtZW50QnlJZCIsIl9zY3JvbGxUb0ZpcnN0Rm9ybUVycm9yMiIsIl9mb3JtRWxlbWVudCRjbG9zZXN0IiwiZm9ybUVycm9ycyIsIml0ZW0iLCJzY3JvbGxPZmZzZXRFbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwiX2lzRWxlbWVudEluVmlld3BvcnQyIiwicmVjdCIsImxlZnQiLCJib3R0b20iLCJpbm5lckhlaWdodCIsImRvY3VtZW50RWxlbWVudCIsInJpZ2h0IiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwiXyRmb3JtVmFsaWRhdG9yXzMiLCJGb3JtVmFsaWRhdG9yIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsImZpZWxkIiwiZWxlbWVudHMiLCJub2RlTmFtZSIsImNoZWNrVmFsaWRpdHkiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9mb3JtRWxlbWVudCRmb3JtVmFsaSIsImVycm9yTWVzc2FnZXNIdG1sIiwiX2RvY3VtZW50JGdldEVsZW1lbnRCIiwibW9kYWxCb2R5Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLElBQUFBLEVBQUEsdUVDb0NPLFNBQTBCQyxHQUMvQixJQUFLLE1BQU1DLEtBQXFCRCxFQUE0QkUscUJBQXFCLFVBQVcsQ0FDMUYsTUFBTUMsRUFBZ0JDLFNBQVNDLGNBQWMsVUFDeENKLEVBQWtCSyxJQUdyQkgsRUFBY0csSUFBTUwsRUFBa0JLLElBRnRDSCxFQUFjSSxVQUFZTixFQUFrQk0sVUFJOUNILFNBQVNJLEtBQUtDLFlBQVlOLEtBQUFKLEVBQUFXLGNBeEN2QixTQUF1QkMsRUFBaUJDLEVBQW9CQyxHQUNqRSxNQUFNQyxFQUFpQixJQUFLSCxLQUFvQkMsR0FFaEQsSUFBS0MsRUFDSCxPQUFPQyxFQUdULElBQUssSUFBS0MsRUFBS0MsS0FBVUMsT0FBT0MsUUFBUUwsR0FBdUIsQ0FDN0QsTUFBTU0sR0Fjb0JDLEVBZGVMLEVBQUlNLFFBQVEsV0FBWSxLQWVyREMsT0FBTyxHQUFHQyxjQUFnQkgsRUFBT0ksTUFBTSxHQWJuRCxHQUFJTCxFQUFZTSxPQUFTLFFBQUEsSUFBWVgsRUFBZUssR0FDbEQsSUFDRUwsRUFBZUssR0FBZU8sS0FBS0MsTUFBTVgsR0FDekMsTUFBQVksR0FDQWQsRUFBZUssR0FBZUgsR0FRdEMsSUFBOEJJLEVBSDVCLE9BQU9OLDZFQ1pGLFNBQXVCZSxFQUFTQyxFQUFXQyxFQUF5QkMsR0FDekVILEVBQVFJLGlCQUFpQkgsRUFBWUksSUFDbkMsR0FBdUMsaUJBQTVCSCxFQUFzQyxDQUMvQyxNQUFNSSxFQUFRL0IsU0FBU2dDLGlCQUFpQkwsR0FFeEMsSUFBS0ksRUFDSCxPQUdGQSxFQUFNRSxRQUFTQyxJQUNUQSxHQUFRQSxFQUFLQyxTQUFTTCxFQUFNTSxTQUM5QlIsRUFBUUUsRUFBT0ksVUFHVlAsR0FBMkJBLEVBQXdCUSxTQUFTTCxFQUFNTSxTQUMzRVIsRUFBUUUsRUFBT0gsZUNyQnJCLFNBQUFVLEVBQUFDLEVBQUFDLEdBQUEsSUFBQTFCLE9BQUEyQixVQUFBQyxlQUFBQyxLQUFBSixFQUFBQyxHQUFBLE1BQUEsSUFBQUksVUFBQSxrREFBQSxPQUFBTCxxRUFBQSxJQUFBTSxFQUFBLEVBQUEsU0FBQUMsRUFBQUMsR0FBQSxNQUFBLGFBQUFGLElBQUEsSUFBQUUsRUFBQSxJQUFBQyxFQUFBRixFQUFBLG9CQUFBRyxFQUFBSCxFQUFBLGlCQUFBSSxFQUFBSixFQUFBLFlBQUFLLEVBQUFMLEVBQUEsUUFBQU0sRUFBQU4sRUFBQSwrQkFBQU8sRUFBQVAsRUFBQSxtQkFBQVEsRUFBQVIsRUFBQSx1QkFBQVMsRUFBQVQsRUFBQSw0QkFBQVUsRUFBQVYsRUFBQSx1QkFBQVcsRUFBQVgsRUFBQSxzQkFBQVksRUFBQVosRUFBQSxrQkFBQWEsRUFBQWIsRUFBQSxxQkFBQWMsRUFBQWQsRUFBQSxrQkFBQWUsRUFBQWYsRUFBQSxrQkFBQSxTQUFBZ0IsSUEwQkl4QixFQUFBeUIsS0FBQVgsR0FBQUEsTUFBQSxFQUVBWSxFQUFBQyxlQUFjaEUsU0FBVSxRQUFTLDJCQUE0QmlFLE1BQU9uQyxFQUFPSSxLQUN6RUosRUFBTW9DLHVCQUVBSixLQUFLSyxtQkFBbUJqQyxNQUFBLEVBR2hDNkIsRUFBQUMsZUFBY2hFLFNBQVUsU0FBVSw4QkFBK0JpRSxNQUFPbkMsRUFBT0ksS0FDN0VKLEVBQU1vQyxpQkFFTjdCLEVBQUF5QixLQUFBZCxHQUFBQSxHQUFvQm9CLGVBQWVsQyxHQUVuQ2xDLFNBQVNxRSxjQUFjLElBQUlDLFlBQVksOEJBQStCLENBQUVDLE9BQVFULFFBRTVFekIsRUFBQXlCLEtBQUFkLEdBQUFBLEdBQW9Cd0IsUUFBUXRDLElBQVNHLEVBQUF5QixLQUFBZCxHQUFBQSxHQUFvQnlCLGdCQUFnQnZDLFVBQ3JFNEIsS0FBS0ssbUJBQW1CakMsTUFBQSxFQUlsQzZCLEVBQUFDLGVBQWNoRSxTQUFVLFNBQVUsOEJBQStCaUUsTUFBT25DLEVBQU9JLE1BQUEsSUFDekVHLEVBQUF5QixLQUFBZCxHQUFBQSxHQUFvQndCLFFBQVF0QyxJQUM5QkcsRUFBQXlCLEtBQUFkLEdBQUFBLEdBQW9CMEIsMkJBQTJCeEMsS0FBQSxTQUFBeUMsS0FBQSxFQU1uRFosRUFBQUMsZUFBY2hFLFNBQVUsUUFBUyw4Q0FBK0MsQ0FBQzhCLEVBQU84QyxLQUN0RkEsRUFDR0MsUUFBUSxRQUNSN0MsaUJBQWlCLGlCQUNqQkMsUUFBU0MsV0FDREEsRUFBSzRDLFFBQUxDLFVBRVhILEVBQVdFLFFBQVFDLFFBQVUsU0FBQSxTQUFBQyxFQTREaEJDLEVBQWFDLEVBQWN4RSxHQUMxQyxNQUFNeUUsRUFBY3pFLEVBQWUwRSxnQkFBa0IsR0FDckQsSUFBSUMsRUFFQUosRUFBWUssYUFBYSxXQUMzQkQsRUFBTyxJQUFJRSxTQUFTTixHQUVoQkMsR0FDRkcsRUFBS0csT0FBT04sRUFBYUksYUFBYSxRQUFTLE1BR2pERCxFQUFPLElBQUlFLFNBR2IsSUFBSyxJQUFLNUUsRUFBS0MsS0FBVUMsT0FBT0MsUUFBUXFFLEdBQ3RDRSxFQUFLRyxPQUFPN0UsRUFBS0MsR0FHbkIsT0FBT3lFLEVBQUFwQixlQUFBd0IsRUFTa0JDLEVBQVVDLEdBQ25DLE1BQU1DLFFBQXFCRixFQUFTRyxRQUFRQyxPQUVwQixNQUFwQkosRUFBU0ssUUFDWDFELEVBQUF5QixLQUFBZCxHQUFBQSxHQUFvQmdELHdCQUF3QkwsRUFBZUMsR0FFM0Q1RixTQUFTcUUsY0FBYyxJQUFJQyxZQUFZLDRCQUE2QixDQUFFQyxPQUFRVCxTQUNyRThCLEVBQWF2RSxPQUFTLElBQy9CckIsU0FBU2lHLE9BQ1RqRyxTQUFTa0csTUFBTU4sR0FDZjVGLFNBQVNtRyxTQUFBbEMsZUFBQW1DLEVBV21CVixFQUFVVyxFQUFNM0YsR0FDOUMsTUFBTWtGLFFBQWV2RCxFQUFNeUIsS0FBTkwsR0FBQUEsR0FBMkJpQyxHQUVPLG1CQUE1Q1ksT0FBTzVGLEVBQWU2RixrQkFDL0JELE9BQU81RixFQUFlNkYsa0JBQWtCWCxHQUMvQkEsRUFBYVksYUFDdEJuRSxFQUFBeUIsS0FBQUosR0FBQUEsR0FBd0IyQyxFQUFNVCxJQUU5QnZELEVBQUF5QixLQUFBRixHQUFBQSxHQUFxQnlDLEVBQU1ULEVBQWNsRixHQUN6QzJCLEVBQUF5QixLQUFBSCxHQUFBQSxHQUFxQjBDLEVBQU0zRixRQUFBLElBRXZCMkYsSUFDRkMsT0FBT0csU0FBU0osS0FBT0EsR0FHekJyRyxTQUFTcUUsY0FBYyxJQUFJQyxZQUFZLDRCQUFBLFNBQUFvQyxFQVF0QnhCLEdBQ2ZBLElBQ0ZBLEVBQWF5QixVQUFBLEdBQVcsU0FBQUMsRUFRUjFCLEdBQ2RBLElBQ0ZBLEVBQWF5QixVQUFBLEdBQVcxQyxlQUFBNEMsRUFTTm5CLEdBQ3BCLElBQ0UsYUFBYUEsRUFBU0csUUFBUWlCLE9BQzlCLE1BQU9DLEdBQ1AsYUFBYXJCLEVBQVNHLFFBQVFDLFFBQUEsU0FBQWtCLEVBSWZYLEVBQU1ULFFBQUEsSUFDbkJTLEdBQ0ZDLE9BQU9HLFNBQVNRLEtBQU9yQixFQUFhWSxhQUFlSCxFQUNuREMsT0FBT0csU0FBU1MsVUFFaEJaLE9BQU9HLFNBQVNRLEtBQU9yQixFQUFhWSxhQUFBLFNBQUFXLEVBSXhCZCxFQUFNM0YsR0FDcEIwRyxXQUFXLEtBQ1QsR0FBSWYsRUFBTSxDQUNSLE1BQU1WLEVBQWdCM0YsU0FBU3FILGNBQVQsc0JBQUFDLE9BQTZDakIsRUFBN0MsT0FFdEJDLE9BQU9pQixTQUFTLENBQUVDLElBQUs3QixFQUFjOEIsd0JBQXdCQyxFQUFHQyxTQUFVLGVBQ3JFLENBQ0wsTUFDTUMsRUFEZ0I1SCxTQUFTcUgsY0FBYzNHLEVBQWVpRixlQUM1QjhCLHdCQUF3QkMsRUFFcEQxSCxTQUFTNkgsVUFBWUQsR0FDdkJ0QixPQUFPaUIsU0FBUyxDQUFFQyxJQUFLSSxFQUFXRCxTQUFVLGNBQUEsU0FBQUcsRUFNcEN6QixFQUFNVCxFQUFjbEYsR0FDbEMsSUFBSWlGLEVBQ0FvQyxFQUVKLEdBQUkxQixHQUFRckcsU0FBU3FILGNBQWNoQixHQUFPLENBQ3hDLE1BQ00yQixHQUFBLElBRGFDLFdBQ0FDLGdCQUFnQnRDLEVBQWMsYUFFakRELEVBQWdCM0YsU0FBU3FILGNBQWNoQixHQUN2QzBCLEVBQXFCQyxFQUFJWCxjQUFjaEIsR0FBTWxHLGVBRTdDd0YsRUFBZ0IzRixTQUFTcUgsY0FBYzNHLEVBQWVpRixlQUN0RG9DLEVBQXFCbkMsRUFHdkJELEVBQWN4RixVQUFZNEgsR0FBQSxFQUMxQnBJLEVBQUF3SSxrQkFBaUJ4QyxHQUFBeUMsRUFBQUMsU0FyUWQsTUFnQkxDLFlBQVlDLEVBQWtCQyxHQUFlM0gsT0FBQTRILGVBQUEzRSxLQUFBRixFQUFBLENBQUFoRCxNQUFBa0gsSUFBQWpILE9BQUE0SCxlQUFBM0UsS0FBQUgsRUFBQSxDQUFBL0MsTUFBQXVHLElBQUF0RyxPQUFBNEgsZUFBQTNFLEtBQUFKLEVBQUEsQ0FBQTlDLE1BQUFvRyxJQUFBbkcsT0FBQTRILGVBQUEzRSxLQUFBTCxFQUFBLENBQUE3QyxNQUFBaUcsSUFBQWhHLE9BQUE0SCxlQUFBM0UsS0FBQU4sRUFBQSxDQUFBNUMsTUFBQWdHLElBQUEvRixPQUFBNEgsZUFBQTNFLEtBQUFQLEVBQUEsQ0FBQTNDLE1BQUE4RixJQUFBN0YsT0FBQTRILGVBQUEzRSxLQUFBUixFQUFBLENBQUExQyxNQUFBd0YsSUFBQXZGLE9BQUE0SCxlQUFBM0UsS0FBQVQsRUFBQSxDQUFBekMsTUFBQTZFLElBQUE1RSxPQUFBNEgsZUFBQTNFLEtBQUFWLEVBQUEsQ0FBQXhDLE1BQUFvRSxJQUFBbkUsT0FBQTRILGVBQUEzRSxLQUFBWCxFQUFBLENBQUF2QyxNQUFBK0QsSUFBQTlELE9BQUE0SCxlQUFBM0UsS0FBQVosRUFBQSxDQUFBdEMsTUFBQWlELElBQUFoRCxPQUFBNEgsZUFBQTNFLEtBQUFmLEVBQUEsQ0FBQTJGLFVBQUEsRUFBQTlILFdBQUEsSUFBQUMsT0FBQTRILGVBQUEzRSxLQUFBZCxFQUFBLENBQUEwRixVQUFBLEVBQUE5SCxXQUFBLElBQUFDLE9BQUE0SCxlQUFBM0UsS0FBQWIsRUFBQSxDQUFBeUYsVUFBQSxFQUFBOUgsTUFiakMsQ0FDVjJGLGlCQUFrQixLQUNsQlosY0FBZSxXQUNmZ0QsZ0JBQUEsRUFDQXZELGVBQWdCLEtBQ2hCd0QsT0FBUSxRQVNSdkcsRUFBQXlCLEtBQUFmLEdBQUFBLEdBQXlCd0YsRUFDekJsRyxFQUFBeUIsS0FBQWQsR0FBQUEsR0FBc0J3RixFQUV0Qm5HLEVBQUF5QixLQUFBWixHQUFBQSxLQWdEc0JvRix5QkFBQzNDLEdBQ3ZCLE1BQU1qRixHQUFBLEVBQWlCZixFQUFBVyxlQUFBK0IsRUFBY3lCLEtBQWRiLEdBQUFBLEdBQThCLEdBQUkwQyxFQUFjYixTQUN2RSxJQUFJdUIsRUFBTW5CLEVBRW9DLElBQUEyRCxFQUc1Q3hDLEVBSEVWLGFBQXlCbUQsZ0JBR3ZCLFFBQUFELEVBRkozRCxFQUFlUyxFQUFjMEIsY0FBYywrQ0FBQSxJQUV2Q3dCLE9BQUEsRUFBR0EsRUFBYy9ELFFBQVFpRSxXQUV0QnBELEVBQWNiLFFBQVFpRSxXQUczQnJJLEVBQWVpSSxpQkFDakJ0RyxFQUFBeUIsS0FBQWYsR0FBQUEsR0FBdUJpRyxvQkFBb0I5RCxHQUFnQlMsR0FDM0R0RCxFQUFBeUIsS0FBQWYsR0FBQUEsR0FBdUJrRyxxQkFBcUIvRCxHQUFnQlMsSUFHOUR0RCxFQUFBeUIsS0FBQVAsR0FBQUEsR0FBMEIyQixHQUUxQixJQUFJLElBQUFnRSxFQUFBQyxFQUFBQyxFQUFBQyxFQUNGLE1BQU1ULEVBQU0sUUFBQU0sRUFBQSxRQUFBQyxFQUFBLFFBQUFDLEVBQ1Z6RCxFQUFjTCxhQUFhLGlCQUFBLElBRGpCOEQsT0FBQSxFQUNWQSxFQUFzQ0UscUJBQUEsSUFENUJILEVBQUFBLEVBQUEsUUFBQUUsRUFDNkMzSSxFQUFla0ksY0FBQSxJQUQ1RFMsT0FBQSxFQUM2Q0EsRUFBdUJDLHFCQUFBLElBRHBFSixFQUFBQSxFQUNxRixNQUUzRnhELFFBQWlCNkQsTUFBTTVELEVBQWNMLGFBQWEsV0FBYUssRUFBY0wsYUFBYSxRQUFTLENBQ3ZHc0QsT0FBUUEsRUFDUlksS0FBaUIsUUFBWFosRUFBQXZHLEVBQW1CeUIsS0FBbkJWLEdBQUFBLEdBQXlDdUMsRUFBZVQsRUFBY3hFLEdBQWtCLEtBQzlGK0ksUUFBUyxDQUNQQyxtQkFBb0Isb0JBSW5CaEUsRUFBU2lFLFNBR1p0SCxFQUFNeUIsS0FBTlIsR0FBQUEsR0FBcUNvQyxFQUFVVyxFQUFNM0YsU0FGckQyQixFQUFNeUIsS0FBTlQsR0FBQUEsR0FBZ0NxQyxFQUFVQyxHQUk1QyxNQUFPb0IsR0FDUDZDLFFBQVE3QyxNQUFNQSxHQWxCaEIsUUFvQkUxRSxFQUFBeUIsS0FBQWYsR0FBQUEsR0FBdUI4RyxxQkFBcUIzRSxHQUFnQlMsR0FDNUR0RCxFQUFBeUIsS0FBQU4sR0FBQUEsR0FBeUIwQiw4U0M1RUxTLEVBQWVtRSxHQUFNLElBQUFDLEVBQzNDLFFBQUFBLEVBQUFwRSxFQUFjMEIsY0FBYyw2QkFBQSxJQUE1QjBDLEdBQUFBLEVBQW1EQyxVQUFVQyxPQUFPLDRCQUE2QkgsR0FBQUksRUFBQUMsaUJBcEM5RixNQUF1QjdCLGNBQUF6SCxPQUFBNEgsZUFBQTNFLEtBQUFzRyxFQUFBLENBQUF4SixNQUFBeUosSUFLNUIvQixvQkFBb0IzQyxHQUNsQixJQUFLQSxFQUFjMEIsY0FBYyxzQkFBdUIsQ0FDdEQsTUFBTW1DLEVBQU94SixTQUFTcUgsY0FBYyxRQUM5QmlELEVBQWFoSixLQUFLQyxNQUFNaUksRUFBSzFFLFFBQVF5RixVQUUzQzVFLEVBQWM2RSxtQkFBbUIsYUFBY0YsRUFBVUcsdUJBUTdEbkMscUJBQXFCM0MsR0FDbkIrRSxFQUFBNUcsS0FBQXNHLEdBQUFBLEdBQTZCekUsR0FBQSxHQU8vQjJDLHFCQUFxQjNDLEdBQ25CK0UsRUFBQTVHLEtBQUFzRyxHQUFBQSxHQUE2QnpFLEdBQUEsY0MzQmpDLFNBQUFnRixFQUFBckksRUFBQUMsR0FBQSxJQUFBMUIsT0FBQTJCLFVBQUFDLGVBQUFDLEtBQUFKLEVBQUFDLEdBQUEsTUFBQSxJQUFBSSxVQUFBLGtEQUFBLE9BQUFMLDBFQUFBLElBQUFzSSxFQUFBLEVBQUEsU0FBQUMsRUFBQS9ILEdBQUEsTUFBQSxhQUFBOEgsSUFBQSxJQUFBOUgsRUFBQSxJQUFBZ0ksRUFBQUQsRUFBQSxZQUFBRSxFQUFBRixFQUFBLFlBQUFHLEVBQUFILEVBQUEsMkJBQUFJLEVBQUFKLEVBQUEsbUNBQUFLLEVBQUFMLEVBQUEsOEJBQUFNLEVBQUFOLEVBQUEsaUNBQUFPLEVBQUFQLEVBQUEsb0NBQUFRLEVBQUFSLEVBQUEsMEJBQUFTLEVBQUFULEVBQUEsdUJBQUEsU0FBQVUsRUFvRDJCdEcsR0FDdkJBLEVBQVlqRCxpQkFBaUIsZUFBZUMsUUFBU3VKLElBQ25EQSxFQUFpQnhCLFVBQVV5QixPQUFPLGdCQUFBLFNBQUFDLEVBUUxDLEdBQVcsSUFBQUMsRUFBQUMsRUFDMUMsUUFBQUQsRUFBQUQsRUFBVTlHLFFBQVEsY0FBQSxJQUFsQitHLEdBQUEsUUFBQUMsRUFBQUQsRUFBMEJ2RSxjQUFjLDRCQUFBLElBQXhDd0UsR0FBQUEsRUFBOERKLFNBQUEsU0FBQUssRUFRcENILEVBQVdJLEdBQ3JDcEIsRUFBQTdHLEtBQUFtSCxHQUFBQSxHQUFzQ1UsR0FFdENBLEVBQVUzQixVQUFVZ0MsSUFBSSxjQUV4QkwsRUFDRzlHLFFBQVEseUNBQ1IyRixtQkFBbUIsWUFGdEIsaUNBQUFsRCxPQUVvRXlFLEVBRnBFLFdBQUEsU0FBQUUsRUFTNkJoSCxHQUM3QixJQUFLQSxFQUFZb0MsY0FBYyxhQUM3QixPQUdGLE1BQU02RSxFQUFxQmpILEVBQVlvQyxjQUFjLGVBRXJELElBQUs2RSxFQUNILE9BR0YsTUFBTUMsRUFBUUQsRUFBbUJySCxRQUFRLGFBQWFTLGFBQWEsTUFFbkVMLEVBQVlvQyxjQUFjLHNCQUF3QjhFLEVBQVEsTUFBTUMsUUFFaEVGLEVBQW1CRyxRQUFBLFNBQUFDLEVBb0RhckgsRUFBYXNILEdBQzdDNUIsRUFBQTdHLEtBQUFrSCxHQUFBQSxHQUE4Qi9GLEdBRzlCc0gsRUFBU3ZLLGlCQUFpQixNQUFNQyxRQUFTdUssSUFDdkMsSUFBSUMsRUFBYUQsRUFBaUIxSCxRQUFRckQsUUFFMUMsSUFBSSxNQUFBZ0wsT0FBQSxFQUFBQSxFQUFZcEwsUUFBUyxFQUFHLENBQzFCLElBQUlhLEVBQU9sQyxTQUFTME0sZUFBZUQsSUFBZXhILEVBQVlvQyxjQUFjLFNBQVdvRixFQUFhLE1BRWhHdkssSUFHRnlJLEVBQUE3RyxLQUFBb0gsR0FBQUEsR0FBaUNoSixFQUFLLEdBQUlzSyxFQUFpQnJNLFdBQzNEcU0sRUFBaUJmLGFBTXdCLElBQTNDYyxFQUFTdkssaUJBQWlCLE1BQU1YLFFBQ2xDa0wsRUFBU2QsU0FHWGQsRUFBQTdHLEtBQUFxSCxHQUFBQSxHQUFvQ2xHLEdBQ3BDMEYsRUFBQTdHLEtBQUF1SCxHQUFBQSxHQUE2QnBHLEdBQUEsU0FBQTBILEdBTVAxSCxHQUFhLElBQUEySCxFQUNuQyxJQUFJLFFBQUFBLEVBQUEzSCxFQUFZSixRQUFRLGlCQUFBLElBQXBCK0gsT0FBQSxFQUFBQSxFQUErQnZMLFFBQVMsRUFDMUMsT0FHRixNQUFNd0wsRUFBYTVILEVBQVlqRCxpQkFBaUIsZUFFaEQsSUFBSzZLLEdBQW9DLElBQXRCQSxFQUFXeEwsT0FDNUIsT0FHRixHQUFBc0osRUFBSTdHLEtBQUp3SCxHQUFBQSxHQUE4QnJHLEVBQVlvQyxjQUFjLHNCQUN0RCxPQUdGLElBQUlPLEVBQVlpRixFQUFXQyxLQUFLLEdBQUdyRix3QkFBd0JELElBRTNELEdBQUltRCxFQUFBN0csS0FBQWlILEdBQUFBLEdBQWVnQyxvQkFBcUIsQ0FDdEMsTUFBTUEsRUFBc0IvTSxTQUFTcUgsY0FBY3NELEVBQUE3RyxLQUFBaUgsR0FBQUEsR0FBZWdDLHFCQUU5REEsSUFDRm5GLEdBQWFtRixFQUFvQkMsY0FJckMxRyxPQUFPaUIsU0FBUyxDQUFFQyxJQUFLSSxFQUFXRCxTQUFVLFdBQUEsU0FBQXNGLEdBR3pCeEwsR0FDbkIsTUFBTXNMLEVBQXNCL00sU0FBU3FILGNBQWNzRCxFQUFBN0csS0FBQWlILEdBQUFBLEdBQWVnQyxxQkFDbEUsSUFBSW5GLEVBQVksRUFFWm1GLElBQ0ZuRixFQUFZbUYsRUFBb0JDLGNBR2xDLE1BQU1FLEVBQU96TCxFQUFRZ0csd0JBRXJCLE9BQ0V5RixFQUFLMUYsS0FBT0ksR0FDWnNGLEVBQUtDLE1BQVEsR0FDYkQsRUFBS0UsU0FBVzlHLE9BQU8rRyxhQUFlck4sU0FBU3NOLGdCQUFnQk4sZUFDL0RFLEVBQUtLLFFBQVVqSCxPQUFPa0gsWUFBY3hOLFNBQVNzTixnQkFBZ0JHLGFBQUFDLEVBQUFDLGNBL041RCxNQU1MckYsY0FBMEIsSUFBZHNGLEVBQWNDLFVBQUF4TSxPQUFBLFFBQUEsSUFBQXdNLFVBQUEsR0FBQUEsVUFBQSxHQUFKLEdBQUloTixPQUFBNEgsZUFBQTNFLEtBQUF3SCxFQUFBLENBQUExSyxNQUFBcU0sS0FBQXBNLE9BQUE0SCxlQUFBM0UsS0FBQXVILEVBQUEsQ0FBQXpLLE1BQUErTCxLQUFBOUwsT0FBQTRILGVBQUEzRSxLQUFBc0gsRUFBQSxDQUFBeEssTUFBQTBMLElBQUF6TCxPQUFBNEgsZUFBQTNFLEtBQUFxSCxFQUFBLENBQUF2SyxNQUFBcUwsSUFBQXBMLE9BQUE0SCxlQUFBM0UsS0FBQW9ILEVBQUEsQ0FBQXRLLE1BQUFrTCxJQUFBakwsT0FBQTRILGVBQUEzRSxLQUFBbUgsRUFBQSxDQUFBckssTUFBQThLLElBQUE3SyxPQUFBNEgsZUFBQTNFLEtBQUFrSCxFQUFBLENBQUFwSyxNQUFBMkssSUFBQTFLLE9BQUE0SCxlQUFBM0UsS0FBQWdILEVBQUEsQ0FBQXBDLFVBQUEsRUFBQTlILE1BTGQsQ0FDVm1NLG9CQUFxQixRQUlHbE0sT0FBQTRILGVBQUEzRSxLQUFBaUgsRUFBQSxDQUFBckMsVUFBQSxFQUFBOUgsV0FBQSxJQUN4QitKLEVBQUE3RyxLQUFBaUgsR0FBQUEsSUFBQSxFQUFpQnBMLEVBQUFXLGVBQUFxSyxFQUFjN0csS0FBZGdILEdBQUFBLEdBQThCOEMsRUFBUyxJQVExRHRGLGdCQUFnQnJELEdBS2QsT0FKQW5CLEtBQUtZLDJCQUEyQk8sR0FDaEMwRixFQUFBN0csS0FBQXFILEdBQUFBLEdBQW9DbEcsR0FDcEMwRixFQUFBN0csS0FBQXVILEdBQUFBLEdBQTZCcEcsR0FFdEJuQixLQUFLVSxRQUFRUyxHQU90QnFELDJCQUEyQnJELEdBQ3pCMEYsRUFBQTdHLEtBQUFrSCxHQUFBQSxHQUE4Qi9GLEdBRTlCLElBQUssTUFBTTZJLEtBQVM3SSxFQUFZOEksU0FDUCxVQUFuQkQsRUFBTUUsVUFBMkMsYUFBbkJGLEVBQU1FLFVBQThDLFdBQW5CRixFQUFNRSxVQUlwRUYsRUFBTUcsa0JBQ1R0RCxFQUFBN0csS0FBQW9ILEdBQUFBLEdBQWlDNEMsRUFBT0EsRUFBTUksbUJBRXpDakosRUFBWXVELGdCQUNmdkQsRUFBWXVELGNBQWdCLElBRzlCdkQsRUFBWXVELGNBQWNoRSxTQUFBLEdBZ0VoQzhELFFBQVFyRCxHQUFhLElBQUFrSixFQUNuQixRQUFRLFFBQUFBLEVBQUNsSixFQUFZdUQscUJBQUEsSUFBYjJGLElBQUNBLEVBQTJCM0osU0FPdEM4RCxlQUFlckQsR0FDYkEsRUFBWXVELGNBQWdCLENBQzFCaEUsU0FBQSxHQVNKOEQsd0JBQXdCM0MsRUFBZXlJLEdBQW1CLElBQUFDLEVBQ3hELEtBQU0xSSxhQUF5Qm1ELGlCQUM3QixPQUdGLE1BQU13RixFQUFZM0ksRUFBYzBCLGNBQWMsZUFHOUMsUUFBQWdILEVBQUFyTyxTQUFTME0sZUFBZSxvQkFBQSxJQUF4QjJCLEdBQUFBLEVBQXNDNUMsU0FHbEM5RixFQUFjZCxRQUFRLFdBQWF5SixFQUNyQ0EsRUFBVTlELG1CQUFtQixhQUFjNEQsR0FFM0N6SSxFQUFjNkUsbUJBQW1CLGFBQWM0RCxHQUdqRHpELEVBQUE3RyxLQUFBc0gsR0FBQUEsR0FBdUN6RixFQUFlM0YsU0FBUzBNLGVBQWUsZ0JDM0loRixJQUFJdEUsRUFBQUMsU0FBUyxJQUFJNkIsRUFBQUMsaUJBQW9CLElBQUl1RCxFQUFBQyxlTlYzQyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5zaW5nIGRldGFpbHMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU2V0dGluZ3MoZGVmYXVsdFNldHRpbmdzLCBjb25zdHJ1Y3Rvck9wdGlvbnMsIGRhdGFBdHRyaWJ1dGVPcHRpb25zKSB7XG4gIGNvbnN0IG1lcmdlZFNldHRpbmdzID0geyAuLi5kZWZhdWx0U2V0dGluZ3MsIC4uLmNvbnN0cnVjdG9yT3B0aW9ucyB9O1xuXG4gIGlmICghZGF0YUF0dHJpYnV0ZU9wdGlvbnMpIHtcbiAgICByZXR1cm4gbWVyZ2VkU2V0dGluZ3M7XG4gIH1cblxuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YUF0dHJpYnV0ZU9wdGlvbnMpKSB7XG4gICAgY29uc3Qga2V5U3RyaXBwZWQgPSBsb3dlckNhc2VGaXJzdExldHRlcihrZXkucmVwbGFjZShcImFqYXhGb3JtXCIsIFwiXCIpKTtcblxuICAgIGlmIChrZXlTdHJpcHBlZC5sZW5ndGggPiAwICYmIHR5cGVvZiBtZXJnZWRTZXR0aW5nc1trZXlTdHJpcHBlZF0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG1lcmdlZFNldHRpbmdzW2tleVN0cmlwcGVkXSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIG1lcmdlZFNldHRpbmdzW2tleVN0cmlwcGVkXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtZXJnZWRTZXR0aW5ncztcbn1cblxuZnVuY3Rpb24gbG93ZXJDYXNlRmlyc3RMZXR0ZXIoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhZGQgZG93bmxvYWRzIGphdmFzY3JpcHQgY29kZSAoZS5nLiBhZnRlciBYSFIgcmVxdWVzdHMpIHRvIHRoZSBIVE1MIGRvY3VtZW50cyA8aGVhZD4sIHNvIHRoYXQgdGhlXG4gKiBqYXZhc2NyaXB0IGNvZGUgY2FuIGFjdHVhbGx5IGdldCBleGVjdXRlZC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50Q29udGFpbmluZ1NjcmlwdFRhZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFNjcmlwdHNUb0hlYWQoZWxlbWVudENvbnRhaW5pbmdTY3JpcHRUYWdzKSB7XG4gIGZvciAoY29uc3QgYWpheFNjcmlwdEVsZW1lbnQgb2YgZWxlbWVudENvbnRhaW5pbmdTY3JpcHRUYWdzLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpKSB7XG4gICAgY29uc3Qgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgaWYgKCFhamF4U2NyaXB0RWxlbWVudC5zcmMpIHtcbiAgICAgIHNjcmlwdEVsZW1lbnQuaW5uZXJIVE1MID0gYWpheFNjcmlwdEVsZW1lbnQuaW5uZXJIVE1MO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JpcHRFbGVtZW50LnNyYyA9IGFqYXhTY3JpcHRFbGVtZW50LnNyYztcbiAgICB9XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHRFbGVtZW50KTtcbiAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5DRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5jaW5nIGRldGFpbHMuXG4gKi9cblxuLyoqXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudHxEb2N1bWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICogQHBhcmFtIHtzdHJpbmd8SFRNTEVsZW1lbnR9IHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxlZ2F0ZUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQsIGhhbmRsZXIpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGV2ZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWxlY3Rvck9yVGFyZ2V0RWxlbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yT3JUYXJnZXRFbGVtZW50KTtcblxuICAgICAgaWYgKCFlbGVtcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgaGFuZGxlcihldmVudCwgZWxlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0b3JPclRhcmdldEVsZW1lbnQgJiYgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgaGFuZGxlcihldmVudCwgc2VsZWN0b3JPclRhcmdldEVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbnNpbmcgZGV0YWlscy5cbiAqL1xuXG5pbXBvcnQgeyBhZGRTY3JpcHRzVG9IZWFkLCBtZXJnZVNldHRpbmdzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IGRlbGVnYXRlRXZlbnQgfSBmcm9tIFwiLi9ldmVudC1oYW5kbGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBBamF4Rm9ybSB7XG4gICNsb2FkaW5nSW5kaWNhdG9yO1xuICAjZm9ybVZhbGlkYXRvcjtcbiAgI2RlZmF1bHRzID0ge1xuICAgIGNvbXBsZXRlQ2FsbGJhY2s6IG51bGwsXG4gICAgdGFyZ2V0RWxlbWVudDogXCIjY29udGVudFwiLFxuICAgIGxvYWRpbmdPdmVybGF5OiB0cnVlLFxuICAgIGN1c3RvbUZvcm1EYXRhOiBudWxsLFxuICAgIG1ldGhvZDogbnVsbCxcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtMb2FkaW5nSW5kaWNhdG9yfSBsb2FkaW5nSW5kaWNhdG9yXG4gICAqIEBwYXJhbSB7Rm9ybVZhbGlkYXRvcn0gZm9ybVZhbGlkYXRvclxuICAgKi9cbiAgY29uc3RydWN0b3IobG9hZGluZ0luZGljYXRvciwgZm9ybVZhbGlkYXRvcikge1xuICAgIHRoaXMuI2xvYWRpbmdJbmRpY2F0b3IgPSBsb2FkaW5nSW5kaWNhdG9yO1xuICAgIHRoaXMuI2Zvcm1WYWxpZGF0b3IgPSBmb3JtVmFsaWRhdG9yO1xuXG4gICAgdGhpcy4jaW5pdCgpO1xuICB9XG5cbiAgI2luaXQoKSB7XG4gICAgdGhpcy4jcmVnaXN0ZXJDbGlja2VkU3VibWl0QnV0dG9uKCk7XG5cbiAgICBkZWxlZ2F0ZUV2ZW50KGRvY3VtZW50LCBcImNsaWNrXCIsICdhW2RhdGEtYWpheC1mb3JtPVwidHJ1ZVwiXScsIGFzeW5jIChldmVudCwgZWxlbSkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgYXdhaXQgdGhpcy5wZXJmb3JtQWpheFJlcXVlc3QoZWxlbSk7XG4gICAgfSk7XG5cbiAgICBkZWxlZ2F0ZUV2ZW50KGRvY3VtZW50LCBcInN1Ym1pdFwiLCAnZm9ybVtkYXRhLWFqYXgtZm9ybT1cInRydWVcIl0nLCBhc3luYyAoZXZlbnQsIGVsZW0pID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHRoaXMuI2Zvcm1WYWxpZGF0b3Iuc2V0Rm9ybUFzVmFsaWQoZWxlbSk7XG5cbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiYWNwMy5hamF4RnJvbS5zdWJtaXQuYmVmb3JlXCIsIHsgZGV0YWlsOiB0aGlzIH0pKTtcblxuICAgICAgaWYgKHRoaXMuI2Zvcm1WYWxpZGF0b3IuaXNWYWxpZChlbGVtKSAmJiB0aGlzLiNmb3JtVmFsaWRhdG9yLnByZVZhbGlkYXRlRm9ybShlbGVtKSkge1xuICAgICAgICBhd2FpdCB0aGlzLnBlcmZvcm1BamF4UmVxdWVzdChlbGVtKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlbGVnYXRlRXZlbnQoZG9jdW1lbnQsIFwiY2hhbmdlXCIsICdmb3JtW2RhdGEtYWpheC1mb3JtPVwidHJ1ZVwiXScsIGFzeW5jIChldmVudCwgZWxlbSkgPT4ge1xuICAgICAgaWYgKHRoaXMuI2Zvcm1WYWxpZGF0b3IuaXNWYWxpZChlbGVtKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy4jZm9ybVZhbGlkYXRvci5jaGVja0Zvcm1FbGVtZW50c0ZvckVycm9ycyhlbGVtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gICNyZWdpc3RlckNsaWNrZWRTdWJtaXRCdXR0b24oKSB7XG4gICAgZGVsZWdhdGVFdmVudChkb2N1bWVudCwgXCJjbGlja1wiLCAnZm9ybVtkYXRhLWFqYXgtZm9ybT1cInRydWVcIl0gW3R5cGU9XCJzdWJtaXRcIl0nLCAoZXZlbnQsIHN1Ym1pdEVsZW0pID0+IHtcbiAgICAgIHN1Ym1pdEVsZW1cbiAgICAgICAgLmNsb3Nlc3QoXCJmb3JtXCIpXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKFwiW3R5cGU9c3VibWl0XVwiKVxuICAgICAgICAuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICAgIGRlbGV0ZSBlbGVtLmRhdGFzZXRbXCJjbGlja2VkXCJdO1xuICAgICAgICB9KTtcbiAgICAgIHN1Ym1pdEVsZW0uZGF0YXNldC5jbGlja2VkID0gXCJ0cnVlXCI7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jIHBlcmZvcm1BamF4UmVxdWVzdCh0YXJnZXRFbGVtZW50KSB7XG4gICAgY29uc3QgbWVyZ2VkU2V0dGluZ3MgPSBtZXJnZVNldHRpbmdzKHRoaXMuI2RlZmF1bHRzLCB7fSwgdGFyZ2V0RWxlbWVudC5kYXRhc2V0KTtcbiAgICBsZXQgaGFzaCwgc3VibWl0QnV0dG9uO1xuXG4gICAgaWYgKHRhcmdldEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpIHtcbiAgICAgIHN1Ym1pdEJ1dHRvbiA9IHRhcmdldEVsZW1lbnQucXVlcnlTZWxlY3RvcignW3R5cGU9XCJzdWJtaXRcIl1bZGF0YS1jbGlja2VkPVwidHJ1ZVwiXScpO1xuXG4gICAgICBoYXNoID0gc3VibWl0QnV0dG9uPy5kYXRhc2V0Lmhhc2hDaGFuZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhc2ggPSB0YXJnZXRFbGVtZW50LmRhdGFzZXQuaGFzaENoYW5nZTtcbiAgICB9XG5cbiAgICBpZiAobWVyZ2VkU2V0dGluZ3MubG9hZGluZ092ZXJsYXkpIHtcbiAgICAgIHRoaXMuI2xvYWRpbmdJbmRpY2F0b3IuYWRkTG9hZGluZ0luZGljYXRvcihzdWJtaXRCdXR0b24gfHwgdGFyZ2V0RWxlbWVudCk7XG4gICAgICB0aGlzLiNsb2FkaW5nSW5kaWNhdG9yLnNob3dMb2FkaW5nSW5kaWNhdG9yKHN1Ym1pdEJ1dHRvbiB8fCB0YXJnZXRFbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLiNkaXNhYmxlU3VibWl0QnV0dG9uKHN1Ym1pdEJ1dHRvbik7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbWV0aG9kID1cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJtZXRob2RcIik/LnRvVXBwZXJDYXNlKCkgPz8gbWVyZ2VkU2V0dGluZ3MubWV0aG9kPy50b1VwcGVyQ2FzZSgpID8/IFwiR0VUXCI7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGFyZ2V0RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIikgfHwgdGFyZ2V0RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBtZXRob2QgIT09IFwiR0VUXCIgPyB0aGlzLiNwcmVwYXJlRm9ybURhdGEodGFyZ2V0RWxlbWVudCwgc3VibWl0QnV0dG9uLCBtZXJnZWRTZXR0aW5ncykgOiBudWxsLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJYLVJlcXVlc3RlZC1XaXRoXCI6IFwiWE1MSHR0cFJlcXVlc3RcIixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuI2hhbmRsZVJlc3BvbnNlRXJyb3IocmVzcG9uc2UsIHRhcmdldEVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlU3VjY2Vzc2Z1bFJlc3BvbnNlKHJlc3BvbnNlLCBoYXNoLCBtZXJnZWRTZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLiNsb2FkaW5nSW5kaWNhdG9yLmhpZGVMb2FkaW5nSW5kaWNhdG9yKHN1Ym1pdEJ1dHRvbiB8fCB0YXJnZXRFbGVtZW50KTtcbiAgICAgIHRoaXMuI2VuYWJsZVN1Ym1pdEJ1dHRvbihzdWJtaXRCdXR0b24pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudH0gZm9ybUVsZW1lbnRcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gc3VibWl0QnV0dG9uXG4gICAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55Pn0gbWVyZ2VkU2V0dGluZ3NcbiAgICogQHJldHVybnMge0Zvcm1EYXRhfVxuICAgKi9cbiAgI3ByZXBhcmVGb3JtRGF0YShmb3JtRWxlbWVudCwgc3VibWl0QnV0dG9uLCBtZXJnZWRTZXR0aW5ncykge1xuICAgIGNvbnN0IGluaXRpYWxEYXRhID0gbWVyZ2VkU2V0dGluZ3MuY3VzdG9tRm9ybURhdGEgfHwge307XG4gICAgbGV0IGRhdGE7XG5cbiAgICBpZiAoZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpKSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKGZvcm1FbGVtZW50KTtcblxuICAgICAgaWYgKHN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBkYXRhLmFwcGVuZChzdWJtaXRCdXR0b24uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSwgXCIxXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGluaXRpYWxEYXRhKSkge1xuICAgICAgZGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jICNoYW5kbGVSZXNwb25zZUVycm9yKHJlc3BvbnNlLCB0YXJnZXRFbGVtZW50KSB7XG4gICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS50ZXh0KCk7XG5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuI2Zvcm1WYWxpZGF0b3IuaGFuZGxlRm9ybUVycm9yTWVzc2FnZXModGFyZ2V0RWxlbWVudCwgcmVzcG9uc2VEYXRhKTtcblxuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJhY3AzLmFqYXhGcm9tLnN1Ym1pdC5mYWlsXCIsIHsgZGV0YWlsOiB0aGlzIH0pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBkb2N1bWVudC5vcGVuKCk7XG4gICAgICBkb2N1bWVudC53cml0ZShyZXNwb25zZURhdGEpO1xuICAgICAgZG9jdW1lbnQuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhhc2hcbiAgICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBtZXJnZWRTZXR0aW5nc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jICNoYW5kbGVTdWNjZXNzZnVsUmVzcG9uc2UocmVzcG9uc2UsIGhhc2gsIG1lcmdlZFNldHRpbmdzKSB7XG4gICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgdGhpcy4jZGVjb2RlUmVzcG9uc2UocmVzcG9uc2UpO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3dbbWVyZ2VkU2V0dGluZ3MuY29tcGxldGVDYWxsYmFja10gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgd2luZG93W21lcmdlZFNldHRpbmdzLmNvbXBsZXRlQ2FsbGJhY2tdKHJlc3BvbnNlRGF0YSk7XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEucmVkaXJlY3RfdXJsKSB7XG4gICAgICB0aGlzLiNyZWRpcmVjdFRvTmV3UGFnZShoYXNoLCByZXNwb25zZURhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNyZXBsYWNlQ29udGVudChoYXNoLCByZXNwb25zZURhdGEsIG1lcmdlZFNldHRpbmdzKTtcbiAgICAgIHRoaXMuI3Njcm9sbEludG9WaWV3KGhhc2gsIG1lcmdlZFNldHRpbmdzKTtcblxuICAgICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGhhc2g7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiYWNwMy5hamF4RnJvbS5jb21wbGV0ZVwiKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gc3VibWl0QnV0dG9uXG4gICAqL1xuICAjZGlzYWJsZVN1Ym1pdEJ1dHRvbihzdWJtaXRCdXR0b24pIHtcbiAgICBpZiAoc3VibWl0QnV0dG9uKSB7XG4gICAgICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHN1Ym1pdEJ1dHRvblxuICAgKi9cbiAgI2VuYWJsZVN1Ym1pdEJ1dHRvbihzdWJtaXRCdXR0b24pIHtcbiAgICBpZiAoc3VibWl0QnV0dG9uKSB7XG4gICAgICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHJldHVybnMge1Byb21pc2U8Kj59XG4gICAqL1xuICBhc3luYyAjZGVjb2RlUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmNsb25lKCkuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS50ZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgI3JlZGlyZWN0VG9OZXdQYWdlKGhhc2gsIHJlc3BvbnNlRGF0YSkge1xuICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzcG9uc2VEYXRhLnJlZGlyZWN0X3VybCArIGhhc2g7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzcG9uc2VEYXRhLnJlZGlyZWN0X3VybDtcbiAgICB9XG4gIH1cblxuICAjc2Nyb2xsSW50b1ZpZXcoaGFzaCwgbWVyZ2VkU2V0dGluZ3MpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChoYXNoKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1oYXNoLWNoYW5nZT1cIiR7aGFzaH1cIl1gKTtcblxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IHRhcmdldEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSwgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtZXJnZWRTZXR0aW5ncy50YXJnZXRFbGVtZW50KTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0VG9wID0gdGFyZ2V0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55O1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5zY3JvbGxUb3AgPiBvZmZzZXRUb3ApIHtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IG9mZnNldFRvcCwgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gICNyZXBsYWNlQ29udGVudChoYXNoLCByZXNwb25zZURhdGEsIG1lcmdlZFNldHRpbmdzKSB7XG4gICAgbGV0IHRhcmdldEVsZW1lbnQ7XG4gICAgbGV0IHVwZGF0ZWRDb250ZW50RGF0YTtcblxuICAgIGlmIChoYXNoICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaGFzaCkpIHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcocmVzcG9uc2VEYXRhLCBcInRleHQvaHRtbFwiKTtcblxuICAgICAgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaGFzaCk7XG4gICAgICB1cGRhdGVkQ29udGVudERhdGEgPSBkb2MucXVlcnlTZWxlY3RvcihoYXNoKS5pbm5lckhUTUw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1lcmdlZFNldHRpbmdzLnRhcmdldEVsZW1lbnQpO1xuICAgICAgdXBkYXRlZENvbnRlbnREYXRhID0gcmVzcG9uc2VEYXRhO1xuICAgIH1cblxuICAgIHRhcmdldEVsZW1lbnQuaW5uZXJIVE1MID0gdXBkYXRlZENvbnRlbnREYXRhO1xuICAgIGFkZFNjcmlwdHNUb0hlYWQodGFyZ2V0RWxlbWVudCk7XG4gIH1cbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIGJ5IHRoZSBBQ1AzIERldmVsb3BlcnMuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBhdCB0aGUgdG9wLWxldmVsIG1vZHVsZSBkaXJlY3RvcnkgZm9yIGxpY2Vuc2luZyBkZXRhaWxzLlxuICovXG5cbmV4cG9ydCBjbGFzcyBMb2FkaW5nSW5kaWNhdG9yIHtcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldEVsZW1lbnRcbiAgICovXG4gIGFkZExvYWRpbmdJbmRpY2F0b3IodGFyZ2V0RWxlbWVudCkge1xuICAgIGlmICghdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctaW5kaWNhdG9yXCIpKSB7XG4gICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG4gICAgICBjb25zdCBqc1N2Z0ljb25zID0gSlNPTi5wYXJzZShib2R5LmRhdGFzZXQuc3ZnSWNvbnMpO1xuXG4gICAgICB0YXJnZXRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTChcImFmdGVyYmVnaW5cIiwganNTdmdJY29uc1tcImxvYWRpbmdJbmRpY2F0b3JJY29uXCJdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuICAgKi9cbiAgc2hvd0xvYWRpbmdJbmRpY2F0b3IodGFyZ2V0RWxlbWVudCkge1xuICAgIHRoaXMuI3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IodGFyZ2V0RWxlbWVudCwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuICAgKi9cbiAgaGlkZUxvYWRpbmdJbmRpY2F0b3IodGFyZ2V0RWxlbWVudCkge1xuICAgIHRoaXMuI3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IodGFyZ2V0RWxlbWVudCwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldEVsZW1lbnRcbiAgICogQHBhcmFtIHtCb29sZWFufSBzaG93XG4gICAqL1xuICAjdG9nZ2xlTG9hZGluZ0luZGljYXRvcih0YXJnZXRFbGVtZW50LCBzaG93KSB7XG4gICAgdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctaW5kaWNhdG9yXCIpPy5jbGFzc0xpc3QudG9nZ2xlKFwibG9hZGluZy1pbmRpY2F0b3JfX2FjdGl2ZVwiLCBzaG93KTtcbiAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5zaW5nIGRldGFpbHMuXG4gKi9cblxuaW1wb3J0IHsgbWVyZ2VTZXR0aW5ncyB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgI2RlZmF1bHRzID0ge1xuICAgIHNjcm9sbE9mZnNldEVsZW1lbnQ6IG51bGwsXG4gIH07XG4gICNzZXR0aW5ncztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLiNzZXR0aW5ncyA9IG1lcmdlU2V0dGluZ3ModGhpcy4jZGVmYXVsdHMsIG9wdGlvbnMsIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudH0gZm9ybUVsZW1lbnRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBwcmVWYWxpZGF0ZUZvcm0oZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLmNoZWNrRm9ybUVsZW1lbnRzRm9yRXJyb3JzKGZvcm1FbGVtZW50KTtcbiAgICB0aGlzLiNmb2N1c1RhYldpdGhGaXJzdEVycm9yTWVzc2FnZShmb3JtRWxlbWVudCk7XG4gICAgdGhpcy4jc2Nyb2xsVG9GaXJzdEZvcm1FcnJvcihmb3JtRWxlbWVudCk7XG5cbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKGZvcm1FbGVtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudH0gZm9ybUVsZW1lbnRcbiAgICovXG4gIGNoZWNrRm9ybUVsZW1lbnRzRm9yRXJyb3JzKGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy4jcmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMoZm9ybUVsZW1lbnQpO1xuXG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBmb3JtRWxlbWVudC5lbGVtZW50cykge1xuICAgICAgaWYgKGZpZWxkLm5vZGVOYW1lICE9PSBcIklOUFVUXCIgJiYgZmllbGQubm9kZU5hbWUgIT09IFwiVEVYVEFSRUFcIiAmJiBmaWVsZC5ub2RlTmFtZSAhPT0gXCJTRUxFQ1RcIikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFmaWVsZC5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgICAgdGhpcy4jYWRkRXJyb3JNZXNzYWdlVG9Gb3JtRmllbGQoZmllbGQsIGZpZWxkLnZhbGlkYXRpb25NZXNzYWdlKTtcblxuICAgICAgICBpZiAoIWZvcm1FbGVtZW50LmZvcm1WYWxpZGF0b3IpIHtcbiAgICAgICAgICBmb3JtRWxlbWVudC5mb3JtVmFsaWRhdG9yID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtRWxlbWVudC5mb3JtVmFsaWRhdG9yLmlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR9IGZvcm1FbGVtZW50XG4gICAqL1xuICAjcmVtb3ZlQWxsUHJldmlvdXNFcnJvcnMoZm9ybUVsZW1lbnQpIHtcbiAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmlzLWludmFsaWRcIikuZm9yRWFjaCgoaW52YWxpZEZvcm1GaWVsZCkgPT4ge1xuICAgICAgaW52YWxpZEZvcm1GaWVsZC5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtaW52YWxpZFwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmb3JtRmllbGRcbiAgICovXG4gICNyZW1vdmVFcnJvck1lc3NhZ2VGcm9tRm9ybUZpZWxkKGZvcm1GaWVsZCkge1xuICAgIGZvcm1GaWVsZC5jbG9zZXN0KFwiZGl2XCIpPy5xdWVyeVNlbGVjdG9yKFwiLmludmFsaWQtZmVlZGJhY2tcIik/LnJlbW92ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGZvcm1GaWVsZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXJyb3JNZXNzYWdlXG4gICAqL1xuICAjYWRkRXJyb3JNZXNzYWdlVG9Gb3JtRmllbGQoZm9ybUZpZWxkLCBlcnJvck1lc3NhZ2UpIHtcbiAgICB0aGlzLiNyZW1vdmVFcnJvck1lc3NhZ2VGcm9tRm9ybUZpZWxkKGZvcm1GaWVsZCk7XG5cbiAgICBmb3JtRmllbGQuY2xhc3NMaXN0LmFkZChcImlzLWludmFsaWRcIik7XG5cbiAgICBmb3JtRmllbGRcbiAgICAgIC5jbG9zZXN0KFwiZGl2Om5vdCguaW5wdXQtZ3JvdXApOm5vdCguYnRuLWdyb3VwKVwiKVxuICAgICAgLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBgPGRpdiBjbGFzcz1cImludmFsaWQtZmVlZGJhY2tcIj4ke2Vycm9yTWVzc2FnZX08L2Rpdj5gKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudH0gZm9ybUVsZW1lbnRcbiAgICovXG4gICNmb2N1c1RhYldpdGhGaXJzdEVycm9yTWVzc2FnZShmb3JtRWxlbWVudCkge1xuICAgIGlmICghZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXYtdGFic1wiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZpcnN0RWxlbVdpdGhFcnJvciA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaXMtaW52YWxpZFwiKTtcblxuICAgIGlmICghZmlyc3RFbGVtV2l0aEVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGFiSWQgPSBmaXJzdEVsZW1XaXRoRXJyb3IuY2xvc2VzdChcIi50YWItcGFuZVwiKS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcblxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYklkICsgJ1wiXScpLmNsaWNrKCk7XG5cbiAgICBmaXJzdEVsZW1XaXRoRXJyb3IuZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudH0gZm9ybUVsZW1lbnRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc1ZhbGlkKGZvcm1FbGVtZW50KSB7XG4gICAgcmV0dXJuICEhZm9ybUVsZW1lbnQuZm9ybVZhbGlkYXRvcj8uaXNWYWxpZDtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudH0gZm9ybUVsZW1lbnRcbiAgICovXG4gIHNldEZvcm1Bc1ZhbGlkKGZvcm1FbGVtZW50KSB7XG4gICAgZm9ybUVsZW1lbnQuZm9ybVZhbGlkYXRvciA9IHtcbiAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRFbGVtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvck1lc3NhZ2VzSHRtbFxuICAgKi9cbiAgaGFuZGxlRm9ybUVycm9yTWVzc2FnZXModGFyZ2V0RWxlbWVudCwgZXJyb3JNZXNzYWdlc0h0bWwpIHtcbiAgICBpZiAoISh0YXJnZXRFbGVtZW50IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1vZGFsQm9keSA9IHRhcmdldEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1ib2R5XCIpO1xuXG4gICAgLy8gUmVtb3ZlIHRoZSBvbGQgLSBwb3NzaWJsZSBleGlzdGluZyAtIGVycm9yLWJveFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3ItYm94XCIpPy5yZW1vdmUoKTtcblxuICAgIC8vIFBsYWNlIHRoZSBlcnJvciBtZXNzYWdlcyBpbnNpZGUgdGhlIG1vZGFsIGJvZHkgZm9yIGEgYmV0dGVyIHN0eWxpbmdcbiAgICBpZiAodGFyZ2V0RWxlbWVudC5jbG9zZXN0KFwiLm1vZGFsXCIpICYmIG1vZGFsQm9keSkge1xuICAgICAgbW9kYWxCb2R5Lmluc2VydEFkamFjZW50SFRNTChcImFmdGVyYmVnaW5cIiwgZXJyb3JNZXNzYWdlc0h0bWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTChcImFmdGVyYmVnaW5cIiwgZXJyb3JNZXNzYWdlc0h0bWwpO1xuICAgIH1cblxuICAgIHRoaXMuI3ByZXR0eVByaW50UmVzcG9uc2VFcnJvck1lc3NhZ2VzKHRhcmdldEVsZW1lbnQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3ItYm94XCIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudH0gZm9ybUVsZW1lbnRcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZXJyb3JCb3hcbiAgICovXG4gICNwcmV0dHlQcmludFJlc3BvbnNlRXJyb3JNZXNzYWdlcyhmb3JtRWxlbWVudCwgZXJyb3JCb3gpIHtcbiAgICB0aGlzLiNyZW1vdmVBbGxQcmV2aW91c0Vycm9ycyhmb3JtRWxlbWVudCk7XG5cbiAgICAvLyBoaWdobGlnaHQgYWxsIGlucHV0IGZpZWxkcyB3aGVyZSB0aGUgdmFsaWRhdGlvbiBoYXMgZmFpbGVkXG4gICAgZXJyb3JCb3gucXVlcnlTZWxlY3RvckFsbChcImxpXCIpLmZvckVhY2goKGVycm9yTWVzc2FnZUxpbmUpID0+IHtcbiAgICAgIGxldCBlcnJvckNsYXNzID0gZXJyb3JNZXNzYWdlTGluZS5kYXRhc2V0LmVsZW1lbnQ7XG5cbiAgICAgIGlmIChlcnJvckNsYXNzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDbGFzcykgfHwgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcignW2lkfD1cIicgKyBlcnJvckNsYXNzICsgJ1wiXScpO1xuXG4gICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgLy8gTW92ZSB0aGUgZXJyb3IgbWVzc2FnZSB0byB0aGUgcmVzcG9uc2libGUgaW5wdXQgZmllbGQocylcbiAgICAgICAgICAvLyBhbmQgcmVtb3ZlIHRoZSBsaXN0IGl0ZW0gZnJvbSB0aGUgZXJyb3IgYm94IGNvbnRhaW5lclxuICAgICAgICAgIHRoaXMuI2FkZEVycm9yTWVzc2FnZVRvRm9ybUZpZWxkKGVsZW1bMF0sIGVycm9yTWVzc2FnZUxpbmUuaW5uZXJIVE1MKTtcbiAgICAgICAgICBlcnJvck1lc3NhZ2VMaW5lLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBpZiBhbGwgbGlzdCBpdGVtcyBoYXZlIGJlZW4gcmVtb3ZlZCwgcmVtb3ZlIHRoZSBlcnJvciBib3ggY29udGFpbmVyIHRvb1xuICAgIGlmIChlcnJvckJveC5xdWVyeVNlbGVjdG9yQWxsKFwibGlcIikubGVuZ3RoID09PSAwKSB7XG4gICAgICBlcnJvckJveC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLiNmb2N1c1RhYldpdGhGaXJzdEVycm9yTWVzc2FnZShmb3JtRWxlbWVudCk7XG4gICAgdGhpcy4jc2Nyb2xsVG9GaXJzdEZvcm1FcnJvcihmb3JtRWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR9IGZvcm1FbGVtZW50XG4gICAqL1xuICAjc2Nyb2xsVG9GaXJzdEZvcm1FcnJvcihmb3JtRWxlbWVudCkge1xuICAgIGlmIChmb3JtRWxlbWVudC5jbG9zZXN0KFwiLm1vZGFsXCIpPy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZm9ybUVycm9ycyA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaXMtaW52YWxpZFwiKTtcblxuICAgIGlmICghZm9ybUVycm9ycyB8fCBmb3JtRXJyb3JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLiNpc0VsZW1lbnRJblZpZXdwb3J0KGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW52YWxpZC1mZWVkYmFja1wiKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgb2Zmc2V0VG9wID0gZm9ybUVycm9ycy5pdGVtKDApLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblxuICAgIGlmICh0aGlzLiNzZXR0aW5ncy5zY3JvbGxPZmZzZXRFbGVtZW50KSB7XG4gICAgICBjb25zdCBzY3JvbGxPZmZzZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNzZXR0aW5ncy5zY3JvbGxPZmZzZXRFbGVtZW50KTtcblxuICAgICAgaWYgKHNjcm9sbE9mZnNldEVsZW1lbnQpIHtcbiAgICAgICAgb2Zmc2V0VG9wIC09IHNjcm9sbE9mZnNldEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogb2Zmc2V0VG9wLCBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KTtcbiAgfVxuXG4gICNpc0VsZW1lbnRJblZpZXdwb3J0KGVsZW1lbnQpIHtcbiAgICBjb25zdCBzY3JvbGxPZmZzZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNzZXR0aW5ncy5zY3JvbGxPZmZzZXRFbGVtZW50KTtcbiAgICBsZXQgb2Zmc2V0VG9wID0gMDtcblxuICAgIGlmIChzY3JvbGxPZmZzZXRFbGVtZW50KSB7XG4gICAgICBvZmZzZXRUb3AgPSBzY3JvbGxPZmZzZXRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICB9XG5cbiAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiAoXG4gICAgICByZWN0LnRvcCA+PSBvZmZzZXRUb3AgJiZcbiAgICAgIHJlY3QubGVmdCA+PSAwICYmXG4gICAgICByZWN0LmJvdHRvbSA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICYmXG4gICAgICByZWN0LnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXG4gICAgKTtcbiAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5jaW5nIGRldGFpbHMuXG4gKi9cblxuaW1wb3J0IHsgQWpheEZvcm0gfSBmcm9tIFwiLi4vbGliL2FqYXgtZm9ybVwiO1xuaW1wb3J0IHsgTG9hZGluZ0luZGljYXRvciB9IGZyb20gXCIuLi9saWIvbG9hZGluZy1pbmRpY2F0b3JcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vbGliL2Zvcm0tdmFsaWRhdG9yXCI7XG5cbigoKSA9PiB7XG4gIG5ldyBBamF4Rm9ybShuZXcgTG9hZGluZ0luZGljYXRvcigpLCBuZXcgRm9ybVZhbGlkYXRvcigpKTtcbn0pKCk7XG4iXX0=","file":"ajax-form.min.js"}