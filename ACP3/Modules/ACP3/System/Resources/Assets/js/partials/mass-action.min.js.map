{"version":3,"sources":["ACP3/Modules/ACP3/System/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/mass-action.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/partials/mass-action.js"],"names":["_$massAction_1","markAllRowsCheckboxElem","action","jQuery","closest","find","trigger","highlightTableRow","massActionBarElem","$markAllCheckbox","$table","checkboxName","data","on","event","target","type","nodeName","rowCheckbox","this","querySelector","concat","checked","classList","add","cssClassName","toggle","setMarkAllCheckboxState","document","deleteMarkedResults","elem","options","$this","settings","_objectSpread","checkBoxName","language","confirmationTextSingle","confirmationTextMultiple","noEntriesSelectedText","bootboxLocale","e","preventDefault","$selectedMassActionCheckboxes","length","confirmationText","replace","bootbox","confirm","message","locale","callback","result","$form","formSubmit","customFormData","triggerHandler","alert","$tbody","visibleSelectedTableRows","visibleMassActionCheckboxes","indeterminate","querySelectorAll","forEach","element","tableIdentifier","id","massActionBar","getElementById","addEventListener","highlightAllTableRows","JSON","parse","dataset","deleteOptions"],"mappings":"CAAA,WACA,IAAAA,EAAA,mwBCYO,SAA+BC,EAAyBC,GAC7DC,OAAOF,GAAyBG,QAAQ,SAASC,KAAK,gCAAgCC,QAAQ,QAAS,CAACJ,KAAAF,EAAAO,kBASnG,SAA2BN,EAAyBO,GACzD,IAAMC,EAAmBN,OAAOF,GAC9BS,EAASD,EAAiBL,QAAQ,SAClCO,EAAeF,EAAiBG,KAAK,iBAEvCF,EAAOG,GAAG,QAAS,wBAAwB,SAAUC,EAAOZ,GAC1D,GAA0B,aAAtBY,EAAMC,OAAOC,KAAqB,CACpC,GAA8B,MAA1BF,EAAMC,OAAOE,UAAoBH,EAAMC,OAAOX,QAAQ,KACxD,OAGF,IAAMc,EAAcC,KAAKC,cAAL,eAAAC,OAAkCV,EAAlC,SACpBO,EAAYI,SAAWJ,EAAYI,SAAsB,QAAXpB,EAGjC,QAAXA,EACFiB,KAAKI,UAAUC,IAAIC,GAEnBN,KAAKI,UAAUG,OAAOD,GAGxBE,EAAwB1B,EAAyBU,EAAcH,MAGjEL,OAAOyB,UAAUf,GAAG,WAAW,WAC7Bc,EAAwB1B,EAAyBU,EAAcH,OAAAR,EAAA6B,oBA8B5D,SAA6BC,EAAMC,GACxC,IASEC,EAAQ7B,OAAO2B,GACfG,EAAQC,EAAAA,EAAA,GAVO,CACbC,aAAc,GACdC,SAAU,CACRC,uBAAwB,GACxBC,yBAA0B,GAC1BC,sBAAuB,IAEzBC,cAAe,OAGYT,GAE/BC,EAAMnB,GAAG,SAAS,SAAU4B,GAC1BA,EAAEC,iBAEF,IAAMC,EAAgCxC,OAAO,2BAA6B8B,EAASE,aAAe,gBAElG,GAAIQ,EAA8BC,OAAS,EAAG,CAC5C,IAAMC,EACqC,IAAzCF,EAA8BC,OAC1BX,EAASG,SAASC,uBAClBJ,EAASG,SAASE,yBAAyBQ,QAAQ,UAAWH,EAA8BC,QAElGG,QAAQC,QAAQ,CACdC,QAASJ,EACTK,OAAQjB,EAASO,cACjBW,SAAU,SAACC,GACT,GAAIA,EAAQ,CACV,IAAMC,EAAQrB,EAAM5B,QAAQ,QAE5BiD,EAAMC,WAAW,CACfC,eAAgB,CACdrD,OAAQ,eAGZmD,EAAMG,eAAe,mBAK3BT,QAAQU,MAAM,CACZR,QAAShB,EAASG,SAASG,sBAC3BW,OAAQjB,EAASO,oBApHzB,IAAMf,EAAe,OAqDrB,SAASE,EAAwB1B,EAAyBU,EAAcH,GACtE,IAAMkD,EAASvD,OAAOF,GAAyBG,QAAQ,SAASC,KAAK,SAC/DsD,EAA2BD,EAAOrD,KAAK,MAAQoB,EAAe,YAAYmB,OAC1EgB,EAA8BF,EAAOrD,KAAK,eAAiBM,EAAe,gBAAgBiC,OAEhG3C,EAAwB4D,cACtBF,EAA2B,GAAKC,IAAgCD,EAClE1D,EAAwBqB,QACtBqC,EAA2B,GAAKC,IAAgCD,EAE9DnD,GACFA,EAAkBe,UAAUG,OAAO,SAAuC,IAA7BiC,GCnEjD/B,SAASkC,iBAAiB,sBAAsBC,SAAQ,SAACC,GAEvD,IAAMC,EAAkBD,EAAQ5D,QAAQ,SAAS8D,GAC3CC,EAAgBvC,SAASwC,eAAT,GAAA/C,OAA2B4C,EAA3B,qBAEtBD,EAAQK,iBAAiB,SAAS,WAAA,OAAA,EAChCrE,EAAAsE,uBAAsBN,EAASA,EAAQ1C,QAAU,MAAQ,SAAU6C,OAAA,EAGrEnE,EAAAO,mBAAkByD,EAASG,IAAA,EAE3BnE,EAAA6B,qBACED,SAASwC,eAAT,GAAA/C,OAA2B4C,EAA3B,iBACAM,KAAKC,MAAMR,EAAQS,QAAQC,mBFf/B","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nconst cssClassName = \"info\";\n\n/**\n * Marks all visible results\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {string} action\n */\nexport function highlightAllTableRows(markAllRowsCheckboxElem, action) {\n  jQuery(markAllRowsCheckboxElem).closest(\"table\").find(\"tr:has(td :checkbox:visible)\").trigger(\"click\", [action]);\n}\n\n/**\n * Highlights a single table row\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {Element} massActionBarElem\n */\nexport function highlightTableRow(markAllRowsCheckboxElem, massActionBarElem) {\n  const $markAllCheckbox = jQuery(markAllRowsCheckboxElem),\n    $table = $markAllCheckbox.closest(\"table\"),\n    checkboxName = $markAllCheckbox.data(\"checkbox-name\");\n\n  $table.on(\"click\", \"tr:has(td :checkbox)\", function (event, action) {\n    if (event.target.type !== \"checkbox\") {\n      if (event.target.nodeName === \"A\" || event.target.closest(\"a\")) {\n        return;\n      }\n\n      const rowCheckbox = this.querySelector(`input[name=\"${checkboxName}[]\"]`);\n      rowCheckbox.checked = !rowCheckbox.checked || action === \"add\";\n    }\n\n    if (action === \"add\") {\n      this.classList.add(cssClassName);\n    } else {\n      this.classList.toggle(cssClassName);\n    }\n\n    setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem);\n  });\n\n  jQuery(document).on(\"draw.dt\", () => {\n    setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem);\n  });\n}\n\n/**\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {string} checkboxName\n * @param {Element} massActionBarElem\n */\nfunction setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem) {\n  const $tbody = jQuery(markAllRowsCheckboxElem).closest(\"table\").find(\"tbody\");\n  const visibleSelectedTableRows = $tbody.find(\"tr.\" + cssClassName + \":visible\").length;\n  const visibleMassActionCheckboxes = $tbody.find('input[name=\"' + checkboxName + '[]\"]:visible').length;\n\n  markAllRowsCheckboxElem.indeterminate =\n    visibleSelectedTableRows > 0 && visibleMassActionCheckboxes !== visibleSelectedTableRows;\n  markAllRowsCheckboxElem.checked =\n    visibleSelectedTableRows > 0 && visibleMassActionCheckboxes === visibleSelectedTableRows;\n\n  if (massActionBarElem) {\n    massActionBarElem.classList.toggle(\"hidden\", visibleSelectedTableRows === 0);\n  }\n}\n\n/**\n *\n * @param {HTMLElement} elem\n * @param options\n */\nexport function deleteMarkedResults(elem, options) {\n  const defaults = {\n      checkBoxName: \"\",\n      language: {\n        confirmationTextSingle: \"\",\n        confirmationTextMultiple: \"\",\n        noEntriesSelectedText: \"\",\n      },\n      bootboxLocale: \"en\",\n    },\n    $this = jQuery(elem),\n    settings = { ...defaults, ...options };\n\n  $this.on(\"click\", function (e) {\n    e.preventDefault();\n\n    const $selectedMassActionCheckboxes = jQuery('form .table input[name=\"' + settings.checkBoxName + '[]\"]:checked');\n\n    if ($selectedMassActionCheckboxes.length > 0) {\n      const confirmationText =\n        $selectedMassActionCheckboxes.length === 1\n          ? settings.language.confirmationTextSingle\n          : settings.language.confirmationTextMultiple.replace(\"{items}\", $selectedMassActionCheckboxes.length);\n\n      bootbox.confirm({\n        message: confirmationText,\n        locale: settings.bootboxLocale,\n        callback: (result) => {\n          if (result) {\n            const $form = $this.closest(\"form\");\n\n            $form.formSubmit({\n              customFormData: {\n                action: \"confirmed\",\n              },\n            });\n            $form.triggerHandler(\"submit\");\n          }\n        },\n      });\n    } else {\n      bootbox.alert({\n        message: settings.language.noEntriesSelectedText,\n        locale: settings.bootboxLocale,\n      });\n    }\n  });\n}\n","import { highlightAllTableRows, highlightTableRow, deleteMarkedResults } from \"../lib/mass-action\";\n\ndocument.querySelectorAll(\"[data-mark-all-id]\").forEach((element) => {\n  // Get the unique identifier of the grid, so that we can find the element responsible for the mass actions\n  const tableIdentifier = element.closest(\"table\").id;\n  const massActionBar = document.getElementById(`${tableIdentifier}-mass-delete-bar`);\n\n  element.addEventListener(\"click\", () =>\n    highlightAllTableRows(element, element.checked ? \"add\" : \"remove\", massActionBar)\n  );\n\n  highlightTableRow(element, massActionBar);\n\n  deleteMarkedResults(\n    document.getElementById(`${tableIdentifier}-mass-delete`),\n    JSON.parse(element.dataset.deleteOptions)\n  );\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9tYXNzLWFjdGlvbi5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL3BhcnRpYWxzL21hc3MtYWN0aW9uLmpzIl0sIm5hbWVzIjpbIl8kbWFzc0FjdGlvbl8xIiwibWFya0FsbFJvd3NDaGVja2JveEVsZW0iLCJhY3Rpb24iLCJqUXVlcnkiLCJjbG9zZXN0IiwiZmluZCIsInRyaWdnZXIiLCJoaWdobGlnaHRUYWJsZVJvdyIsIm1hc3NBY3Rpb25CYXJFbGVtIiwiJG1hcmtBbGxDaGVja2JveCIsIiR0YWJsZSIsImNoZWNrYm94TmFtZSIsImRhdGEiLCJvbiIsImV2ZW50IiwidGFyZ2V0IiwidHlwZSIsIm5vZGVOYW1lIiwicm93Q2hlY2tib3giLCJ0aGlzIiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsImNoZWNrZWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjc3NDbGFzc05hbWUiLCJ0b2dnbGUiLCJzZXRNYXJrQWxsQ2hlY2tib3hTdGF0ZSIsImRvY3VtZW50IiwiZGVsZXRlTWFya2VkUmVzdWx0cyIsImVsZW0iLCJvcHRpb25zIiwiJHRoaXMiLCJzZXR0aW5ncyIsIl9vYmplY3RTcHJlYWQiLCJjaGVja0JveE5hbWUiLCJsYW5ndWFnZSIsImNvbmZpcm1hdGlvblRleHRTaW5nbGUiLCJjb25maXJtYXRpb25UZXh0TXVsdGlwbGUiLCJub0VudHJpZXNTZWxlY3RlZFRleHQiLCJib290Ym94TG9jYWxlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJHNlbGVjdGVkTWFzc0FjdGlvbkNoZWNrYm94ZXMiLCJsZW5ndGgiLCJjb25maXJtYXRpb25UZXh0IiwicmVwbGFjZSIsImJvb3Rib3giLCJjb25maXJtIiwibWVzc2FnZSIsImxvY2FsZSIsImNhbGxiYWNrIiwicmVzdWx0IiwiJGZvcm0iLCJmb3JtU3VibWl0IiwiY3VzdG9tRm9ybURhdGEiLCJ0cmlnZ2VySGFuZGxlciIsImFsZXJ0IiwiJHRib2R5IiwidmlzaWJsZVNlbGVjdGVkVGFibGVSb3dzIiwidmlzaWJsZU1hc3NBY3Rpb25DaGVja2JveGVzIiwiaW5kZXRlcm1pbmF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsInRhYmxlSWRlbnRpZmllciIsImlkIiwibWFzc0FjdGlvbkJhciIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhpZ2hsaWdodEFsbFRhYmxlUm93cyIsIkpTT04iLCJwYXJzZSIsImRhdGFzZXQiLCJkZWxldGVPcHRpb25zIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLElBQUFBLEVBQUEsbXdCQ1lPLFNBQStCQyxFQUF5QkMsR0FDN0RDLE9BQU9GLEdBQXlCRyxRQUFRLFNBQVNDLEtBQUssZ0NBQWdDQyxRQUFRLFFBQVMsQ0FBQ0osS0FBQUYsRUFBQU8sa0JBU25HLFNBQTJCTixFQUF5Qk8sR0FDekQsSUFBTUMsRUFBbUJOLE9BQU9GLEdBQzlCUyxFQUFTRCxFQUFpQkwsUUFBUSxTQUNsQ08sRUFBZUYsRUFBaUJHLEtBQUssaUJBRXZDRixFQUFPRyxHQUFHLFFBQVMsd0JBQXdCLFNBQVVDLEVBQU9aLEdBQzFELEdBQTBCLGFBQXRCWSxFQUFNQyxPQUFPQyxLQUFxQixDQUNwQyxHQUE4QixNQUExQkYsRUFBTUMsT0FBT0UsVUFBb0JILEVBQU1DLE9BQU9YLFFBQVEsS0FDeEQsT0FHRixJQUFNYyxFQUFjQyxLQUFLQyxjQUFMLGVBQUFDLE9BQWtDVixFQUFsQyxTQUNwQk8sRUFBWUksU0FBV0osRUFBWUksU0FBc0IsUUFBWHBCLEVBR2pDLFFBQVhBLEVBQ0ZpQixLQUFLSSxVQUFVQyxJQUFJQyxHQUVuQk4sS0FBS0ksVUFBVUcsT0FBT0QsR0FHeEJFLEVBQXdCMUIsRUFBeUJVLEVBQWNILE1BR2pFTCxPQUFPeUIsVUFBVWYsR0FBRyxXQUFXLFdBQzdCYyxFQUF3QjFCLEVBQXlCVSxFQUFjSCxPQUFBUixFQUFBNkIsb0JBOEI1RCxTQUE2QkMsRUFBTUMsR0FDeEMsSUFTRUMsRUFBUTdCLE9BQU8yQixHQUNmRyxFQUFRQyxFQUFBQSxFQUFBLEdBVk8sQ0FDYkMsYUFBYyxHQUNkQyxTQUFVLENBQ1JDLHVCQUF3QixHQUN4QkMseUJBQTBCLEdBQzFCQyxzQkFBdUIsSUFFekJDLGNBQWUsT0FHWVQsR0FFL0JDLEVBQU1uQixHQUFHLFNBQVMsU0FBVTRCLEdBQzFCQSxFQUFFQyxpQkFFRixJQUFNQyxFQUFnQ3hDLE9BQU8sMkJBQTZCOEIsRUFBU0UsYUFBZSxnQkFFbEcsR0FBSVEsRUFBOEJDLE9BQVMsRUFBRyxDQUM1QyxJQUFNQyxFQUNxQyxJQUF6Q0YsRUFBOEJDLE9BQzFCWCxFQUFTRyxTQUFTQyx1QkFDbEJKLEVBQVNHLFNBQVNFLHlCQUF5QlEsUUFBUSxVQUFXSCxFQUE4QkMsUUFFbEdHLFFBQVFDLFFBQVEsQ0FDZEMsUUFBU0osRUFDVEssT0FBUWpCLEVBQVNPLGNBQ2pCVyxTQUFVLFNBQUNDLEdBQ1QsR0FBSUEsRUFBUSxDQUNWLElBQU1DLEVBQVFyQixFQUFNNUIsUUFBUSxRQUU1QmlELEVBQU1DLFdBQVcsQ0FDZkMsZUFBZ0IsQ0FDZHJELE9BQVEsZUFHWm1ELEVBQU1HLGVBQWUsbUJBSzNCVCxRQUFRVSxNQUFNLENBQ1pSLFFBQVNoQixFQUFTRyxTQUFTRyxzQkFDM0JXLE9BQVFqQixFQUFTTyxvQkFwSHpCLElBQU1mLEVBQWUsT0FxRHJCLFNBQVNFLEVBQXdCMUIsRUFBeUJVLEVBQWNILEdBQ3RFLElBQU1rRCxFQUFTdkQsT0FBT0YsR0FBeUJHLFFBQVEsU0FBU0MsS0FBSyxTQUMvRHNELEVBQTJCRCxFQUFPckQsS0FBSyxNQUFRb0IsRUFBZSxZQUFZbUIsT0FDMUVnQixFQUE4QkYsRUFBT3JELEtBQUssZUFBaUJNLEVBQWUsZ0JBQWdCaUMsT0FFaEczQyxFQUF3QjRELGNBQ3RCRixFQUEyQixHQUFLQyxJQUFnQ0QsRUFDbEUxRCxFQUF3QnFCLFFBQ3RCcUMsRUFBMkIsR0FBS0MsSUFBZ0NELEVBRTlEbkQsR0FDRkEsRUFBa0JlLFVBQVVHLE9BQU8sU0FBdUMsSUFBN0JpQyxHQ25FakQvQixTQUFTa0MsaUJBQWlCLHNCQUFzQkMsU0FBUSxTQUFDQyxHQUV2RCxJQUFNQyxFQUFrQkQsRUFBUTVELFFBQVEsU0FBUzhELEdBQzNDQyxFQUFnQnZDLFNBQVN3QyxlQUFULEdBQUEvQyxPQUEyQjRDLEVBQTNCLHFCQUV0QkQsRUFBUUssaUJBQWlCLFNBQVMsV0FBQSxPQUFBLEVBQ2hDckUsRUFBQXNFLHVCQUFzQk4sRUFBU0EsRUFBUTFDLFFBQVUsTUFBUSxTQUFVNkMsT0FBQSxFQUdyRW5FLEVBQUFPLG1CQUFrQnlELEVBQVNHLElBQUEsRUFFM0JuRSxFQUFBNkIscUJBQ0VELFNBQVN3QyxlQUFULEdBQUEvQyxPQUEyQjRDLEVBQTNCLGlCQUNBTSxLQUFLQyxNQUFNUixFQUFRUyxRQUFRQyxtQkZmL0IiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIGJ5IHRoZSBBQ1AzIERldmVsb3BlcnMuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBhdCB0aGUgdG9wLWxldmVsIG1vZHVsZSBkaXJlY3RvcnkgZm9yIGxpY2Vuc2luZyBkZXRhaWxzLlxuICovXG5cbmNvbnN0IGNzc0NsYXNzTmFtZSA9IFwiaW5mb1wiO1xuXG4vKipcbiAqIE1hcmtzIGFsbCB2aXNpYmxlIHJlc3VsdHNcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtXG4gKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaWdobGlnaHRBbGxUYWJsZVJvd3MobWFya0FsbFJvd3NDaGVja2JveEVsZW0sIGFjdGlvbikge1xuICBqUXVlcnkobWFya0FsbFJvd3NDaGVja2JveEVsZW0pLmNsb3Nlc3QoXCJ0YWJsZVwiKS5maW5kKFwidHI6aGFzKHRkIDpjaGVja2JveDp2aXNpYmxlKVwiKS50cmlnZ2VyKFwiY2xpY2tcIiwgW2FjdGlvbl0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodHMgYSBzaW5nbGUgdGFibGUgcm93XG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBtYXJrQWxsUm93c0NoZWNrYm94RWxlbVxuICogQHBhcmFtIHtFbGVtZW50fSBtYXNzQWN0aW9uQmFyRWxlbVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlnaGxpZ2h0VGFibGVSb3cobWFya0FsbFJvd3NDaGVja2JveEVsZW0sIG1hc3NBY3Rpb25CYXJFbGVtKSB7XG4gIGNvbnN0ICRtYXJrQWxsQ2hlY2tib3ggPSBqUXVlcnkobWFya0FsbFJvd3NDaGVja2JveEVsZW0pLFxuICAgICR0YWJsZSA9ICRtYXJrQWxsQ2hlY2tib3guY2xvc2VzdChcInRhYmxlXCIpLFxuICAgIGNoZWNrYm94TmFtZSA9ICRtYXJrQWxsQ2hlY2tib3guZGF0YShcImNoZWNrYm94LW5hbWVcIik7XG5cbiAgJHRhYmxlLm9uKFwiY2xpY2tcIiwgXCJ0cjpoYXModGQgOmNoZWNrYm94KVwiLCBmdW5jdGlvbiAoZXZlbnQsIGFjdGlvbikge1xuICAgIGlmIChldmVudC50YXJnZXQudHlwZSAhPT0gXCJjaGVja2JveFwiKSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkFcIiB8fCBldmVudC50YXJnZXQuY2xvc2VzdChcImFcIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByb3dDaGVja2JveCA9IHRoaXMucXVlcnlTZWxlY3RvcihgaW5wdXRbbmFtZT1cIiR7Y2hlY2tib3hOYW1lfVtdXCJdYCk7XG4gICAgICByb3dDaGVja2JveC5jaGVja2VkID0gIXJvd0NoZWNrYm94LmNoZWNrZWQgfHwgYWN0aW9uID09PSBcImFkZFwiO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb24gPT09IFwiYWRkXCIpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChjc3NDbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoY3NzQ2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBzZXRNYXJrQWxsQ2hlY2tib3hTdGF0ZShtYXJrQWxsUm93c0NoZWNrYm94RWxlbSwgY2hlY2tib3hOYW1lLCBtYXNzQWN0aW9uQmFyRWxlbSk7XG4gIH0pO1xuXG4gIGpRdWVyeShkb2N1bWVudCkub24oXCJkcmF3LmR0XCIsICgpID0+IHtcbiAgICBzZXRNYXJrQWxsQ2hlY2tib3hTdGF0ZShtYXJrQWxsUm93c0NoZWNrYm94RWxlbSwgY2hlY2tib3hOYW1lLCBtYXNzQWN0aW9uQmFyRWxlbSk7XG4gIH0pO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hlY2tib3hOYW1lXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG1hc3NBY3Rpb25CYXJFbGVtXG4gKi9cbmZ1bmN0aW9uIHNldE1hcmtBbGxDaGVja2JveFN0YXRlKG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtLCBjaGVja2JveE5hbWUsIG1hc3NBY3Rpb25CYXJFbGVtKSB7XG4gIGNvbnN0ICR0Ym9keSA9IGpRdWVyeShtYXJrQWxsUm93c0NoZWNrYm94RWxlbSkuY2xvc2VzdChcInRhYmxlXCIpLmZpbmQoXCJ0Ym9keVwiKTtcbiAgY29uc3QgdmlzaWJsZVNlbGVjdGVkVGFibGVSb3dzID0gJHRib2R5LmZpbmQoXCJ0ci5cIiArIGNzc0NsYXNzTmFtZSArIFwiOnZpc2libGVcIikubGVuZ3RoO1xuICBjb25zdCB2aXNpYmxlTWFzc0FjdGlvbkNoZWNrYm94ZXMgPSAkdGJvZHkuZmluZCgnaW5wdXRbbmFtZT1cIicgKyBjaGVja2JveE5hbWUgKyAnW11cIl06dmlzaWJsZScpLmxlbmd0aDtcblxuICBtYXJrQWxsUm93c0NoZWNrYm94RWxlbS5pbmRldGVybWluYXRlID1cbiAgICB2aXNpYmxlU2VsZWN0ZWRUYWJsZVJvd3MgPiAwICYmIHZpc2libGVNYXNzQWN0aW9uQ2hlY2tib3hlcyAhPT0gdmlzaWJsZVNlbGVjdGVkVGFibGVSb3dzO1xuICBtYXJrQWxsUm93c0NoZWNrYm94RWxlbS5jaGVja2VkID1cbiAgICB2aXNpYmxlU2VsZWN0ZWRUYWJsZVJvd3MgPiAwICYmIHZpc2libGVNYXNzQWN0aW9uQ2hlY2tib3hlcyA9PT0gdmlzaWJsZVNlbGVjdGVkVGFibGVSb3dzO1xuXG4gIGlmIChtYXNzQWN0aW9uQmFyRWxlbSkge1xuICAgIG1hc3NBY3Rpb25CYXJFbGVtLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIiwgdmlzaWJsZVNlbGVjdGVkVGFibGVSb3dzID09PSAwKTtcbiAgfVxufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtXG4gKiBAcGFyYW0gb3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlTWFya2VkUmVzdWx0cyhlbGVtLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgY2hlY2tCb3hOYW1lOiBcIlwiLFxuICAgICAgbGFuZ3VhZ2U6IHtcbiAgICAgICAgY29uZmlybWF0aW9uVGV4dFNpbmdsZTogXCJcIixcbiAgICAgICAgY29uZmlybWF0aW9uVGV4dE11bHRpcGxlOiBcIlwiLFxuICAgICAgICBub0VudHJpZXNTZWxlY3RlZFRleHQ6IFwiXCIsXG4gICAgICB9LFxuICAgICAgYm9vdGJveExvY2FsZTogXCJlblwiLFxuICAgIH0sXG4gICAgJHRoaXMgPSBqUXVlcnkoZWxlbSksXG4gICAgc2V0dGluZ3MgPSB7IC4uLmRlZmF1bHRzLCAuLi5vcHRpb25zIH07XG5cbiAgJHRoaXMub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0ICRzZWxlY3RlZE1hc3NBY3Rpb25DaGVja2JveGVzID0galF1ZXJ5KCdmb3JtIC50YWJsZSBpbnB1dFtuYW1lPVwiJyArIHNldHRpbmdzLmNoZWNrQm94TmFtZSArICdbXVwiXTpjaGVja2VkJyk7XG5cbiAgICBpZiAoJHNlbGVjdGVkTWFzc0FjdGlvbkNoZWNrYm94ZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY29uZmlybWF0aW9uVGV4dCA9XG4gICAgICAgICRzZWxlY3RlZE1hc3NBY3Rpb25DaGVja2JveGVzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgID8gc2V0dGluZ3MubGFuZ3VhZ2UuY29uZmlybWF0aW9uVGV4dFNpbmdsZVxuICAgICAgICAgIDogc2V0dGluZ3MubGFuZ3VhZ2UuY29uZmlybWF0aW9uVGV4dE11bHRpcGxlLnJlcGxhY2UoXCJ7aXRlbXN9XCIsICRzZWxlY3RlZE1hc3NBY3Rpb25DaGVja2JveGVzLmxlbmd0aCk7XG5cbiAgICAgIGJvb3Rib3guY29uZmlybSh7XG4gICAgICAgIG1lc3NhZ2U6IGNvbmZpcm1hdGlvblRleHQsXG4gICAgICAgIGxvY2FsZTogc2V0dGluZ3MuYm9vdGJveExvY2FsZSxcbiAgICAgICAgY2FsbGJhY2s6IChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zdCAkZm9ybSA9ICR0aGlzLmNsb3Nlc3QoXCJmb3JtXCIpO1xuXG4gICAgICAgICAgICAkZm9ybS5mb3JtU3VibWl0KHtcbiAgICAgICAgICAgICAgY3VzdG9tRm9ybURhdGE6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiY29uZmlybWVkXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRmb3JtLnRyaWdnZXJIYW5kbGVyKFwic3VibWl0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBib290Ym94LmFsZXJ0KHtcbiAgICAgICAgbWVzc2FnZTogc2V0dGluZ3MubGFuZ3VhZ2Uubm9FbnRyaWVzU2VsZWN0ZWRUZXh0LFxuICAgICAgICBsb2NhbGU6IHNldHRpbmdzLmJvb3Rib3hMb2NhbGUsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgaGlnaGxpZ2h0QWxsVGFibGVSb3dzLCBoaWdobGlnaHRUYWJsZVJvdywgZGVsZXRlTWFya2VkUmVzdWx0cyB9IGZyb20gXCIuLi9saWIvbWFzcy1hY3Rpb25cIjtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW1hcmstYWxsLWlkXVwiKS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gIC8vIEdldCB0aGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIGdyaWQsIHNvIHRoYXQgd2UgY2FuIGZpbmQgdGhlIGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIHRoZSBtYXNzIGFjdGlvbnNcbiAgY29uc3QgdGFibGVJZGVudGlmaWVyID0gZWxlbWVudC5jbG9zZXN0KFwidGFibGVcIikuaWQ7XG4gIGNvbnN0IG1hc3NBY3Rpb25CYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0YWJsZUlkZW50aWZpZXJ9LW1hc3MtZGVsZXRlLWJhcmApO1xuXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgaGlnaGxpZ2h0QWxsVGFibGVSb3dzKGVsZW1lbnQsIGVsZW1lbnQuY2hlY2tlZCA/IFwiYWRkXCIgOiBcInJlbW92ZVwiLCBtYXNzQWN0aW9uQmFyKVxuICApO1xuXG4gIGhpZ2hsaWdodFRhYmxlUm93KGVsZW1lbnQsIG1hc3NBY3Rpb25CYXIpO1xuXG4gIGRlbGV0ZU1hcmtlZFJlc3VsdHMoXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGFibGVJZGVudGlmaWVyfS1tYXNzLWRlbGV0ZWApLFxuICAgIEpTT04ucGFyc2UoZWxlbWVudC5kYXRhc2V0LmRlbGV0ZU9wdGlvbnMpXG4gICk7XG59KTtcbiJdfQ==","file":"mass-action.min.js"}