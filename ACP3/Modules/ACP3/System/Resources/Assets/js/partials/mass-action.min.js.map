{"version":3,"sources":["ACP3/Modules/ACP3/System/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/mass-action.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/partials/mass-action.js"],"names":["_$massAction_1","markAllRowsCheckboxElem","action","jQuery","closest","find","trigger","highlightTableRow","massActionBarElem","$markAllCheckbox","$table","checkboxName","data","on","event","target","type","nodeName","rowCheckbox","this","querySelector","concat","checked","classList","add","cssClassName","toggle","setMarkAllCheckboxState","document","deleteMarkedResults","elem","options","$this","settings","_objectSpread","checkBoxName","language","confirmationTextSingle","confirmationTextMultiple","noEntriesSelectedText","bootboxLocale","e","preventDefault","$selectedMassActionCheckboxes","length","confirmationText","replace","bootbox","confirm","message","locale","callback","result","$form","formSubmit","customFormData","triggerHandler","alert","$tbody","visibleSelectedTableRows","visibleMassActionCheckboxes","indeterminate","querySelectorAll","forEach","element","tableIdentifier","id","massActionBar","getElementById","addEventListener","highlightAllTableRows","JSON","parse","dataset","deleteOptions"],"mappings":"CAAA,WACA,IAAAA,EAAA,mwBCcO,SAA+BC,EAAyBC,GAC7DC,OAAOF,GAAyBG,QAAQ,SAASC,KAAK,gCAAgCC,QAAQ,QAAS,CAACJ,KAAAF,EAAAO,kBASnG,SAA2BN,EAAyBO,GACzD,IAAMC,EAAmBN,OAAOF,GAC9BS,EAASD,EAAiBL,QAAQ,SAClCO,EAAeF,EAAiBG,KAAK,iBAEvCF,EAAOG,GAAG,QAAS,wBAAwB,SAAUC,EAAOZ,GAC1D,GAA0B,aAAtBY,EAAMC,OAAOC,KAAqB,CACpC,GAA8B,MAA1BF,EAAMC,OAAOE,UAAoBH,EAAMC,OAAOX,QAAQ,KACxD,OAGF,IAAMc,EAAcC,KAAKC,cAAL,eAAAC,OAAkCV,EAAlC,SACpBO,EAAYI,SAAWJ,EAAYI,SAAsB,QAAXpB,EAGjC,QAAXA,EACFiB,KAAKI,UAAUC,IAAIC,GAEnBN,KAAKI,UAAUG,OAAOD,GAGxBE,EAAwB1B,EAAyBU,EAAcH,MAGjEL,OAAOyB,UAAUf,GAAG,WAAW,WAC7Bc,EAAwB1B,EAAyBU,EAAcH,OAAAR,EAAA6B,oBA8B5D,SAA6BC,EAAMC,GACxC,IASEC,EAAQ7B,OAAO2B,GACfG,EAAQC,EAAAA,EAAA,GAVO,CACbC,aAAc,GACdC,SAAU,CACRC,uBAAwB,GACxBC,yBAA0B,GAC1BC,sBAAuB,IAEzBC,cAAe,OAGYT,GAE/BC,EAAMnB,GAAG,SAAS,SAAU4B,GAC1BA,EAAEC,iBAEF,IAAMC,EAAgCxC,OAAO,2BAA6B8B,EAASE,aAAe,gBAElG,GAAIQ,EAA8BC,OAAS,EAAG,CAC5C,IAAMC,EACqC,IAAzCF,EAA8BC,OAC1BX,EAASG,SAASC,uBAClBJ,EAASG,SAASE,yBAAyBQ,QAAQ,UAAWH,EAA8BC,QAElGG,QAAQC,QAAQ,CACdC,QAASJ,EACTK,OAAQjB,EAASO,cACjBW,SAAU,SAACC,GACT,GAAIA,EAAQ,CACV,IAAMC,EAAQrB,EAAM5B,QAAQ,QAE5BiD,EAAMC,WAAW,CACfC,eAAgB,CACdrD,OAAQ,eAGZmD,EAAMG,eAAe,mBAK3BT,QAAQU,MAAM,CACZR,QAAShB,EAASG,SAASG,sBAC3BW,OAAQjB,EAASO,oBApHzB,IAAMf,EAAe,aAqDrB,SAASE,EAAwB1B,EAAyBU,EAAcH,GACtE,IAAMkD,EAASvD,OAAOF,GAAyBG,QAAQ,SAASC,KAAK,SAC/DsD,EAA2BD,EAAOrD,KAAK,MAAQoB,EAAe,YAAYmB,OAC1EgB,EAA8BF,EAAOrD,KAAK,eAAiBM,EAAe,gBAAgBiC,OAEhG3C,EAAwB4D,cACtBF,EAA2B,GAAKC,IAAgCD,EAClE1D,EAAwBqB,QACtBqC,EAA2B,GAAKC,IAAgCD,EAE9DnD,GACFA,EAAkBe,UAAUG,OAAO,SAAuC,IAA7BiC,GCrEjD/B,SAASkC,iBAAiB,sBAAsBC,SAAQ,SAACC,GAEvD,IAAMC,EAAkBD,EAAQ5D,QAAQ,SAAS8D,GAC3CC,EAAgBvC,SAASwC,eAAT,GAAA/C,OAA2B4C,EAA3B,qBAEtBD,EAAQK,iBAAiB,SAAS,WAAA,OAAA,EAAMrE,EAAAsE,uBAAsBN,EAASA,EAAQ1C,QAAU,MAAQ,cAAA,EAEjGtB,EAAAO,mBAAkByD,EAASG,IAAA,EAE3BnE,EAAA6B,qBACED,SAASwC,eAAT,GAAA/C,OAA2B4C,EAA3B,iBACAM,KAAKC,MAAMR,EAAQS,QAAQC,mBFb/B","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\n// @ToDO: Remove jQuery\n\nconst cssClassName = \"table-info\";\n\n/**\n * Marks all visible results\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {string} action\n */\nexport function highlightAllTableRows(markAllRowsCheckboxElem, action) {\n  jQuery(markAllRowsCheckboxElem).closest(\"table\").find(\"tr:has(td :checkbox:visible)\").trigger(\"click\", [action]);\n}\n\n/**\n * Highlights a single table row\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {Element} massActionBarElem\n */\nexport function highlightTableRow(markAllRowsCheckboxElem, massActionBarElem) {\n  const $markAllCheckbox = jQuery(markAllRowsCheckboxElem),\n    $table = $markAllCheckbox.closest(\"table\"),\n    checkboxName = $markAllCheckbox.data(\"checkbox-name\");\n\n  $table.on(\"click\", \"tr:has(td :checkbox)\", function (event, action) {\n    if (event.target.type !== \"checkbox\") {\n      if (event.target.nodeName === \"A\" || event.target.closest(\"a\")) {\n        return;\n      }\n\n      const rowCheckbox = this.querySelector(`input[name=\"${checkboxName}[]\"]`);\n      rowCheckbox.checked = !rowCheckbox.checked || action === \"add\";\n    }\n\n    if (action === \"add\") {\n      this.classList.add(cssClassName);\n    } else {\n      this.classList.toggle(cssClassName);\n    }\n\n    setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem);\n  });\n\n  jQuery(document).on(\"draw.dt\", () => {\n    setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem);\n  });\n}\n\n/**\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {string} checkboxName\n * @param {Element} massActionBarElem\n */\nfunction setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem) {\n  const $tbody = jQuery(markAllRowsCheckboxElem).closest(\"table\").find(\"tbody\");\n  const visibleSelectedTableRows = $tbody.find(\"tr.\" + cssClassName + \":visible\").length;\n  const visibleMassActionCheckboxes = $tbody.find('input[name=\"' + checkboxName + '[]\"]:visible').length;\n\n  markAllRowsCheckboxElem.indeterminate =\n    visibleSelectedTableRows > 0 && visibleMassActionCheckboxes !== visibleSelectedTableRows;\n  markAllRowsCheckboxElem.checked =\n    visibleSelectedTableRows > 0 && visibleMassActionCheckboxes === visibleSelectedTableRows;\n\n  if (massActionBarElem) {\n    massActionBarElem.classList.toggle(\"d-none\", visibleSelectedTableRows === 0);\n  }\n}\n\n/**\n *\n * @param {HTMLElement} elem\n * @param options\n */\nexport function deleteMarkedResults(elem, options) {\n  const defaults = {\n      checkBoxName: \"\",\n      language: {\n        confirmationTextSingle: \"\",\n        confirmationTextMultiple: \"\",\n        noEntriesSelectedText: \"\",\n      },\n      bootboxLocale: \"en\",\n    },\n    $this = jQuery(elem),\n    settings = { ...defaults, ...options };\n\n  $this.on(\"click\", function (e) {\n    e.preventDefault();\n\n    const $selectedMassActionCheckboxes = jQuery('form .table input[name=\"' + settings.checkBoxName + '[]\"]:checked');\n\n    if ($selectedMassActionCheckboxes.length > 0) {\n      const confirmationText =\n        $selectedMassActionCheckboxes.length === 1\n          ? settings.language.confirmationTextSingle\n          : settings.language.confirmationTextMultiple.replace(\"{items}\", $selectedMassActionCheckboxes.length);\n\n      bootbox.confirm({\n        message: confirmationText,\n        locale: settings.bootboxLocale,\n        callback: (result) => {\n          if (result) {\n            const $form = $this.closest(\"form\");\n\n            $form.formSubmit({\n              customFormData: {\n                action: \"confirmed\",\n              },\n            });\n            $form.triggerHandler(\"submit\");\n          }\n        },\n      });\n    } else {\n      bootbox.alert({\n        message: settings.language.noEntriesSelectedText,\n        locale: settings.bootboxLocale,\n      });\n    }\n  });\n}\n","import { highlightAllTableRows, highlightTableRow, deleteMarkedResults } from \"../lib/mass-action\";\n\ndocument.querySelectorAll(\"[data-mark-all-id]\").forEach((element) => {\n  // Get the unique identifier of the grid, so that we can find the element responsible for the mass actions\n  const tableIdentifier = element.closest(\"table\").id;\n  const massActionBar = document.getElementById(`${tableIdentifier}-mass-delete-bar`);\n\n  element.addEventListener(\"click\", () => highlightAllTableRows(element, element.checked ? \"add\" : \"remove\"));\n\n  highlightTableRow(element, massActionBar);\n\n  deleteMarkedResults(\n    document.getElementById(`${tableIdentifier}-mass-delete`),\n    JSON.parse(element.dataset.deleteOptions)\n  );\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL2xpYi9tYXNzLWFjdGlvbi5qcyIsIkFDUDMvTW9kdWxlcy9BQ1AzL1N5c3RlbS9SZXNvdXJjZXMvQXNzZXRzL2pzL3BhcnRpYWxzL21hc3MtYWN0aW9uLmpzIl0sIm5hbWVzIjpbIl8kbWFzc0FjdGlvbl8xIiwibWFya0FsbFJvd3NDaGVja2JveEVsZW0iLCJhY3Rpb24iLCJqUXVlcnkiLCJjbG9zZXN0IiwiZmluZCIsInRyaWdnZXIiLCJoaWdobGlnaHRUYWJsZVJvdyIsIm1hc3NBY3Rpb25CYXJFbGVtIiwiJG1hcmtBbGxDaGVja2JveCIsIiR0YWJsZSIsImNoZWNrYm94TmFtZSIsImRhdGEiLCJvbiIsImV2ZW50IiwidGFyZ2V0IiwidHlwZSIsIm5vZGVOYW1lIiwicm93Q2hlY2tib3giLCJ0aGlzIiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsImNoZWNrZWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjc3NDbGFzc05hbWUiLCJ0b2dnbGUiLCJzZXRNYXJrQWxsQ2hlY2tib3hTdGF0ZSIsImRvY3VtZW50IiwiZGVsZXRlTWFya2VkUmVzdWx0cyIsImVsZW0iLCJvcHRpb25zIiwiJHRoaXMiLCJzZXR0aW5ncyIsIl9vYmplY3RTcHJlYWQiLCJjaGVja0JveE5hbWUiLCJsYW5ndWFnZSIsImNvbmZpcm1hdGlvblRleHRTaW5nbGUiLCJjb25maXJtYXRpb25UZXh0TXVsdGlwbGUiLCJub0VudHJpZXNTZWxlY3RlZFRleHQiLCJib290Ym94TG9jYWxlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJHNlbGVjdGVkTWFzc0FjdGlvbkNoZWNrYm94ZXMiLCJsZW5ndGgiLCJjb25maXJtYXRpb25UZXh0IiwicmVwbGFjZSIsImJvb3Rib3giLCJjb25maXJtIiwibWVzc2FnZSIsImxvY2FsZSIsImNhbGxiYWNrIiwicmVzdWx0IiwiJGZvcm0iLCJmb3JtU3VibWl0IiwiY3VzdG9tRm9ybURhdGEiLCJ0cmlnZ2VySGFuZGxlciIsImFsZXJ0IiwiJHRib2R5IiwidmlzaWJsZVNlbGVjdGVkVGFibGVSb3dzIiwidmlzaWJsZU1hc3NBY3Rpb25DaGVja2JveGVzIiwiaW5kZXRlcm1pbmF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsInRhYmxlSWRlbnRpZmllciIsImlkIiwibWFzc0FjdGlvbkJhciIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhpZ2hsaWdodEFsbFRhYmxlUm93cyIsIkpTT04iLCJwYXJzZSIsImRhdGFzZXQiLCJkZWxldGVPcHRpb25zIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLElBQUFBLEVBQUEsbXdCQ2NPLFNBQStCQyxFQUF5QkMsR0FDN0RDLE9BQU9GLEdBQXlCRyxRQUFRLFNBQVNDLEtBQUssZ0NBQWdDQyxRQUFRLFFBQVMsQ0FBQ0osS0FBQUYsRUFBQU8sa0JBU25HLFNBQTJCTixFQUF5Qk8sR0FDekQsSUFBTUMsRUFBbUJOLE9BQU9GLEdBQzlCUyxFQUFTRCxFQUFpQkwsUUFBUSxTQUNsQ08sRUFBZUYsRUFBaUJHLEtBQUssaUJBRXZDRixFQUFPRyxHQUFHLFFBQVMsd0JBQXdCLFNBQVVDLEVBQU9aLEdBQzFELEdBQTBCLGFBQXRCWSxFQUFNQyxPQUFPQyxLQUFxQixDQUNwQyxHQUE4QixNQUExQkYsRUFBTUMsT0FBT0UsVUFBb0JILEVBQU1DLE9BQU9YLFFBQVEsS0FDeEQsT0FHRixJQUFNYyxFQUFjQyxLQUFLQyxjQUFMLGVBQUFDLE9BQWtDVixFQUFsQyxTQUNwQk8sRUFBWUksU0FBV0osRUFBWUksU0FBc0IsUUFBWHBCLEVBR2pDLFFBQVhBLEVBQ0ZpQixLQUFLSSxVQUFVQyxJQUFJQyxHQUVuQk4sS0FBS0ksVUFBVUcsT0FBT0QsR0FHeEJFLEVBQXdCMUIsRUFBeUJVLEVBQWNILE1BR2pFTCxPQUFPeUIsVUFBVWYsR0FBRyxXQUFXLFdBQzdCYyxFQUF3QjFCLEVBQXlCVSxFQUFjSCxPQUFBUixFQUFBNkIsb0JBOEI1RCxTQUE2QkMsRUFBTUMsR0FDeEMsSUFTRUMsRUFBUTdCLE9BQU8yQixHQUNmRyxFQUFRQyxFQUFBQSxFQUFBLEdBVk8sQ0FDYkMsYUFBYyxHQUNkQyxTQUFVLENBQ1JDLHVCQUF3QixHQUN4QkMseUJBQTBCLEdBQzFCQyxzQkFBdUIsSUFFekJDLGNBQWUsT0FHWVQsR0FFL0JDLEVBQU1uQixHQUFHLFNBQVMsU0FBVTRCLEdBQzFCQSxFQUFFQyxpQkFFRixJQUFNQyxFQUFnQ3hDLE9BQU8sMkJBQTZCOEIsRUFBU0UsYUFBZSxnQkFFbEcsR0FBSVEsRUFBOEJDLE9BQVMsRUFBRyxDQUM1QyxJQUFNQyxFQUNxQyxJQUF6Q0YsRUFBOEJDLE9BQzFCWCxFQUFTRyxTQUFTQyx1QkFDbEJKLEVBQVNHLFNBQVNFLHlCQUF5QlEsUUFBUSxVQUFXSCxFQUE4QkMsUUFFbEdHLFFBQVFDLFFBQVEsQ0FDZEMsUUFBU0osRUFDVEssT0FBUWpCLEVBQVNPLGNBQ2pCVyxTQUFVLFNBQUNDLEdBQ1QsR0FBSUEsRUFBUSxDQUNWLElBQU1DLEVBQVFyQixFQUFNNUIsUUFBUSxRQUU1QmlELEVBQU1DLFdBQVcsQ0FDZkMsZUFBZ0IsQ0FDZHJELE9BQVEsZUFHWm1ELEVBQU1HLGVBQWUsbUJBSzNCVCxRQUFRVSxNQUFNLENBQ1pSLFFBQVNoQixFQUFTRyxTQUFTRyxzQkFDM0JXLE9BQVFqQixFQUFTTyxvQkFwSHpCLElBQU1mLEVBQWUsYUFxRHJCLFNBQVNFLEVBQXdCMUIsRUFBeUJVLEVBQWNILEdBQ3RFLElBQU1rRCxFQUFTdkQsT0FBT0YsR0FBeUJHLFFBQVEsU0FBU0MsS0FBSyxTQUMvRHNELEVBQTJCRCxFQUFPckQsS0FBSyxNQUFRb0IsRUFBZSxZQUFZbUIsT0FDMUVnQixFQUE4QkYsRUFBT3JELEtBQUssZUFBaUJNLEVBQWUsZ0JBQWdCaUMsT0FFaEczQyxFQUF3QjRELGNBQ3RCRixFQUEyQixHQUFLQyxJQUFnQ0QsRUFDbEUxRCxFQUF3QnFCLFFBQ3RCcUMsRUFBMkIsR0FBS0MsSUFBZ0NELEVBRTlEbkQsR0FDRkEsRUFBa0JlLFVBQVVHLE9BQU8sU0FBdUMsSUFBN0JpQyxHQ3JFakQvQixTQUFTa0MsaUJBQWlCLHNCQUFzQkMsU0FBUSxTQUFDQyxHQUV2RCxJQUFNQyxFQUFrQkQsRUFBUTVELFFBQVEsU0FBUzhELEdBQzNDQyxFQUFnQnZDLFNBQVN3QyxlQUFULEdBQUEvQyxPQUEyQjRDLEVBQTNCLHFCQUV0QkQsRUFBUUssaUJBQWlCLFNBQVMsV0FBQSxPQUFBLEVBQU1yRSxFQUFBc0UsdUJBQXNCTixFQUFTQSxFQUFRMUMsUUFBVSxNQUFRLGNBQUEsRUFFakd0QixFQUFBTyxtQkFBa0J5RCxFQUFTRyxJQUFBLEVBRTNCbkUsRUFBQTZCLHFCQUNFRCxTQUFTd0MsZUFBVCxHQUFBL0MsT0FBMkI0QyxFQUEzQixpQkFDQU0sS0FBS0MsTUFBTVIsRUFBUVMsUUFBUUMsbUJGYi9CIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSBieSB0aGUgQUNQMyBEZXZlbG9wZXJzLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgYXQgdGhlIHRvcC1sZXZlbCBtb2R1bGUgZGlyZWN0b3J5IGZvciBsaWNlbnNpbmcgZGV0YWlscy5cbiAqL1xuXG4vLyBAVG9ETzogUmVtb3ZlIGpRdWVyeVxuXG5jb25zdCBjc3NDbGFzc05hbWUgPSBcInRhYmxlLWluZm9cIjtcblxuLyoqXG4gKiBNYXJrcyBhbGwgdmlzaWJsZSByZXN1bHRzXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBtYXJrQWxsUm93c0NoZWNrYm94RWxlbVxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlnaGxpZ2h0QWxsVGFibGVSb3dzKG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtLCBhY3Rpb24pIHtcbiAgalF1ZXJ5KG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtKS5jbG9zZXN0KFwidGFibGVcIikuZmluZChcInRyOmhhcyh0ZCA6Y2hlY2tib3g6dmlzaWJsZSlcIikudHJpZ2dlcihcImNsaWNrXCIsIFthY3Rpb25dKTtcbn1cblxuLyoqXG4gKiBIaWdobGlnaHRzIGEgc2luZ2xlIHRhYmxlIHJvd1xuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gbWFya0FsbFJvd3NDaGVja2JveEVsZW1cbiAqIEBwYXJhbSB7RWxlbWVudH0gbWFzc0FjdGlvbkJhckVsZW1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodFRhYmxlUm93KG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtLCBtYXNzQWN0aW9uQmFyRWxlbSkge1xuICBjb25zdCAkbWFya0FsbENoZWNrYm94ID0galF1ZXJ5KG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtKSxcbiAgICAkdGFibGUgPSAkbWFya0FsbENoZWNrYm94LmNsb3Nlc3QoXCJ0YWJsZVwiKSxcbiAgICBjaGVja2JveE5hbWUgPSAkbWFya0FsbENoZWNrYm94LmRhdGEoXCJjaGVja2JveC1uYW1lXCIpO1xuXG4gICR0YWJsZS5vbihcImNsaWNrXCIsIFwidHI6aGFzKHRkIDpjaGVja2JveClcIiwgZnVuY3Rpb24gKGV2ZW50LCBhY3Rpb24pIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnR5cGUgIT09IFwiY2hlY2tib3hcIikge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gXCJBXCIgfHwgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJhXCIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgcm93Q2hlY2tib3ggPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoYGlucHV0W25hbWU9XCIke2NoZWNrYm94TmFtZX1bXVwiXWApO1xuICAgICAgcm93Q2hlY2tib3guY2hlY2tlZCA9ICFyb3dDaGVja2JveC5jaGVja2VkIHx8IGFjdGlvbiA9PT0gXCJhZGRcIjtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uID09PSBcImFkZFwiKSB7XG4gICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKGNzc0NsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgc2V0TWFya0FsbENoZWNrYm94U3RhdGUobWFya0FsbFJvd3NDaGVja2JveEVsZW0sIGNoZWNrYm94TmFtZSwgbWFzc0FjdGlvbkJhckVsZW0pO1xuICB9KTtcblxuICBqUXVlcnkoZG9jdW1lbnQpLm9uKFwiZHJhdy5kdFwiLCAoKSA9PiB7XG4gICAgc2V0TWFya0FsbENoZWNrYm94U3RhdGUobWFya0FsbFJvd3NDaGVja2JveEVsZW0sIGNoZWNrYm94TmFtZSwgbWFzc0FjdGlvbkJhckVsZW0pO1xuICB9KTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBtYXJrQWxsUm93c0NoZWNrYm94RWxlbVxuICogQHBhcmFtIHtzdHJpbmd9IGNoZWNrYm94TmFtZVxuICogQHBhcmFtIHtFbGVtZW50fSBtYXNzQWN0aW9uQmFyRWxlbVxuICovXG5mdW5jdGlvbiBzZXRNYXJrQWxsQ2hlY2tib3hTdGF0ZShtYXJrQWxsUm93c0NoZWNrYm94RWxlbSwgY2hlY2tib3hOYW1lLCBtYXNzQWN0aW9uQmFyRWxlbSkge1xuICBjb25zdCAkdGJvZHkgPSBqUXVlcnkobWFya0FsbFJvd3NDaGVja2JveEVsZW0pLmNsb3Nlc3QoXCJ0YWJsZVwiKS5maW5kKFwidGJvZHlcIik7XG4gIGNvbnN0IHZpc2libGVTZWxlY3RlZFRhYmxlUm93cyA9ICR0Ym9keS5maW5kKFwidHIuXCIgKyBjc3NDbGFzc05hbWUgKyBcIjp2aXNpYmxlXCIpLmxlbmd0aDtcbiAgY29uc3QgdmlzaWJsZU1hc3NBY3Rpb25DaGVja2JveGVzID0gJHRib2R5LmZpbmQoJ2lucHV0W25hbWU9XCInICsgY2hlY2tib3hOYW1lICsgJ1tdXCJdOnZpc2libGUnKS5sZW5ndGg7XG5cbiAgbWFya0FsbFJvd3NDaGVja2JveEVsZW0uaW5kZXRlcm1pbmF0ZSA9XG4gICAgdmlzaWJsZVNlbGVjdGVkVGFibGVSb3dzID4gMCAmJiB2aXNpYmxlTWFzc0FjdGlvbkNoZWNrYm94ZXMgIT09IHZpc2libGVTZWxlY3RlZFRhYmxlUm93cztcbiAgbWFya0FsbFJvd3NDaGVja2JveEVsZW0uY2hlY2tlZCA9XG4gICAgdmlzaWJsZVNlbGVjdGVkVGFibGVSb3dzID4gMCAmJiB2aXNpYmxlTWFzc0FjdGlvbkNoZWNrYm94ZXMgPT09IHZpc2libGVTZWxlY3RlZFRhYmxlUm93cztcblxuICBpZiAobWFzc0FjdGlvbkJhckVsZW0pIHtcbiAgICBtYXNzQWN0aW9uQmFyRWxlbS5jbGFzc0xpc3QudG9nZ2xlKFwiZC1ub25lXCIsIHZpc2libGVTZWxlY3RlZFRhYmxlUm93cyA9PT0gMCk7XG4gIH1cbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbVxuICogQHBhcmFtIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZU1hcmtlZFJlc3VsdHMoZWxlbSwgb3B0aW9ucykge1xuICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIGNoZWNrQm94TmFtZTogXCJcIixcbiAgICAgIGxhbmd1YWdlOiB7XG4gICAgICAgIGNvbmZpcm1hdGlvblRleHRTaW5nbGU6IFwiXCIsXG4gICAgICAgIGNvbmZpcm1hdGlvblRleHRNdWx0aXBsZTogXCJcIixcbiAgICAgICAgbm9FbnRyaWVzU2VsZWN0ZWRUZXh0OiBcIlwiLFxuICAgICAgfSxcbiAgICAgIGJvb3Rib3hMb2NhbGU6IFwiZW5cIixcbiAgICB9LFxuICAgICR0aGlzID0galF1ZXJ5KGVsZW0pLFxuICAgIHNldHRpbmdzID0geyAuLi5kZWZhdWx0cywgLi4ub3B0aW9ucyB9O1xuXG4gICR0aGlzLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCAkc2VsZWN0ZWRNYXNzQWN0aW9uQ2hlY2tib3hlcyA9IGpRdWVyeSgnZm9ybSAudGFibGUgaW5wdXRbbmFtZT1cIicgKyBzZXR0aW5ncy5jaGVja0JveE5hbWUgKyAnW11cIl06Y2hlY2tlZCcpO1xuXG4gICAgaWYgKCRzZWxlY3RlZE1hc3NBY3Rpb25DaGVja2JveGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNvbmZpcm1hdGlvblRleHQgPVxuICAgICAgICAkc2VsZWN0ZWRNYXNzQWN0aW9uQ2hlY2tib3hlcy5sZW5ndGggPT09IDFcbiAgICAgICAgICA/IHNldHRpbmdzLmxhbmd1YWdlLmNvbmZpcm1hdGlvblRleHRTaW5nbGVcbiAgICAgICAgICA6IHNldHRpbmdzLmxhbmd1YWdlLmNvbmZpcm1hdGlvblRleHRNdWx0aXBsZS5yZXBsYWNlKFwie2l0ZW1zfVwiLCAkc2VsZWN0ZWRNYXNzQWN0aW9uQ2hlY2tib3hlcy5sZW5ndGgpO1xuXG4gICAgICBib290Ym94LmNvbmZpcm0oe1xuICAgICAgICBtZXNzYWdlOiBjb25maXJtYXRpb25UZXh0LFxuICAgICAgICBsb2NhbGU6IHNldHRpbmdzLmJvb3Rib3hMb2NhbGUsXG4gICAgICAgIGNhbGxiYWNrOiAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgY29uc3QgJGZvcm0gPSAkdGhpcy5jbG9zZXN0KFwiZm9ybVwiKTtcblxuICAgICAgICAgICAgJGZvcm0uZm9ybVN1Ym1pdCh7XG4gICAgICAgICAgICAgIGN1c3RvbUZvcm1EYXRhOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcImNvbmZpcm1lZFwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkZm9ybS50cmlnZ2VySGFuZGxlcihcInN1Ym1pdFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm9vdGJveC5hbGVydCh7XG4gICAgICAgIG1lc3NhZ2U6IHNldHRpbmdzLmxhbmd1YWdlLm5vRW50cmllc1NlbGVjdGVkVGV4dCxcbiAgICAgICAgbG9jYWxlOiBzZXR0aW5ncy5ib290Ym94TG9jYWxlLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IGhpZ2hsaWdodEFsbFRhYmxlUm93cywgaGlnaGxpZ2h0VGFibGVSb3csIGRlbGV0ZU1hcmtlZFJlc3VsdHMgfSBmcm9tIFwiLi4vbGliL21hc3MtYWN0aW9uXCI7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1tYXJrLWFsbC1pZF1cIikuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAvLyBHZXQgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBncmlkLCBzbyB0aGF0IHdlIGNhbiBmaW5kIHRoZSBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciB0aGUgbWFzcyBhY3Rpb25zXG4gIGNvbnN0IHRhYmxlSWRlbnRpZmllciA9IGVsZW1lbnQuY2xvc2VzdChcInRhYmxlXCIpLmlkO1xuICBjb25zdCBtYXNzQWN0aW9uQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGFibGVJZGVudGlmaWVyfS1tYXNzLWRlbGV0ZS1iYXJgKTtcblxuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBoaWdobGlnaHRBbGxUYWJsZVJvd3MoZWxlbWVudCwgZWxlbWVudC5jaGVja2VkID8gXCJhZGRcIiA6IFwicmVtb3ZlXCIpKTtcblxuICBoaWdobGlnaHRUYWJsZVJvdyhlbGVtZW50LCBtYXNzQWN0aW9uQmFyKTtcblxuICBkZWxldGVNYXJrZWRSZXN1bHRzKFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RhYmxlSWRlbnRpZmllcn0tbWFzcy1kZWxldGVgKSxcbiAgICBKU09OLnBhcnNlKGVsZW1lbnQuZGF0YXNldC5kZWxldGVPcHRpb25zKVxuICApO1xufSk7XG4iXX0=","file":"mass-action.min.js"}