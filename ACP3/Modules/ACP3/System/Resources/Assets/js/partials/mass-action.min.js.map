{"version":3,"sources":["ACP3/Modules/ACP3/System/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/lib/mass-action.js","ACP3/Modules/ACP3/System/Resources/Assets/js/partials/ACP3/Modules/ACP3/System/Resources/Assets/js/partials/mass-action.js"],"names":["_$massAction_1","markAllRowsCheckboxElem","action","jQuery","closest","find","trigger","highlightTableRow","massActionBarElem","$markAllCheckbox","$table","checkboxName","data","on","event","target","type","nodeName","rowCheckbox","this","querySelector","concat","checked","classList","add","cssClassName","toggle","setMarkAllCheckboxState","document","deleteMarkedResults","elem","options","$this","settings","_objectSpread","checkBoxName","language","confirmationTextSingle","confirmationTextMultiple","noEntriesSelectedText","bootboxLocale","e","preventDefault","$selectedMassActionCheckboxes","length","confirmationText","replace","bootbox","confirm","message","locale","callback","result","$form","formSubmit","customFormData","triggerHandler","alert","$tbody","visibleSelectedTableRows","visibleMassActionCheckboxes","indeterminate","querySelectorAll","forEach","element","tableIdentifier","id","massActionBar","getElementById","addEventListener","highlightAllTableRows","JSON","parse","dataset","deleteOptions"],"mappings":"CAAA,WACA,IAAAA,EAAA,mwBCYO,SAA+BC,EAAyBC,GAC7DC,OAAOF,GAAyBG,QAAQ,SAASC,KAAK,gCAAgCC,QAAQ,QAAS,CAACJ,KAAAF,EAAAO,kBASnG,SAA2BN,EAAyBO,GACzD,IAAMC,EAAmBN,OAAOF,GAC9BS,EAASD,EAAiBL,QAAQ,SAClCO,EAAeF,EAAiBG,KAAK,iBAEvCF,EAAOG,GAAG,QAAS,wBAAwB,SAAUC,EAAOZ,GAC1D,GAA0B,aAAtBY,EAAMC,OAAOC,KAAqB,CACpC,GAA8B,MAA1BF,EAAMC,OAAOE,UAAoBH,EAAMC,OAAOX,QAAQ,KACxD,OAGF,IAAMc,EAAcC,KAAKC,cAAL,eAAAC,OAAkCV,EAAlC,SACpBO,EAAYI,SAAWJ,EAAYI,SAAsB,QAAXpB,EAGjC,QAAXA,EACFiB,KAAKI,UAAUC,IAAIC,GAEnBN,KAAKI,UAAUG,OAAOD,GAGxBE,EAAwB1B,EAAyBU,EAAcH,MAGjEL,OAAOyB,UAAUf,GAAG,WAAW,WAC7Bc,EAAwB1B,EAAyBU,EAAcH,OAAAR,EAAA6B,oBA4B5D,SAA6BC,EAAMC,GACxC,IASEC,EAAQ7B,OAAO2B,GACfG,EAAQC,EAAAA,EAAA,GAVO,CACbC,aAAc,GACdC,SAAU,CACRC,uBAAwB,GACxBC,yBAA0B,GAC1BC,sBAAuB,IAEzBC,cAAe,OAGYT,GAE/BC,EAAMnB,GAAG,SAAS,SAAU4B,GAC1BA,EAAEC,iBAEF,IAAMC,EAAgCxC,OAAO,2BAA6B8B,EAASE,aAAe,gBAElG,GAAIQ,EAA8BC,OAAS,EAAG,CAC5C,IAAMC,EACqC,IAAzCF,EAA8BC,OAC1BX,EAASG,SAASC,uBAClBJ,EAASG,SAASE,yBAAyBQ,QAAQ,UAAWH,EAA8BC,QAElGG,QAAQC,QAAQ,CACdC,QAASJ,EACTK,OAAQjB,EAASO,cACjBW,SAAU,SAACC,GACT,GAAIA,EAAQ,CACV,IAAMC,EAAQrB,EAAM5B,QAAQ,QAE5BiD,EAAMC,WAAW,CACfC,eAAgB,CACdrD,OAAQ,eAGZmD,EAAMG,eAAe,mBAK3BT,QAAQU,MAAM,CACZR,QAAShB,EAASG,SAASG,sBAC3BW,OAAQjB,EAASO,oBAlHzB,IAAMf,EAAe,OAqDrB,SAASE,EAAwB1B,EAAyBU,EAAcH,GACtE,IAAMkD,EAASvD,OAAOF,GAAyBG,QAAQ,SAASC,KAAK,SAC/DsD,EAA2BD,EAAOrD,KAAK,MAAQoB,EAAe,YAAYmB,OAC1EgB,EAA8BF,EAAOrD,KAAK,eAAiBM,EAAe,gBAAgBiC,OAEhG3C,EAAwB4D,cACtBF,EAA2B,GAAKC,IAAgCD,EAClE1D,EAAwBqB,QACtBqC,EAA2B,GAAKC,IAAgCD,EAElEnD,EAAkBe,UAAUG,OAAO,SAAuC,IAA7BiC,GClE/C/B,SAASkC,iBAAiB,sBAAsBC,SAAQ,SAACC,GAEvD,IAAMC,EAAkBD,EAAQ5D,QAAQ,SAAS8D,GAC3CC,EAAgBvC,SAASwC,eAAT,GAAA/C,OAA2B4C,EAA3B,qBAEtBD,EAAQK,iBAAiB,SAAS,WAAA,OAAA,EAChCrE,EAAAsE,uBAAsBN,EAASA,EAAQ1C,QAAU,MAAQ,SAAU6C,OAAA,EAGrEnE,EAAAO,mBAAkByD,EAASG,IAAA,EAE3BnE,EAAA6B,qBACED,SAASwC,eAAT,GAAA/C,OAA2B4C,EAA3B,iBACAM,KAAKC,MAAMR,EAAQS,QAAQC,mBFf/B","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nconst cssClassName = \"info\";\n\n/**\n * Marks all visible results\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {string} action\n */\nexport function highlightAllTableRows(markAllRowsCheckboxElem, action) {\n  jQuery(markAllRowsCheckboxElem).closest(\"table\").find(\"tr:has(td :checkbox:visible)\").trigger(\"click\", [action]);\n}\n\n/**\n * Highlights a single table row\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {Element} massActionBarElem\n */\nexport function highlightTableRow(markAllRowsCheckboxElem, massActionBarElem) {\n  const $markAllCheckbox = jQuery(markAllRowsCheckboxElem),\n    $table = $markAllCheckbox.closest(\"table\"),\n    checkboxName = $markAllCheckbox.data(\"checkbox-name\");\n\n  $table.on(\"click\", \"tr:has(td :checkbox)\", function (event, action) {\n    if (event.target.type !== \"checkbox\") {\n      if (event.target.nodeName === \"A\" || event.target.closest(\"a\")) {\n        return;\n      }\n\n      const rowCheckbox = this.querySelector(`input[name=\"${checkboxName}[]\"]`);\n      rowCheckbox.checked = !rowCheckbox.checked || action === \"add\";\n    }\n\n    if (action === \"add\") {\n      this.classList.add(cssClassName);\n    } else {\n      this.classList.toggle(cssClassName);\n    }\n\n    setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem);\n  });\n\n  jQuery(document).on(\"draw.dt\", () => {\n    setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem);\n  });\n}\n\n/**\n *\n * @param {Element} markAllRowsCheckboxElem\n * @param {string} checkboxName\n * @param {Element} massActionBarElem\n */\nfunction setMarkAllCheckboxState(markAllRowsCheckboxElem, checkboxName, massActionBarElem) {\n  const $tbody = jQuery(markAllRowsCheckboxElem).closest(\"table\").find(\"tbody\");\n  const visibleSelectedTableRows = $tbody.find(\"tr.\" + cssClassName + \":visible\").length;\n  const visibleMassActionCheckboxes = $tbody.find('input[name=\"' + checkboxName + '[]\"]:visible').length;\n\n  markAllRowsCheckboxElem.indeterminate =\n    visibleSelectedTableRows > 0 && visibleMassActionCheckboxes !== visibleSelectedTableRows;\n  markAllRowsCheckboxElem.checked =\n    visibleSelectedTableRows > 0 && visibleMassActionCheckboxes === visibleSelectedTableRows;\n\n  massActionBarElem.classList.toggle(\"hidden\", visibleSelectedTableRows === 0);\n}\n\n/**\n *\n * @param {HTMLElement} elem\n * @param options\n */\nexport function deleteMarkedResults(elem, options) {\n  const defaults = {\n      checkBoxName: \"\",\n      language: {\n        confirmationTextSingle: \"\",\n        confirmationTextMultiple: \"\",\n        noEntriesSelectedText: \"\",\n      },\n      bootboxLocale: \"en\",\n    },\n    $this = jQuery(elem),\n    settings = { ...defaults, ...options };\n\n  $this.on(\"click\", function (e) {\n    e.preventDefault();\n\n    const $selectedMassActionCheckboxes = jQuery('form .table input[name=\"' + settings.checkBoxName + '[]\"]:checked');\n\n    if ($selectedMassActionCheckboxes.length > 0) {\n      const confirmationText =\n        $selectedMassActionCheckboxes.length === 1\n          ? settings.language.confirmationTextSingle\n          : settings.language.confirmationTextMultiple.replace(\"{items}\", $selectedMassActionCheckboxes.length);\n\n      bootbox.confirm({\n        message: confirmationText,\n        locale: settings.bootboxLocale,\n        callback: (result) => {\n          if (result) {\n            const $form = $this.closest(\"form\");\n\n            $form.formSubmit({\n              customFormData: {\n                action: \"confirmed\",\n              },\n            });\n            $form.triggerHandler(\"submit\");\n          }\n        },\n      });\n    } else {\n      bootbox.alert({\n        message: settings.language.noEntriesSelectedText,\n        locale: settings.bootboxLocale,\n      });\n    }\n  });\n}\n","import { highlightAllTableRows, highlightTableRow, deleteMarkedResults } from \"../lib/mass-action\";\n\ndocument.querySelectorAll(\"[data-mark-all-id]\").forEach((element) => {\n  // Get the unique identifier of the grid, so that we can find the element responsible for the mass actions\n  const tableIdentifier = element.closest(\"table\").id;\n  const massActionBar = document.getElementById(`${tableIdentifier}-mass-delete-bar`);\n\n  element.addEventListener(\"click\", () =>\n    highlightAllTableRows(element, element.checked ? \"add\" : \"remove\", massActionBar)\n  );\n\n  highlightTableRow(element, massActionBar);\n\n  deleteMarkedResults(\n    document.getElementById(`${tableIdentifier}-mass-delete`),\n    JSON.parse(element.dataset.deleteOptions)\n  );\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrLWZsYXRcXF9wcmVsdWRlIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvbGliL21hc3MtYWN0aW9uLmpzIiwiQUNQMy9Nb2R1bGVzL0FDUDMvU3lzdGVtL1Jlc291cmNlcy9Bc3NldHMvanMvcGFydGlhbHMvbWFzcy1hY3Rpb24uanMiXSwibmFtZXMiOlsiXyRtYXNzQWN0aW9uXzEiLCJtYXJrQWxsUm93c0NoZWNrYm94RWxlbSIsImFjdGlvbiIsImpRdWVyeSIsImNsb3Nlc3QiLCJmaW5kIiwidHJpZ2dlciIsImhpZ2hsaWdodFRhYmxlUm93IiwibWFzc0FjdGlvbkJhckVsZW0iLCIkbWFya0FsbENoZWNrYm94IiwiJHRhYmxlIiwiY2hlY2tib3hOYW1lIiwiZGF0YSIsIm9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJ0eXBlIiwibm9kZU5hbWUiLCJyb3dDaGVja2JveCIsInRoaXMiLCJxdWVyeVNlbGVjdG9yIiwiY29uY2F0IiwiY2hlY2tlZCIsImNsYXNzTGlzdCIsImFkZCIsImNzc0NsYXNzTmFtZSIsInRvZ2dsZSIsInNldE1hcmtBbGxDaGVja2JveFN0YXRlIiwiZG9jdW1lbnQiLCJkZWxldGVNYXJrZWRSZXN1bHRzIiwiZWxlbSIsIm9wdGlvbnMiLCIkdGhpcyIsInNldHRpbmdzIiwiX29iamVjdFNwcmVhZCIsImNoZWNrQm94TmFtZSIsImxhbmd1YWdlIiwiY29uZmlybWF0aW9uVGV4dFNpbmdsZSIsImNvbmZpcm1hdGlvblRleHRNdWx0aXBsZSIsIm5vRW50cmllc1NlbGVjdGVkVGV4dCIsImJvb3Rib3hMb2NhbGUiLCJlIiwicHJldmVudERlZmF1bHQiLCIkc2VsZWN0ZWRNYXNzQWN0aW9uQ2hlY2tib3hlcyIsImxlbmd0aCIsImNvbmZpcm1hdGlvblRleHQiLCJyZXBsYWNlIiwiYm9vdGJveCIsImNvbmZpcm0iLCJtZXNzYWdlIiwibG9jYWxlIiwiY2FsbGJhY2siLCJyZXN1bHQiLCIkZm9ybSIsImZvcm1TdWJtaXQiLCJjdXN0b21Gb3JtRGF0YSIsInRyaWdnZXJIYW5kbGVyIiwiYWxlcnQiLCIkdGJvZHkiLCJ2aXNpYmxlU2VsZWN0ZWRUYWJsZVJvd3MiLCJ2aXNpYmxlTWFzc0FjdGlvbkNoZWNrYm94ZXMiLCJpbmRldGVybWluYXRlIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtZW50IiwidGFibGVJZGVudGlmaWVyIiwiaWQiLCJtYXNzQWN0aW9uQmFyIiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGlnaGxpZ2h0QWxsVGFibGVSb3dzIiwiSlNPTiIsInBhcnNlIiwiZGF0YXNldCIsImRlbGV0ZU9wdGlvbnMiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsSUFBQUEsRUFBQSxtd0JDWU8sU0FBK0JDLEVBQXlCQyxHQUM3REMsT0FBT0YsR0FBeUJHLFFBQVEsU0FBU0MsS0FBSyxnQ0FBZ0NDLFFBQVEsUUFBUyxDQUFDSixLQUFBRixFQUFBTyxrQkFTbkcsU0FBMkJOLEVBQXlCTyxHQUN6RCxJQUFNQyxFQUFtQk4sT0FBT0YsR0FDOUJTLEVBQVNELEVBQWlCTCxRQUFRLFNBQ2xDTyxFQUFlRixFQUFpQkcsS0FBSyxpQkFFdkNGLEVBQU9HLEdBQUcsUUFBUyx3QkFBd0IsU0FBVUMsRUFBT1osR0FDMUQsR0FBMEIsYUFBdEJZLEVBQU1DLE9BQU9DLEtBQXFCLENBQ3BDLEdBQThCLE1BQTFCRixFQUFNQyxPQUFPRSxVQUFvQkgsRUFBTUMsT0FBT1gsUUFBUSxLQUN4RCxPQUdGLElBQU1jLEVBQWNDLEtBQUtDLGNBQUwsZUFBQUMsT0FBa0NWLEVBQWxDLFNBQ3BCTyxFQUFZSSxTQUFXSixFQUFZSSxTQUFzQixRQUFYcEIsRUFHakMsUUFBWEEsRUFDRmlCLEtBQUtJLFVBQVVDLElBQUlDLEdBRW5CTixLQUFLSSxVQUFVRyxPQUFPRCxHQUd4QkUsRUFBd0IxQixFQUF5QlUsRUFBY0gsTUFHakVMLE9BQU95QixVQUFVZixHQUFHLFdBQVcsV0FDN0JjLEVBQXdCMUIsRUFBeUJVLEVBQWNILE9BQUFSLEVBQUE2QixvQkE0QjVELFNBQTZCQyxFQUFNQyxHQUN4QyxJQVNFQyxFQUFRN0IsT0FBTzJCLEdBQ2ZHLEVBQVFDLEVBQUFBLEVBQUEsR0FWTyxDQUNiQyxhQUFjLEdBQ2RDLFNBQVUsQ0FDUkMsdUJBQXdCLEdBQ3hCQyx5QkFBMEIsR0FDMUJDLHNCQUF1QixJQUV6QkMsY0FBZSxPQUdZVCxHQUUvQkMsRUFBTW5CLEdBQUcsU0FBUyxTQUFVNEIsR0FDMUJBLEVBQUVDLGlCQUVGLElBQU1DLEVBQWdDeEMsT0FBTywyQkFBNkI4QixFQUFTRSxhQUFlLGdCQUVsRyxHQUFJUSxFQUE4QkMsT0FBUyxFQUFHLENBQzVDLElBQU1DLEVBQ3FDLElBQXpDRixFQUE4QkMsT0FDMUJYLEVBQVNHLFNBQVNDLHVCQUNsQkosRUFBU0csU0FBU0UseUJBQXlCUSxRQUFRLFVBQVdILEVBQThCQyxRQUVsR0csUUFBUUMsUUFBUSxDQUNkQyxRQUFTSixFQUNUSyxPQUFRakIsRUFBU08sY0FDakJXLFNBQVUsU0FBQ0MsR0FDVCxHQUFJQSxFQUFRLENBQ1YsSUFBTUMsRUFBUXJCLEVBQU01QixRQUFRLFFBRTVCaUQsRUFBTUMsV0FBVyxDQUNmQyxlQUFnQixDQUNkckQsT0FBUSxlQUdabUQsRUFBTUcsZUFBZSxtQkFLM0JULFFBQVFVLE1BQU0sQ0FDWlIsUUFBU2hCLEVBQVNHLFNBQVNHLHNCQUMzQlcsT0FBUWpCLEVBQVNPLG9CQWxIekIsSUFBTWYsRUFBZSxPQXFEckIsU0FBU0UsRUFBd0IxQixFQUF5QlUsRUFBY0gsR0FDdEUsSUFBTWtELEVBQVN2RCxPQUFPRixHQUF5QkcsUUFBUSxTQUFTQyxLQUFLLFNBQy9Ec0QsRUFBMkJELEVBQU9yRCxLQUFLLE1BQVFvQixFQUFlLFlBQVltQixPQUMxRWdCLEVBQThCRixFQUFPckQsS0FBSyxlQUFpQk0sRUFBZSxnQkFBZ0JpQyxPQUVoRzNDLEVBQXdCNEQsY0FDdEJGLEVBQTJCLEdBQUtDLElBQWdDRCxFQUNsRTFELEVBQXdCcUIsUUFDdEJxQyxFQUEyQixHQUFLQyxJQUFnQ0QsRUFFbEVuRCxFQUFrQmUsVUFBVUcsT0FBTyxTQUF1QyxJQUE3QmlDLEdDbEUvQy9CLFNBQVNrQyxpQkFBaUIsc0JBQXNCQyxTQUFRLFNBQUNDLEdBRXZELElBQU1DLEVBQWtCRCxFQUFRNUQsUUFBUSxTQUFTOEQsR0FDM0NDLEVBQWdCdkMsU0FBU3dDLGVBQVQsR0FBQS9DLE9BQTJCNEMsRUFBM0IscUJBRXRCRCxFQUFRSyxpQkFBaUIsU0FBUyxXQUFBLE9BQUEsRUFDaENyRSxFQUFBc0UsdUJBQXNCTixFQUFTQSxFQUFRMUMsUUFBVSxNQUFRLFNBQVU2QyxPQUFBLEVBR3JFbkUsRUFBQU8sbUJBQWtCeUQsRUFBU0csSUFBQSxFQUUzQm5FLEVBQUE2QixxQkFDRUQsU0FBU3dDLGVBQVQsR0FBQS9DLE9BQTJCNEMsRUFBM0IsaUJBQ0FNLEtBQUtDLE1BQU1SLEVBQVFTLFFBQVFDLG1CRmYvQiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgYnkgdGhlIEFDUDMgRGV2ZWxvcGVycy5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGRpcmVjdG9yeSBmb3IgbGljZW5zaW5nIGRldGFpbHMuXG4gKi9cblxuY29uc3QgY3NzQ2xhc3NOYW1lID0gXCJpbmZvXCI7XG5cbi8qKlxuICogTWFya3MgYWxsIHZpc2libGUgcmVzdWx0c1xuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gbWFya0FsbFJvd3NDaGVja2JveEVsZW1cbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodEFsbFRhYmxlUm93cyhtYXJrQWxsUm93c0NoZWNrYm94RWxlbSwgYWN0aW9uKSB7XG4gIGpRdWVyeShtYXJrQWxsUm93c0NoZWNrYm94RWxlbSkuY2xvc2VzdChcInRhYmxlXCIpLmZpbmQoXCJ0cjpoYXModGQgOmNoZWNrYm94OnZpc2libGUpXCIpLnRyaWdnZXIoXCJjbGlja1wiLCBbYWN0aW9uXSk7XG59XG5cbi8qKlxuICogSGlnaGxpZ2h0cyBhIHNpbmdsZSB0YWJsZSByb3dcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG1hc3NBY3Rpb25CYXJFbGVtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaWdobGlnaHRUYWJsZVJvdyhtYXJrQWxsUm93c0NoZWNrYm94RWxlbSwgbWFzc0FjdGlvbkJhckVsZW0pIHtcbiAgY29uc3QgJG1hcmtBbGxDaGVja2JveCA9IGpRdWVyeShtYXJrQWxsUm93c0NoZWNrYm94RWxlbSksXG4gICAgJHRhYmxlID0gJG1hcmtBbGxDaGVja2JveC5jbG9zZXN0KFwidGFibGVcIiksXG4gICAgY2hlY2tib3hOYW1lID0gJG1hcmtBbGxDaGVja2JveC5kYXRhKFwiY2hlY2tib3gtbmFtZVwiKTtcblxuICAkdGFibGUub24oXCJjbGlja1wiLCBcInRyOmhhcyh0ZCA6Y2hlY2tib3gpXCIsIGZ1bmN0aW9uIChldmVudCwgYWN0aW9uKSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC50eXBlICE9PSBcImNoZWNrYm94XCIpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09IFwiQVwiIHx8IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiYVwiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJvd0NoZWNrYm94ID0gdGhpcy5xdWVyeVNlbGVjdG9yKGBpbnB1dFtuYW1lPVwiJHtjaGVja2JveE5hbWV9W11cIl1gKTtcbiAgICAgIHJvd0NoZWNrYm94LmNoZWNrZWQgPSAhcm93Q2hlY2tib3guY2hlY2tlZCB8fCBhY3Rpb24gPT09IFwiYWRkXCI7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbiA9PT0gXCJhZGRcIikge1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShjc3NDbGFzc05hbWUpO1xuICAgIH1cblxuICAgIHNldE1hcmtBbGxDaGVja2JveFN0YXRlKG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtLCBjaGVja2JveE5hbWUsIG1hc3NBY3Rpb25CYXJFbGVtKTtcbiAgfSk7XG5cbiAgalF1ZXJ5KGRvY3VtZW50KS5vbihcImRyYXcuZHRcIiwgKCkgPT4ge1xuICAgIHNldE1hcmtBbGxDaGVja2JveFN0YXRlKG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtLCBjaGVja2JveE5hbWUsIG1hc3NBY3Rpb25CYXJFbGVtKTtcbiAgfSk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gbWFya0FsbFJvd3NDaGVja2JveEVsZW1cbiAqIEBwYXJhbSB7c3RyaW5nfSBjaGVja2JveE5hbWVcbiAqIEBwYXJhbSB7RWxlbWVudH0gbWFzc0FjdGlvbkJhckVsZW1cbiAqL1xuZnVuY3Rpb24gc2V0TWFya0FsbENoZWNrYm94U3RhdGUobWFya0FsbFJvd3NDaGVja2JveEVsZW0sIGNoZWNrYm94TmFtZSwgbWFzc0FjdGlvbkJhckVsZW0pIHtcbiAgY29uc3QgJHRib2R5ID0galF1ZXJ5KG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtKS5jbG9zZXN0KFwidGFibGVcIikuZmluZChcInRib2R5XCIpO1xuICBjb25zdCB2aXNpYmxlU2VsZWN0ZWRUYWJsZVJvd3MgPSAkdGJvZHkuZmluZChcInRyLlwiICsgY3NzQ2xhc3NOYW1lICsgXCI6dmlzaWJsZVwiKS5sZW5ndGg7XG4gIGNvbnN0IHZpc2libGVNYXNzQWN0aW9uQ2hlY2tib3hlcyA9ICR0Ym9keS5maW5kKCdpbnB1dFtuYW1lPVwiJyArIGNoZWNrYm94TmFtZSArICdbXVwiXTp2aXNpYmxlJykubGVuZ3RoO1xuXG4gIG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtLmluZGV0ZXJtaW5hdGUgPVxuICAgIHZpc2libGVTZWxlY3RlZFRhYmxlUm93cyA+IDAgJiYgdmlzaWJsZU1hc3NBY3Rpb25DaGVja2JveGVzICE9PSB2aXNpYmxlU2VsZWN0ZWRUYWJsZVJvd3M7XG4gIG1hcmtBbGxSb3dzQ2hlY2tib3hFbGVtLmNoZWNrZWQgPVxuICAgIHZpc2libGVTZWxlY3RlZFRhYmxlUm93cyA+IDAgJiYgdmlzaWJsZU1hc3NBY3Rpb25DaGVja2JveGVzID09PSB2aXNpYmxlU2VsZWN0ZWRUYWJsZVJvd3M7XG5cbiAgbWFzc0FjdGlvbkJhckVsZW0uY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiLCB2aXNpYmxlU2VsZWN0ZWRUYWJsZVJvd3MgPT09IDApO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtXG4gKiBAcGFyYW0gb3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlTWFya2VkUmVzdWx0cyhlbGVtLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgY2hlY2tCb3hOYW1lOiBcIlwiLFxuICAgICAgbGFuZ3VhZ2U6IHtcbiAgICAgICAgY29uZmlybWF0aW9uVGV4dFNpbmdsZTogXCJcIixcbiAgICAgICAgY29uZmlybWF0aW9uVGV4dE11bHRpcGxlOiBcIlwiLFxuICAgICAgICBub0VudHJpZXNTZWxlY3RlZFRleHQ6IFwiXCIsXG4gICAgICB9LFxuICAgICAgYm9vdGJveExvY2FsZTogXCJlblwiLFxuICAgIH0sXG4gICAgJHRoaXMgPSBqUXVlcnkoZWxlbSksXG4gICAgc2V0dGluZ3MgPSB7IC4uLmRlZmF1bHRzLCAuLi5vcHRpb25zIH07XG5cbiAgJHRoaXMub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0ICRzZWxlY3RlZE1hc3NBY3Rpb25DaGVja2JveGVzID0galF1ZXJ5KCdmb3JtIC50YWJsZSBpbnB1dFtuYW1lPVwiJyArIHNldHRpbmdzLmNoZWNrQm94TmFtZSArICdbXVwiXTpjaGVja2VkJyk7XG5cbiAgICBpZiAoJHNlbGVjdGVkTWFzc0FjdGlvbkNoZWNrYm94ZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY29uZmlybWF0aW9uVGV4dCA9XG4gICAgICAgICRzZWxlY3RlZE1hc3NBY3Rpb25DaGVja2JveGVzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgID8gc2V0dGluZ3MubGFuZ3VhZ2UuY29uZmlybWF0aW9uVGV4dFNpbmdsZVxuICAgICAgICAgIDogc2V0dGluZ3MubGFuZ3VhZ2UuY29uZmlybWF0aW9uVGV4dE11bHRpcGxlLnJlcGxhY2UoXCJ7aXRlbXN9XCIsICRzZWxlY3RlZE1hc3NBY3Rpb25DaGVja2JveGVzLmxlbmd0aCk7XG5cbiAgICAgIGJvb3Rib3guY29uZmlybSh7XG4gICAgICAgIG1lc3NhZ2U6IGNvbmZpcm1hdGlvblRleHQsXG4gICAgICAgIGxvY2FsZTogc2V0dGluZ3MuYm9vdGJveExvY2FsZSxcbiAgICAgICAgY2FsbGJhY2s6IChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zdCAkZm9ybSA9ICR0aGlzLmNsb3Nlc3QoXCJmb3JtXCIpO1xuXG4gICAgICAgICAgICAkZm9ybS5mb3JtU3VibWl0KHtcbiAgICAgICAgICAgICAgY3VzdG9tRm9ybURhdGE6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiY29uZmlybWVkXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRmb3JtLnRyaWdnZXJIYW5kbGVyKFwic3VibWl0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBib290Ym94LmFsZXJ0KHtcbiAgICAgICAgbWVzc2FnZTogc2V0dGluZ3MubGFuZ3VhZ2Uubm9FbnRyaWVzU2VsZWN0ZWRUZXh0LFxuICAgICAgICBsb2NhbGU6IHNldHRpbmdzLmJvb3Rib3hMb2NhbGUsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgaGlnaGxpZ2h0QWxsVGFibGVSb3dzLCBoaWdobGlnaHRUYWJsZVJvdywgZGVsZXRlTWFya2VkUmVzdWx0cyB9IGZyb20gXCIuLi9saWIvbWFzcy1hY3Rpb25cIjtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW1hcmstYWxsLWlkXVwiKS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gIC8vIEdldCB0aGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIGdyaWQsIHNvIHRoYXQgd2UgY2FuIGZpbmQgdGhlIGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIHRoZSBtYXNzIGFjdGlvbnNcbiAgY29uc3QgdGFibGVJZGVudGlmaWVyID0gZWxlbWVudC5jbG9zZXN0KFwidGFibGVcIikuaWQ7XG4gIGNvbnN0IG1hc3NBY3Rpb25CYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0YWJsZUlkZW50aWZpZXJ9LW1hc3MtZGVsZXRlLWJhcmApO1xuXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgaGlnaGxpZ2h0QWxsVGFibGVSb3dzKGVsZW1lbnQsIGVsZW1lbnQuY2hlY2tlZCA/IFwiYWRkXCIgOiBcInJlbW92ZVwiLCBtYXNzQWN0aW9uQmFyKVxuICApO1xuXG4gIGhpZ2hsaWdodFRhYmxlUm93KGVsZW1lbnQsIG1hc3NBY3Rpb25CYXIpO1xuXG4gIGRlbGV0ZU1hcmtlZFJlc3VsdHMoXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGFibGVJZGVudGlmaWVyfS1tYXNzLWRlbGV0ZWApLFxuICAgIEpTT04ucGFyc2UoZWxlbWVudC5kYXRhc2V0LmRlbGV0ZU9wdGlvbnMpXG4gICk7XG59KTtcbiJdfQ==","file":"mass-action.min.js"}