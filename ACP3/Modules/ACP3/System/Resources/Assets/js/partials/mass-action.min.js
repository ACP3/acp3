(()=>{"use strict";const e="table-info";function t(t,n){const o=t.closest("table"),l=t.dataset.checkboxName;var a,c,r;a="click",c="tbody tr:not(.sub-table-header)",r=(o,a)=>{const c=o.detail;if("checkbox"!==o.target.type){if("A"===o.target.nodeName||o.target.closest("a"))return;const e=a.querySelector(`input[name="${l}[]"]`);e.checked=!e.checked||"add"===c}"add"===c?a.classList.add(e):a.classList.toggle(e),function(e,t,n){const o=e.closest("table").querySelector("tbody"),l=o.querySelectorAll("tr.table-info:not(.d-none)").length,a=o.querySelectorAll(`tr:not(.d-none) input[name="${t}[]"]`).length;e.indeterminate=l>0&&a!==l,e.checked=l>0&&a===l,n&&n.classList.toggle("d-none",0===l)}(t,l,n)},o.addEventListener(a,(e=>{if("string"==typeof c){const t=document.querySelectorAll(c);if(!t)return;t.forEach((t=>{t&&t.contains(e.target)&&r(e,t)}))}else c&&c.contains(e.target)&&r(e,c)}))}document.querySelectorAll("[data-mark-all-id]").forEach((e=>{const n=e.closest("table").id,o=document.getElementById(`${n}-mass-delete-bar`);e.addEventListener("click",(()=>{return t=e,n=e.checked?"add":"remove",void t.closest("table").querySelectorAll("tbody tr:not(.d-none):not(.sub-table-header)")?.forEach((e=>{e.dispatchEvent(new CustomEvent("click",{detail:n,bubbles:!0}))}));var t,n})),t(e,o),function(e,t){const n={checkBoxName:"",language:{confirmationTextSingle:"",confirmationTextMultiple:""},...t};e.addEventListener("click",(t=>{t.preventDefault();const o=e.closest("table").querySelectorAll('input[name="'+n.checkBoxName+'[]"]:checked'),l=e.closest("form").querySelector(".js-mass-delete-modal"),a=bootstrap.Modal.getOrCreateInstance(l);l.querySelector(".modal-body").innerHTML=1===o.length?n.language.confirmationTextSingle:n.language.confirmationTextMultiple.replace("{items}",o.length.toString()),a.show()}))}(document.getElementById(`${n}-mass-delete`),JSON.parse(e.dataset.deleteOptions))}))})();
//# sourceMappingURL=mass-action.min.js.map