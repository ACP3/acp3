!function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.delegateEvent=function(e,t,l,n){e.addEventListener(t,e=>{if("string"==typeof l){const t=document.querySelectorAll(l);if(!t)return;t.forEach(t=>{t&&t.contains(e.target)&&n(e,t)})}else l&&l.contains(e.target)&&n(e,l)})};var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMarkedResults=function(e,t){const l={checkBoxName:"",language:{confirmationTextSingle:"",confirmationTextMultiple:""},...t};e.addEventListener("click",t=>{t.preventDefault();const n=e.closest("table").querySelectorAll('input[name="'+l.checkBoxName+'[]"]:checked'),o=e.closest("form").querySelector(".js-mass-delete-modal"),a=bootstrap.Modal.getOrCreateInstance(o);o.querySelector(".modal-body").innerHTML=1===n.length?l.language.confirmationTextSingle:l.language.confirmationTextMultiple.replace("{items}",n.length.toString()),a.show()})},t.highlightAllTableRows=function(e,t){var l;null===(l=e.closest("table").querySelectorAll("tbody tr:not(.d-none):not(.sub-table-header)"))||void 0===l||l.forEach(e=>{e.dispatchEvent(new CustomEvent("click",{detail:t,bubbles:!0}))})},t.highlightTableRow=function(t,n){const o=t.closest("table"),a=t.dataset.checkboxName;(0,e.delegateEvent)(o,"click","tbody tr:not(.sub-table-header)",(e,o)=>{const c=e.detail;if("checkbox"!==e.target.type){if("A"===e.target.nodeName||e.target.closest("a"))return;const t=o.querySelector('input[name="'.concat(a,'[]"]'));t.checked=!t.checked||"add"===c}"add"===c?o.classList.add(l):o.classList.toggle(l),function(e,t,n){const o=e.closest("table").querySelector("tbody"),a=o.querySelectorAll("tr.".concat(l,":not(.d-none)")).length,c=o.querySelectorAll('tr:not(.d-none) input[name="'.concat(t,'[]"]')).length;e.indeterminate=a>0&&c!==a,e.checked=a>0&&c===a,n&&n.classList.toggle("d-none",0===a)}(t,a,n)})};const l="table-info";document.querySelectorAll("[data-mark-all-id]").forEach(e=>{const l=e.closest("table").id,n=document.getElementById("".concat(l,"-mass-delete-bar"));e.addEventListener("click",()=>(0,t.highlightAllTableRows)(e,e.checked?"add":"remove")),(0,t.highlightTableRow)(e,n),(0,t.deleteMarkedResults)(document.getElementById("".concat(l,"-mass-delete")),JSON.parse(e.dataset.deleteOptions))})}();
//# sourceMappingURL=mass-action.min.js.map
