(e=>{const a=e.getElementById("db-name"),d=e.querySelectorAll("#db-host, #db-user, #db-password"),t=a.dataset.availableDatabasesUrl;d.forEach(s=>{s.addEventListener("change",async()=>{a.disabled=!0;for(let e=1;e<a.children.length;++e)a.children[e].remove();d.forEach(e=>{e.classList.remove("is-invalid","is-valid")});const s=new FormData;s.append("db_host",e.getElementById("db-host").value),s.append("db_user",e.getElementById("db-user").value),s.append("db_password",e.getElementById("db-password").value);try{const e=await fetch(t,{method:"POST",body:s,headers:{"X-Requested-With":"XMLHttpRequest"}}),l=await e.json();if(l.length>0){for(let e=0;e<l.length;++e)a.insertAdjacentHTML("beforeend",'<option value="'+l[e]+'">'+l[e]+"</option>");d.forEach(e=>{e.classList.add("is-valid")})}else d.forEach(e=>{e.classList.add("is-invalid")})}finally{a.disabled=!1}})})})(document);
//# sourceMappingURL=available_databases.min.js.map
