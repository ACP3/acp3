{"version":3,"sources":["ACP3/Modules/ACP3/Installer/Resources/Assets/js/partials/node_modules/browser-pack-flat/_prelude","ACP3/Modules/ACP3/Installer/Resources/Assets/js/partials/ACP3/Modules/ACP3/Installer/Resources/Assets/js/partials/available_databases.js"],"names":["document","dbName","getElementById","formFields","querySelectorAll","ajaxUrl","dataset","availableDatabasesUrl","forEach","formField","addEventListener","regeneratorRuntime","mark","_callee","i","formData","response","responseData","_i","wrap","_context","prev","next","disabled","children","length","remove","classList","FormData","append","value","fetch","method","body","headers","X-Requested-With","sent","json","insertAdjacentHTML","add","finish","stop"],"mappings":"CAAA,qICKA,SAAEA,GACA,IAAMC,EAASD,EAASE,eAAe,WACjCC,EAAaH,EAASI,iBAAiB,oCACvCC,EAAUJ,EAAOK,QAAQC,sBAE/BJ,EAAWK,SAAQ,SAACC,SAClBA,EAAUC,iBAAiB,YAA3BC,mBAAAC,MAAqC,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,mBAAAQ,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAGnC,IAFArB,EAAOsB,UAAA,EAEET,EAAI,EAAGA,EAAIb,EAAOuB,SAASC,SAAUX,EAC5Cb,EAAOuB,SAASV,GAAGY,SAJc,OAOnCvB,EAAWK,SAAQ,SAACC,GAClBA,EAAUkB,UAAUD,OAAO,aAAc,gBAGrCX,EAAW,IAAIa,UACZC,OAAO,UAAW7B,EAASE,eAAe,WAAW4B,OAC9Df,EAASc,OAAO,UAAW7B,EAASE,eAAe,WAAW4B,OAC9Df,EAASc,OAAO,cAAe7B,EAASE,eAAe,eAAe4B,OAdnCV,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAiBVS,MAAM1B,EAAS,CACpC2B,OAAQ,OACRC,KAAMlB,EACNmB,QAAS,CACPC,mBAAoB,oBArBS,KAAA,GAAA,OAiB3BnB,EAjB2BI,EAAAgB,KAAAhB,EAAAE,KAAA,GAwBNN,EAASqB,OAxBH,KAAA,GA0BjC,IAFMpB,EAxB2BG,EAAAgB,MA0BhBX,OAAS,EAAG,CAC3B,IAASP,EAAI,EAAGA,EAAID,EAAaQ,SAAUP,EACzCjB,EAAOqC,mBACL,YACA,kBAAoBrB,EAAaC,GAAK,KAAOD,EAAaC,GAAK,aAInEf,EAAWK,SAAQ,SAACC,GAClBA,EAAUkB,UAAUY,IAAI,oBAG1BpC,EAAWK,SAAQ,SAACC,GAClBA,EAAUkB,UAAUY,IAAI,iBAvCK,KAAA,GAAA,OAAAnB,EAAAC,KAAA,GA2CjCpB,EAAOsB,UAAA,EA3C0BH,EAAAoB,OAAA,IAAA,KAAA,GAAA,IAAA,MAAA,OAAApB,EAAAqB,UAAA5B,EAAA,KAAA,CAAA,CAAA,EAAA,CAAA,GAAA,4LANzC,CAqDGb,UD1DH","sourcesContent":["(function(){\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\n((document) => {\n  const dbName = document.getElementById(\"db-name\");\n  const formFields = document.querySelectorAll(\"#db-host, #db-user, #db-password\");\n  const ajaxUrl = dbName.dataset.availableDatabasesUrl;\n\n  formFields.forEach((formField) => {\n    formField.addEventListener(\"change\", async () => {\n      dbName.disabled = true;\n\n      for (let i = 1; i < dbName.children.length; ++i) {\n        dbName.children[i].remove();\n      }\n\n      formFields.forEach((formField) => {\n        formField.classList.remove(\"is-invalid\", \"is-valid\");\n      });\n\n      const formData = new FormData();\n      formData.append(\"db_host\", document.getElementById(\"db-host\").value);\n      formData.append(\"db_user\", document.getElementById(\"db-user\").value);\n      formData.append(\"db_password\", document.getElementById(\"db-password\").value);\n\n      try {\n        const response = await fetch(ajaxUrl, {\n          method: \"POST\",\n          body: formData,\n          headers: {\n            \"X-Requested-With\": \"XMLHttpRequest\",\n          },\n        });\n        const responseData = await response.json();\n\n        if (responseData.length > 0) {\n          for (let i = 0; i < responseData.length; ++i) {\n            dbName.insertAdjacentHTML(\n              \"beforeend\",\n              '<option value=\"' + responseData[i] + '\">' + responseData[i] + \"</option>\"\n            );\n          }\n\n          formFields.forEach((formField) => {\n            formField.classList.add(\"is-valid\");\n          });\n        } else {\n          formFields.forEach((formField) => {\n            formField.classList.add(\"is-invalid\");\n          });\n        }\n      } finally {\n        dbName.disabled = false;\n      }\n    });\n  });\n})(document);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIkFDUDMvTW9kdWxlcy9BQ1AzL0luc3RhbGxlci9SZXNvdXJjZXMvQXNzZXRzL2pzL3BhcnRpYWxzL2F2YWlsYWJsZV9kYXRhYmFzZXMuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJkYk5hbWUiLCJnZXRFbGVtZW50QnlJZCIsImZvcm1GaWVsZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWpheFVybCIsImRhdGFzZXQiLCJhdmFpbGFibGVEYXRhYmFzZXNVcmwiLCJmb3JFYWNoIiwiZm9ybUZpZWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwiaSIsImZvcm1EYXRhIiwicmVzcG9uc2UiLCJyZXNwb25zZURhdGEiLCJfaSIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiZGlzYWJsZWQiLCJjaGlsZHJlbiIsImxlbmd0aCIsInJlbW92ZSIsImNsYXNzTGlzdCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidmFsdWUiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJoZWFkZXJzIiwiWC1SZXF1ZXN0ZWQtV2l0aCIsInNlbnQiLCJqc29uIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiYWRkIiwiZmluaXNoIiwic3RvcCJdLCJtYXBwaW5ncyI6IkNBQUEscUlDS0EsU0FBRUEsR0FDQSxJQUFNQyxFQUFTRCxFQUFTRSxlQUFlLFdBQ2pDQyxFQUFhSCxFQUFTSSxpQkFBaUIsb0NBQ3ZDQyxFQUFVSixFQUFPSyxRQUFRQyxzQkFFL0JKLEVBQVdLLFNBQVEsU0FBQ0MsU0FDbEJBLEVBQVVDLGlCQUFpQixZQUEzQkMsbUJBQUFDLE1BQXFDLFNBQUFDLElBQUEsSUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQSxPQUFBUCxtQkFBQVEsTUFBQSxTQUFBQyxHQUFBLE9BQUEsT0FBQUEsRUFBQUMsS0FBQUQsRUFBQUUsTUFBQSxLQUFBLEVBR25DLElBRkFyQixFQUFPc0IsVUFBQSxFQUVFVCxFQUFJLEVBQUdBLEVBQUliLEVBQU91QixTQUFTQyxTQUFVWCxFQUM1Q2IsRUFBT3VCLFNBQVNWLEdBQUdZLFNBSmMsT0FPbkN2QixFQUFXSyxTQUFRLFNBQUNDLEdBQ2xCQSxFQUFVa0IsVUFBVUQsT0FBTyxhQUFjLGdCQUdyQ1gsRUFBVyxJQUFJYSxVQUNaQyxPQUFPLFVBQVc3QixFQUFTRSxlQUFlLFdBQVc0QixPQUM5RGYsRUFBU2MsT0FBTyxVQUFXN0IsRUFBU0UsZUFBZSxXQUFXNEIsT0FDOURmLEVBQVNjLE9BQU8sY0FBZTdCLEVBQVNFLGVBQWUsZUFBZTRCLE9BZG5DVixFQUFBQyxLQUFBLEVBQUFELEVBQUFFLEtBQUEsR0FpQlZTLE1BQU0xQixFQUFTLENBQ3BDMkIsT0FBUSxPQUNSQyxLQUFNbEIsRUFDTm1CLFFBQVMsQ0FDUEMsbUJBQW9CLG9CQXJCUyxLQUFBLEdBQUEsT0FpQjNCbkIsRUFqQjJCSSxFQUFBZ0IsS0FBQWhCLEVBQUFFLEtBQUEsR0F3Qk5OLEVBQVNxQixPQXhCSCxLQUFBLEdBMEJqQyxJQUZNcEIsRUF4QjJCRyxFQUFBZ0IsTUEwQmhCWCxPQUFTLEVBQUcsQ0FDM0IsSUFBU1AsRUFBSSxFQUFHQSxFQUFJRCxFQUFhUSxTQUFVUCxFQUN6Q2pCLEVBQU9xQyxtQkFDTCxZQUNBLGtCQUFvQnJCLEVBQWFDLEdBQUssS0FBT0QsRUFBYUMsR0FBSyxhQUluRWYsRUFBV0ssU0FBUSxTQUFDQyxHQUNsQkEsRUFBVWtCLFVBQVVZLElBQUksb0JBRzFCcEMsRUFBV0ssU0FBUSxTQUFDQyxHQUNsQkEsRUFBVWtCLFVBQVVZLElBQUksaUJBdkNLLEtBQUEsR0FBQSxPQUFBbkIsRUFBQUMsS0FBQSxHQTJDakNwQixFQUFPc0IsVUFBQSxFQTNDMEJILEVBQUFvQixPQUFBLElBQUEsS0FBQSxHQUFBLElBQUEsTUFBQSxPQUFBcEIsRUFBQXFCLFVBQUE1QixFQUFBLEtBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxHQUFBLDRMQU56QyxDQXFER2IsVUQxREgiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIGJ5IHRoZSBBQ1AzIERldmVsb3BlcnMuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBhdCB0aGUgdG9wLWxldmVsIG1vZHVsZSBkaXJlY3RvcnkgZm9yIGxpY2VuY2luZyBkZXRhaWxzLlxuICovXG5cbigoZG9jdW1lbnQpID0+IHtcbiAgY29uc3QgZGJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYi1uYW1lXCIpO1xuICBjb25zdCBmb3JtRmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNkYi1ob3N0LCAjZGItdXNlciwgI2RiLXBhc3N3b3JkXCIpO1xuICBjb25zdCBhamF4VXJsID0gZGJOYW1lLmRhdGFzZXQuYXZhaWxhYmxlRGF0YWJhc2VzVXJsO1xuXG4gIGZvcm1GaWVsZHMuZm9yRWFjaCgoZm9ybUZpZWxkKSA9PiB7XG4gICAgZm9ybUZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgZGJOYW1lLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBkYk5hbWUuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGJOYW1lLmNoaWxkcmVuW2ldLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICBmb3JtRmllbGRzLmZvckVhY2goKGZvcm1GaWVsZCkgPT4ge1xuICAgICAgICBmb3JtRmllbGQuY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIiwgXCJpcy12YWxpZFwiKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiZGJfaG9zdFwiLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRiLWhvc3RcIikudmFsdWUpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiZGJfdXNlclwiLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRiLXVzZXJcIikudmFsdWUpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiZGJfcGFzc3dvcmRcIiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYi1wYXNzd29yZFwiKS52YWx1ZSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWpheFVybCwge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJYLVJlcXVlc3RlZC1XaXRoXCI6IFwiWE1MSHR0cFJlcXVlc3RcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZURhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2VEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBkYk5hbWUuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgICAgICAgICBcImJlZm9yZWVuZFwiLFxuICAgICAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIicgKyByZXNwb25zZURhdGFbaV0gKyAnXCI+JyArIHJlc3BvbnNlRGF0YVtpXSArIFwiPC9vcHRpb24+XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9ybUZpZWxkcy5mb3JFYWNoKChmb3JtRmllbGQpID0+IHtcbiAgICAgICAgICAgIGZvcm1GaWVsZC5jbGFzc0xpc3QuYWRkKFwiaXMtdmFsaWRcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9ybUZpZWxkcy5mb3JFYWNoKChmb3JtRmllbGQpID0+IHtcbiAgICAgICAgICAgIGZvcm1GaWVsZC5jbGFzc0xpc3QuYWRkKFwiaXMtaW52YWxpZFwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZGJOYW1lLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSkoZG9jdW1lbnQpO1xuIl19","file":"available_databases.min.js"}