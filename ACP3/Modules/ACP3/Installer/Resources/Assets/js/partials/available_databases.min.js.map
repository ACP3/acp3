{"version":3,"sources":["ACP3/Modules/ACP3/Installer/Resources/Assets/js/partials/available_databases.js"],"names":["$","$dbName","$formFields","$formGroup","closest","ajaxUrl","data","on","prop","find","not","remove","removeClass","post","val","response","length","i","append","addClass","always","triggerHandler","jQuery"],"mappings":"aAAA;AACA;AACA;AACA,GACA,CAAC,SAACA,CAAD,CAAO,CACJ,GAAMC,CAAAA,CAAO,CAAGD,CAAC,CAAC,UAAD,CAAjB,CACIE,CAAW,CAAGF,CAAC,CAAC,kCAAD,CADnB,CAEIG,CAAU,CAAGD,CAAW,CAACE,OAAZ,CAAoB,aAApB,CAFjB,CAGIC,CAAO,CAAGJ,CAAO,CAACK,IAAR,CAAa,yBAAb,CAHd,CAKAJ,CAAW,CAACK,EAAZ,CAAe,QAAf,CAAyB,UAAM,CAC3BN,CAAO,CACFO,IADL,CACU,UADV,KAEKC,IAFL,CAEU,QAFV,EAEoBC,GAFpB,CAEwB,QAFxB,EAEkCC,MAFlC,EAD2B,CAI3BR,CAAU,CACLS,WADL,CACiB,aADjB,EAEKA,WAFL,CAEiB,WAFjB,CAJ2B,CAQ3BZ,CAAC,CAACa,IAAF,CACIR,CADJ,CAEI,CACI,QAAWL,CAAC,CAAC,UAAD,CAAD,CAAcc,GAAd,EADf,CAEI,QAAWd,CAAC,CAAC,UAAD,CAAD,CAAcc,GAAd,EAFf,CAGI,YAAed,CAAC,CAAC,cAAD,CAAD,CAAkBc,GAAlB,EAHnB,CAFJ,CAOI,SAAUC,CAAV,CAAoB,CAChB,GAAsB,CAAlB,CAAAA,CAAQ,CAACC,MAAb,CAAyB,CACrB,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,CAAQ,CAACC,MAA7B,CAAqC,EAAEC,CAAvC,CACIhB,CAAO,CAACiB,MAAR,CAAe,mBAAoBH,CAAQ,CAACE,CAAD,CAA5B,CAAkC,KAAlC,CAAyCF,CAAQ,CAACE,CAAD,CAAjD,CAAuD,WAAtE,EAGJd,CAAU,CAACgB,QAAX,CAAoB,aAApB,CACH,CAND,IAOIhB,CAAAA,CAAU,CAACgB,QAAX,CAAoB,WAApB,CAEP,CAjBL,EAkBEC,MAlBF,CAkBS,UAAW,CAChBnB,CAAO,CAACO,IAAR,CAAa,UAAb,IACH,CApBD,CAqBH,CA7BD,EA6BGa,cA7BH,CA6BkB,QA7BlB,CA8BH,CApCD,EAoCGC,MApCH,C","sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n(($) => {\n    const $dbName = $('#db-name'),\n        $formFields = $('#db-host, #db-user, #db-password'),\n        $formGroup = $formFields.closest('.form-group'),\n        ajaxUrl = $dbName.data('available-databases-url');\n\n    $formFields.on('change', () => {\n        $dbName\n            .prop('disabled', true)\n            .find('option').not(':first').remove();\n        $formGroup\n            .removeClass('has-success')\n            .removeClass('has-error');\n\n        $.post(\n            ajaxUrl,\n            {\n                'db_host': $('#db-host').val(),\n                'db_user': $('#db-user').val(),\n                'db_password': $('#db-password').val()\n            },\n            function (response) {\n                if (response.length > 0) {\n                    for (let i = 0; i < response.length; ++i) {\n                        $dbName.append('<option value=\"' + response[i] + '\">' + response[i] + '</option>');\n                    }\n\n                    $formGroup.addClass('has-success');\n                } else {\n                    $formGroup.addClass('has-error');\n                }\n            }\n        ).always(function() {\n            $dbName.prop('disabled', false);\n        });\n    }).triggerHandler('change');\n})(jQuery);\n"],"file":"available_databases.min.js"}