imports:
  - { resource: components/*.yml }

parameters:
  cache_driver: 'Array'

services:
  core.environment.theme:
    class: ACP3\Installer\Core\Environment\Theme
    arguments:
      - '@core.environment.application_path'

  core.router:
    class: ACP3\Installer\Core\Router\Router
    arguments:
      - '@core.http.request'
      - '@core.environment.application_path'

  core.session:
    class: ACP3\Installer\Core\Session\SessionHandler

  core.view.renderer.smarty.smarty_configurator:
    class: ACP3\Installer\Core\View\Renderer\Smarty\SmartyConfigurator
    arguments:
      - '%core.environment%'

  system.model.settingsrepository:
    class: ACP3\Installer\Core\Repository\SettingsRepository

  smarty.resource.asset:
    class: ACP3\Installer\Core\View\Renderer\Smarty\Resources\Asset
    arguments:
      - '@core.assets.file_resolver'
    tags:
      - { name: smarty.plugin.resource, pluginName: asset }

  smarty.filter.move_to_bottom:
    class: ACP3\Installer\Core\View\Renderer\Smarty\Filters\MoveToBottom
    tags:
      - { name: smarty.plugin.filter, filterType: output }

  smarty.filter.move_to_head:
    class: ACP3\Installer\Core\View\Renderer\Smarty\Filters\MoveToHead
    tags:
      - { name: smarty.plugin.filter, filterType: output }

  smarty.filter.page_css_classes:
    class: ACP3\Installer\Core\View\Renderer\Smarty\Filters\PageCssClasses
    arguments:
      - '@core.http.request'
    tags:
      - { name: smarty.plugin.filter, filterType: output }
