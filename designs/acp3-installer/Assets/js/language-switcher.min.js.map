{"version":3,"sources":["designs/acp3-installer/Assets/js/language-switcher.js"],"names":["LanguageSwitcher","languageSwitcherFormName","document","getElementById","querySelector","classList","add","querySelectorAll","forEach","elem","addEventListener","event","target","form","id","canSubmitForm","confirm","dataset","changeLanguageWarning","submit","languageSwitcher","init"],"mappings":"2oCAKMA,gB,yBAKF,WAAYC,CAAZ,CAAsC,kUAClC,IADkC,2BACDA,CADC,wBAElC,IAFkC,uBAELC,QAAQ,CAACC,cAAT,CAAwBF,CAAxB,CAFK,CAGrC,C,wDAEM,wBACH,IADG,4CACH,IADG,yBAEH,IAFG,sEAEH,IAFG,yBAGH,IAHG,gEAGH,IAHG,CAIN,C,sCAEmB,CAChB,kDAA2BG,aAA3B,CAAyC,MAAzC,EAAiDC,SAAjD,CAA2DC,GAA3D,CAA+D,QAA/D,CACH,C,2CAEgC,YAC7BJ,QAAQ,CAACK,gBAAT,CAA0B,yBAA1B,EAAqDC,OAArD,CAA6D,SAACC,CAAD,CAAU,CACnEA,CAAI,CAACC,gBAAL,CAAsB,QAAtB,CAAgC,SAACC,CAAD,CAAW,CACV,WAAzB,GAAAA,CAAK,CAACC,MAAN,CAAaC,IAAb,CAAkBC,EADiB,wBAKvC,CALuC,iBAM1C,CAND,CAOH,CARD,CASH,C,wCAE6B,YAC1BZ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCO,gBAAhC,CAAiD,QAAjD,CAA2D,SAACC,CAAD,CAAW,CAClE,GAAII,CAAAA,CAAa,GAAjB,CAEI,2BAAA,CAAI,cAH0D,GAI9DA,CAAa,CAAGC,OAAO,CAACL,CAAK,CAACC,MAAN,CAAaK,OAAb,CAAqBC,qBAAtB,CAJuC,EAO9D,KAAAH,CAP8D,EAQ9D,sBAAA,CAAI,uBAAJ,CAA2BI,MAA3B,EAEP,CAVD,CAWH,C,CAGL,CAAC,UAAM,CACH,GAAMC,CAAAA,CAAgB,CAAG,GAAIpB,CAAAA,gBAAJ,CAAqB,WAArB,CAAzB,CACAoB,CAAgB,CAACC,IAAjB,EACH,CAHD,G","sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\nclass LanguageSwitcher {\n    #languageSwitcherFormName;\n    #languageSwitcherForm;\n    #mustConfirm = false;\n\n    constructor(languageSwitcherFormName) {\n        this.#languageSwitcherFormName = languageSwitcherFormName;\n        this.#languageSwitcherForm = document.getElementById(languageSwitcherFormName);\n    }\n\n    init() {\n        this.#hideSubmitButton();\n        this.#bindFormValuesChangesListener();\n        this.#bindLanguageChangeListener();\n    }\n\n    #hideSubmitButton() {\n        this.#languageSwitcherForm.querySelector('.btn').classList.add('hidden');\n    }\n\n    #bindFormValuesChangesListener() {\n        document.querySelectorAll('input, textarea, select').forEach((elem) => {\n            elem.addEventListener('change', (event) => {\n                if (event.target.form.id === 'languages') {\n                    return;\n                }\n\n                this.#mustConfirm = true;\n            });\n        });\n    }\n\n    #bindLanguageChangeListener() {\n        document.getElementById('lang').addEventListener('change', (event) => {\n            let canSubmitForm = true;\n\n            if (this.#mustConfirm === true) {\n                canSubmitForm = confirm(event.target.dataset.changeLanguageWarning);\n            }\n\n            if (canSubmitForm === true) {\n                this.#languageSwitcherForm.submit();\n            }\n        });\n    }\n}\n\n(() => {\n    const languageSwitcher = new LanguageSwitcher('languages');\n    languageSwitcher.init();\n})();\n"],"file":"designs\\acp3-installer\\Assets\\js\\language-switcher.min.js"}