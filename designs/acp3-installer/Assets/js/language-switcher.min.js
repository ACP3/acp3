"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _classPrivateFieldGet(a,b){var c=b.get(a);if(!c)throw new TypeError("attempted to get private field on non-instance");return c.get?c.get.call(a):c.value}function _classPrivateMethodGet(a,b,c){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return c}function _classPrivateFieldSet(a,b,c){var d=b.get(a);if(!d)throw new TypeError("attempted to set private field on non-instance");if(d.set)d.set.call(a,c);else{if(!d.writable)throw new TypeError("attempted to set read only private field");d.value=c}return c}var _languageSwitcherFormName=new WeakMap,_languageSwitcherForm=new WeakMap,_mustConfirm=new WeakMap,_hideSubmitButton=new WeakSet,_bindFormValuesChangesListener=new WeakSet,_bindLanguageChangeListener=new WeakSet,LanguageSwitcher=/*#__PURE__*/function(){function a(b){_classCallCheck(this,a),_bindLanguageChangeListener.add(this),_bindFormValuesChangesListener.add(this),_hideSubmitButton.add(this),_languageSwitcherFormName.set(this,{writable:!0,value:void 0}),_languageSwitcherForm.set(this,{writable:!0,value:void 0}),_mustConfirm.set(this,{writable:!0,value:!1}),_classPrivateFieldSet(this,_languageSwitcherFormName,b),_classPrivateFieldSet(this,_languageSwitcherForm,document.getElementById(b))}return _createClass(a,[{key:"init",value:function init(){_classPrivateMethodGet(this,_hideSubmitButton,_hideSubmitButton2).call(this),_classPrivateMethodGet(this,_bindFormValuesChangesListener,_bindFormValuesChangesListener2).call(this),_classPrivateMethodGet(this,_bindLanguageChangeListener,_bindLanguageChangeListener2).call(this)}}]),a}(),_hideSubmitButton2=function(){_classPrivateFieldGet(this,_languageSwitcherForm).querySelector(".btn").classList.add("hidden")},_bindFormValuesChangesListener2=function(){var a=this;document.querySelectorAll("input, textarea, select").forEach(function(b){b.addEventListener("change",function(b){"languages"===b.target.form.id||_classPrivateFieldSet(a,_mustConfirm,!0)})})},_bindLanguageChangeListener2=function(){var a=this;document.getElementById("lang").addEventListener("change",function(b){var c=!0;!0===_classPrivateFieldGet(a,_mustConfirm)&&(c=confirm(b.target.dataset.changeLanguageWarning)),!0===c&&_classPrivateFieldGet(a,_languageSwitcherForm).submit()})};(function(){var a=new LanguageSwitcher("languages");a.init()})();
//# sourceMappingURL=language-switcher.min.js.map