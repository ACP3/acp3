{"version":3,"file":"./designs/acp3-installer/System/Assets/js/language-switcher.min.js","mappings":"+xBAKe,MAAMA,EAKnBC,YAAYC,GAA0B,qIAFvB,IAGb,EAAAC,KAAA,EAAiCD,GACjC,EAAAC,KAAA,EAA6BC,SAASC,eAAeH,GACtD,CAEDI,OACE,EAAAH,KAAA,UAAAA,MACA,EAAAA,KAAA,UAAAA,MACA,EAAAA,KAAA,UAAAA,KACD,E,aAGC,EAAAA,KAAA,GAA2BI,cAAc,QAAQC,UAAUC,IAAI,SAChE,C,aAGCL,SAASM,iBAAiB,2BAA2BC,SAASC,IAC5DA,EAAKC,iBAAiB,UAAWC,IACF,cAAzBA,EAAMC,OAAOC,KAAKC,IAItB,EAAAd,KAAA,GAAoB,EAApB,GALF,GAQH,C,aAGCC,SAASC,eAAe,QAAQQ,iBAAiB,UAAWC,IAC1D,IAAII,GAAgB,GAEM,IAAtB,EAAAf,KAAA,KACFe,EAAgBC,QAAQL,EAAMC,OAAOK,QAAQC,yBAGzB,IAAlBH,GACF,EAAAf,KAAA,GAA2BmB,QAC5B,GAEJ,CCzCwB,IAAItB,EAAiB,aAC7BM,M","sources":["webpack://acp3-cms/./designs/acp3-installer/System/Assets/js/lib/language-switcher.js","webpack://acp3-cms/./designs/acp3-installer/System/Assets/js/language-switcher.js"],"sourcesContent":["/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licensing details.\n */\n\nexport default class LanguageSwitcher {\n  #languageSwitcherFormName;\n  #languageSwitcherForm;\n  #mustConfirm = false;\n\n  constructor(languageSwitcherFormName) {\n    this.#languageSwitcherFormName = languageSwitcherFormName;\n    this.#languageSwitcherForm = document.getElementById(languageSwitcherFormName);\n  }\n\n  init() {\n    this.#hideSubmitButton();\n    this.#bindFormValuesChangesListener();\n    this.#bindLanguageChangeListener();\n  }\n\n  #hideSubmitButton() {\n    this.#languageSwitcherForm.querySelector(\".btn\").classList.add(\"d-none\");\n  }\n\n  #bindFormValuesChangesListener() {\n    document.querySelectorAll(\"input, textarea, select\").forEach((elem) => {\n      elem.addEventListener(\"change\", (event) => {\n        if (event.target.form.id === \"languages\") {\n          return;\n        }\n\n        this.#mustConfirm = true;\n      });\n    });\n  }\n\n  #bindLanguageChangeListener() {\n    document.getElementById(\"lang\").addEventListener(\"change\", (event) => {\n      let canSubmitForm = true;\n\n      if (this.#mustConfirm === true) {\n        canSubmitForm = confirm(event.target.dataset.changeLanguageWarning);\n      }\n\n      if (canSubmitForm === true) {\n        this.#languageSwitcherForm.submit();\n      }\n    });\n  }\n}\n","/*\n * Copyright (c) by the ACP3 Developers.\n * See the LICENSE file at the top-level module directory for licencing details.\n */\n\nimport LanguageSwitcher from \"./lib/language-switcher\";\n\n(() => {\n  const languageSwitcher = new LanguageSwitcher(\"languages\");\n  languageSwitcher.init();\n})();\n"],"names":["LanguageSwitcher","constructor","languageSwitcherFormName","this","document","getElementById","init","querySelector","classList","add","querySelectorAll","forEach","elem","addEventListener","event","target","form","id","canSubmitForm","confirm","dataset","changeLanguageWarning","submit"],"sourceRoot":""}